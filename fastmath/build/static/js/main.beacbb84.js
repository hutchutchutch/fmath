/*! For license information please see main.beacbb84.js.LICENSE.txt */
(()=>{var e={3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>se});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),s=Math.abs,i=String.fromCharCode,o=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,y=0,v=0,x=0,b="";function w(e,t,n,r,s,i,o){return{value:e,root:t,parent:n,type:r,props:s,children:i,line:m,column:g,length:o,return:""}}function S(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return x=v>0?u(b,--v):0,g--,10===x&&(g=1,m--),x}function _(){return x=v<y?u(b,v++):0,g++,10===x&&(g=1,m++),x}function j(){return u(b,v)}function T(){return v}function C(e,t){return d(b,e,t)}function E(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(e){return m=g=1,y=h(b=e),v=0,[]}function A(e){return b="",e}function P(e){return a(C(v-1,R(91===e?e+2:40===e?e+1:e)))}function M(e){for(;(x=j())&&x<33;)_();return E(e)>2||E(x)>3?"":" "}function I(e,t){for(;--t&&_()&&!(x<48||x>102||x>57&&x<65||x>70&&x<97););return C(e,T()+(t<6&&32==j()&&32==_()))}function R(e){for(;_();)switch(x){case e:return v;case 34:case 39:34!==e&&39!==e&&R(x);break;case 40:41===e&&R(e);break;case 92:_()}return v}function O(e,t){for(;_()&&e+x!==57&&(e+x!==84||47!==j()););return"/*"+C(t,v-1)+"*"+i(47===e?e:_())}function D(e){for(;!E(j());)_();return C(e,v)}var L="-ms-",F="-moz-",z="-webkit-",$="comm",B="rule",U="decl",W="@keyframes";function H(e,t){for(var n="",r=p(e),s=0;s<r;s++)n+=t(e[s],s,e,t)||"";return n}function V(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case U:return e.return=e.return||e.value;case $:return"";case W:return e.return=e.value+"{"+H(e.children,r)+"}";case B:e.value=e.props.join(",")}return h(n=H(e.children,r))?e.return=e.value+"{"+n+"}":""}function q(e){return A(K("",null,null,null,[""],e=N(e),0,[0],e))}function K(e,t,n,r,s,o,a,d,p){for(var m=0,g=0,y=a,v=0,x=0,b=0,w=1,S=1,C=1,E=0,N="",A=s,R=o,L=r,F=N;S;)switch(b=E,E=_()){case 40:if(108!=b&&58==u(F,y-1)){-1!=c(F+=l(P(E),"&","&\f"),"&\f")&&(C=-1);break}case 34:case 39:case 91:F+=P(E);break;case 9:case 10:case 13:case 32:F+=M(b);break;case 92:F+=I(T()-1,7);continue;case 47:switch(j()){case 42:case 47:f(Y(O(_(),T()),t,n),p);break;default:F+="/"}break;case 123*w:d[m++]=h(F)*C;case 125*w:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+g:-1==C&&(F=l(F,/\f/g,"")),x>0&&h(F)-y&&f(x>32?G(F+";",r,n,y-1):G(l(F," ","")+";",r,n,y-2),p);break;case 59:F+=";";default:if(f(L=Q(F,t,n,m,g,s,d,N,A=[],R=[],y),o),123===E)if(0===g)K(F,t,L,L,A,o,y,d,R);else switch(99===v&&110===u(F,3)?100:v){case 100:case 108:case 109:case 115:K(e,L,L,r&&f(Q(e,L,L,0,0,s,d,N,s,A=[],y),R),s,R,y,d,r?A:R);break;default:K(F,L,L,L,[""],R,0,d,R)}}m=g=x=0,w=C=1,N=F="",y=a;break;case 58:y=1+h(F),x=b;default:if(w<1)if(123==E)--w;else if(125==E&&0==w++&&125==k())continue;switch(F+=i(E),E*w){case 38:C=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*C,C=1;break;case 64:45===j()&&(F+=P(_())),v=j(),g=y=h(N=F+=D(T())),E++;break;case 45:45===b&&2==h(F)&&(w=0)}}return o}function Q(e,t,n,r,i,o,c,u,h,f,m){for(var g=i-1,y=0===i?o:[""],v=p(y),x=0,b=0,S=0;x<r;++x)for(var k=0,_=d(e,g+1,g=s(b=c[x])),j=e;k<v;++k)(j=a(b>0?y[k]+" "+_:l(_,/&\f/g,y[k])))&&(h[S++]=j);return w(e,t,n,0===i?B:u,h,f,m)}function Y(e,t,n){return w(e,t,n,$,i(x),d(e,2,-2),0)}function G(e,t,n,r){return w(e,t,n,U,d(e,0,r),d(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,s=0;r=s,s=j(),38===r&&12===s&&(t[n]=1),!E(s);)_();return C(e,v)},J=function(e,t){return A(function(e,t){var n=-1,r=44;do{switch(E(r)){case 0:38===r&&12===j()&&(t[n]=1),e[n]+=X(v-1,t,n);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===j()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=_());return e}(N(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var s=[],i=J(t,s),o=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<o.length;c++,l++)e.props[l]=s[a]?i[a].replace(/&\f/g,o[c]):o[c]+" "+i[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+F+e+L+e+e;case 6828:case 4268:return z+e+L+e+e;case 6165:return z+e+L+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+L+"flex-$1$2")+e;case 5443:return z+e+L+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+L+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+L+l(e,"shrink","negative")+e;case 5292:return z+e+L+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+L+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+L+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+L+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+L+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=ne(e.value,e.length);break;case W:return H([S(e,{value:l(e.value,"@","@"+z)})],r);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return H([S(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,L+"input-$1")]})],r)}return""}))}}],se=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var s,i,o=e.stylisPlugins||re,a={},l=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[V,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,s,i){for(var o="",a=0;a<t;a++)o+=e[a](n,r,s,i)||"";return o}}([ee,te].concat(o,d));i=function(e,t,n,r){c=n,H(q(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return f.sheet.hydrate(l),f}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},4575:(e,t,n)=>{"use strict";n.d(t,{C:()=>o,T:()=>l,w:()=>a});var r=n(5043),s=n(3803),i=(n(6598),n(9436),r.createContext("undefined"!==typeof HTMLElement?(0,s.A)({key:"css"}):null)),o=i.Provider,a=function(e){return(0,r.forwardRef)((function(t,n){var s=(0,r.useContext)(i);return e(t,s,n)}))},l=r.createContext({})},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(4575),s=n(5043),i=n(1722),o=n(9436),a=n(6598),l=(n(3803),n(219),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,s.useContext(r.T)),c=s.useRef();return(0,o.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,s=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==s&&(r=!0,s.setAttribute("data-emotion",e),n.hydrate([s])),c.current=[n,r],function(){n.flush()}}),[t]),(0,o.i)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},s=n(918),i=!1,o=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,s.A)((function(e){return l(e)?e:e.replace(o,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},h="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function p(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var s=n;if(1===s.anim)return f={name:s.name,styles:s.styles,next:f},s.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)f={name:a.name,styles:a.styles,next:f},a=a.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=p(e,t,n[s])+";";else for(var o in n){var a=n[o];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?r+=o+"{"+t[l]+"}":c(l)&&(r+=u(o)+":"+d(o,l)+";")}else{if("NO_COMPONENT_SELECTOR"===o&&i)throw new Error(h);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var f=p(e,t,a);switch(o){case"animation":case"animationName":r+=u(o)+":"+f+";";break;default:r+=o+"{"+f+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(r+=u(o)+":"+d(o,a[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,p(e,t,m)}}var g=n;if(null==t)return g;var y=t[g];return void 0!==y?y:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,s="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,s+=p(n,t,i)):s+=i[0];for(var o=1;o<e.length;o++){if(s+=p(n,t,e[o]),r)s+=i[o]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(s));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,s=e.length;s>=4;++r,s-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(s){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(s)+l;return{name:c,styles:s,next:f}}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>o});var s=n(5043),i=!!(r||(r=n.t(s,2))).useInsertionEffect&&(r||(r=n.t(s,2))).useInsertionEffect,o=i||function(e){return e()},a=i||s.useLayoutEffect},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>s,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var s=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){s(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},7030:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var s=r(n(39)),i=n(579);t.A=(0,s.default)((0,i.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined")},39:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4853)},7786:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var r=n(5043),s=n(8168);function i(e,t){const n=(0,s.A)({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,s.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?o&&Object.keys(o)?(n[r]=(0,s.A)({},a),Object.keys(o).forEach((e=>{n[r][e]=i(o[e],a[e])}))):n[r]=a:n[r]=o}else void 0===n[r]&&(n[r]=e[r])})),n}n(579);const o=r.createContext(void 0);function a(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const s=t.components[n];return s.defaultProps?i(s.defaultProps,r):s.styleOverrides||s.variants?r:i(s,r)}({props:t,name:n,theme:{components:r.useContext(o)}})}function l(e){return a(e)}},7200:(e,t,n)=>{"use strict";n.d(t,{A:()=>z});var r=n(8168),s=n(8587),i=n(7868),o=n(9172),a=n(7758),l=n(8812),c=n(8280);var u=n(7266);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},x=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,r){const s=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.a)(e.main,s):"dark"===t&&(e.dark=(0,u.e$)(e.main,i)))}function k(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,s.A)(e,x),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),k=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(t),_=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),j=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(t),T=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[800],light:v[500],dark:v[900]}}(t),C=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function E(e){return(0,u.eM)(e,w.text.primary)>=n?w.text.primary:b.text.primary}const N=e=>{let{color:t,name:n,mainShade:s=500,lightShade:o=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[s]&&(t.main=t[s]),!t.hasOwnProperty("main"))throw new Error((0,i.A)(11,n?` (${n})`:"",s));if("string"!==typeof t.main)throw new Error((0,i.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return S(t,"light",o,a),S(t,"dark",l,a),t.contrastText||(t.contrastText=E(t.main)),t},A={dark:w,light:b};return(0,o.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:N({color:c,name:"primary"}),secondary:N({color:k,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:_,name:"error"}),warning:N({color:C,name:"warning"}),info:N({color:j,name:"info"}),success:N({color:T,name:"success"}),grey:h,contrastThreshold:n,getContrastText:E,augmentColor:N,tonalOffset:a},A[t]),l)}const _=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const j={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=T,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:p,pxToRem:f}=n,m=(0,s.A)(n,_);const g=a/14,y=f||(e=>e/h*g+"rem"),v=(e,t,n,s,o)=>{return(0,r.A)({fontFamily:i,fontWeight:e,fontSize:y(t),lineHeight:n},i===T?{letterSpacing:(a=s/t,Math.round(1e5*a)/1e5)+"em"}:{},o,p);var a},x={h1:v(l,96,1.167,-1.5),h2:v(l,60,1.2,-.5),h3:v(c,48,1.167,0),h4:v(c,34,1.235,.25),h5:v(c,24,1.334,0),h6:v(u,20,1.6,.15),subtitle1:v(c,16,1.75,.15),subtitle2:v(u,14,1.57,.1),body1:v(c,16,1.5,.15),body2:v(c,14,1.43,.15),button:v(u,14,1.75,.4,j),caption:v(c,12,1.66,.4),overline:v(c,12,2.66,1,j),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.A)((0,r.A)({htmlFontSize:h,pxToRem:y,fontFamily:i,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},x),m,{clone:!1})}function E(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const N=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)],A=["duration","easing","delay"],P={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},M={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function I(e){return`${Math.round(e)}ms`}function R(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function O(e){const t=(0,r.A)({},P,e.easing),n=(0,r.A)({},M,e.duration);return(0,r.A)({getAutoHeightDuration:R,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;(0,s.A)(r,A);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:I(i)} ${o} ${"string"===typeof a?a:I(a)}`)).join(",")}},e,{easing:t,duration:n})}const D={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},L=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,s.A)(e,L);if(e.vars)throw new Error((0,i.A)(18));const p=k(n),f=(0,c.A)(e);let m=(0,o.A)(f,{mixins:(g=f.breakpoints,y=t,(0,r.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},y)),palette:p,shadows:N.slice(),typography:C(p,d),transitions:O(u),zIndex:(0,r.A)({},D)});var g,y;m=(0,o.A)(m,h);for(var v=arguments.length,x=new Array(v>1?v-1:0),b=1;b<v;b++)x[b-1]=arguments[b];return m=x.reduce(((e,t)=>(0,o.A)(e,t)),m),m.unstable_sxConfig=(0,r.A)({},a.A,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const z=F()},3375:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},3887:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>l});var r=n(8052),s=n(7200),i=n(3375);const o=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},a=e=>o(e)&&"classes"!==e,l=(0,r.Ay)({themeId:i.A,defaultTheme:s.A,rootShouldForwardProp:a})},6803:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(7598).A},9662:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var r=n(8168),s=n(5043),i=n(8587),o=n(8387),a=n(8610),l=n(6803),c=n(7786),u=n(3887),d=n(2532),h=n(2372);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(579);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.A)(n.color)}`],t[`fontSize${(0,l.A)(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r,s,i,o,a,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(s=r.create)?void 0:s.call(r,"fill",{duration:null==(i=t.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=t.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),y=s.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:y="svg",fontSize:v="medium",htmlColor:x,inheritViewBox:b=!1,titleAccess:w,viewBox:S="0 0 24 24"}=n,k=(0,i.A)(n,m),_=s.isValidElement(u)&&"svg"===u.type,j=(0,r.A)({},n,{color:h,component:y,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:b,viewBox:S,hasSvgAsChild:_}),T={};b||(T.viewBox=S);const C=(e=>{const{color:t,fontSize:n,classes:r}=e,s={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(n)}`]};return(0,a.A)(s,p,r)})(j);return(0,f.jsxs)(g,(0,r.A)({as:y,className:(0,o.A)(C.root,d),focusable:"false",color:x,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},T,k,_&&u.props,{ownerState:j,children:[_?u.props.children:u,w?(0,f.jsx)("title",{children:w}):null]}))}));y.muiName="SvgIcon";const v=y;function x(e,t){function n(n,s){return(0,f.jsx)(v,(0,r.A)({"data-testid":`${t}Icon`,ref:s},n,{children:e}))}return n.muiName=v.muiName,s.memo(s.forwardRef(n))}},4461:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,s)}),n)}return r.clear=()=>{clearTimeout(t)},r}},4853:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>s.A,createChainedFunction:()=>i,createSvgIcon:()=>o.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>u,ownerDocument:()=>d.A,ownerWindow:()=>h.A,requirePropFactory:()=>p,setRef:()=>f,unstable_ClassNameGenerator:()=>S,unstable_useEnhancedEffect:()=>m.A,unstable_useId:()=>g.A,unsupportedProp:()=>y,useControlled:()=>v.A,useEventCallback:()=>x.A,useForkRef:()=>b.A,useIsFocusVisible:()=>w.A});var r=n(9386),s=n(6803);const i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];e.apply(this,r),t.apply(this,r)}),(()=>{}))};var o=n(9662),a=n(4461);const l=function(e,t){return()=>null};var c=n(5043);const u=function(e,t){var n,r;return c.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)};var d=n(2427),h=n(5357);n(8168);const p=function(e,t){return()=>null};const f=n(6564).A;var m=n(5013),g=n(9488);const y=function(e,t,n,r,s){return null};var v=n(5420),x=n(3110),b=n(5849),w=n(3574);const S={configure:e=>{r.A.configure(e)}}},2427:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1668).A},5357:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1668);const s=function(e){return(0,r.A)(e).defaultView||window}},5420:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5043);const s=function(e){let{controlled:t,default:n,name:s,state:i="value"}=e;const{current:o}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[o?t:a,r.useCallback((e=>{o||l(e)}),[])]}},5013:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4440).A},3110:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043),s=n(4440);const i=function(e){const t=r.useRef(e);return(0,s.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},5849:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3462).A},9488:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);let s=0;const i=n.t(r,2)["useId".toString()];const o=function(e){if(void 0!==i){const t=i();return null!=e?e:t}return function(e){const[t,n]=r.useState(e),i=e||t;return r.useEffect((()=>{null==t&&(s+=1,n(`mui-${s}`))}),[t]),i}(e)}},3574:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(5043),s=n(9303);let i=!0,o=!1;const a=new s.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(i=!0)}function u(){i=!1}function d(){"hidden"===this.visibilityState&&o&&(i=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return i||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const p=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,a.start(100,(()=>{o=!1})),t.current=!1,!0)},ref:e}}},7713:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>k,StyledEngineProvider:()=>S,ThemeContext:()=>l.T,css:()=>v.AH,default:()=>_,internal_processStyles:()=>j,keyframes:()=>v.i7});var r=n(8168),s=n(5043),i=n(918),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,i.A)((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(4575),c=n(1722),u=n(6598),d=n(9436),h=a,p=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p},m=function(e,t,n){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(t){return e.__emotion_forwardProp(t)&&s(t)}:s}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},y=function e(t,n){var i,o,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(i=n.label,o=n.target);var h=m(t,n,a),p=h||f(d),y=!p("as");return function(){var v=arguments,x=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&x.push("label:"+i+";"),null==v[0]||void 0===v[0].raw)x.push.apply(x,v);else{x.push(v[0][0]);for(var b=v.length,w=1;w<b;w++)x.push(v[w],v[0][w])}var S=(0,l.w)((function(e,t,n){var r=y&&e.as||d,i="",a=[],m=e;if(null==e.theme){for(var v in m={},e)m[v]=e[v];m.theme=s.useContext(l.T)}"string"===typeof e.className?i=(0,c.Rk)(t.registered,a,e.className):null!=e.className&&(i=e.className+" ");var b=(0,u.J)(x.concat(a),t.registered,m);i+=t.key+"-"+b.name,void 0!==o&&(i+=" "+o);var w=y&&void 0===h?f(r):p,S={};for(var k in e)y&&"as"===k||w(k)&&(S[k]=e[k]);return S.className=i,n&&(S.ref=n),s.createElement(s.Fragment,null,s.createElement(g,{cache:t,serialized:b,isStringTag:"string"===typeof r}),s.createElement(r,S))}));return S.displayName=void 0!==i?i:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=x,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(t,s){return e(t,(0,r.A)({},n,s,{shouldForwardProp:m(S,s,!0)})).apply(void 0,x)},S}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){y[e]=y(e)}));var v=n(3290),x=n(3803),b=n(579);let w;function S(e){const{injectFirst:t,children:n}=e;return t&&w?(0,b.jsx)(l.C,{value:w,children:n}):n}function k(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,b.jsx)(v.mL,{styles:r})}function _(e,t){return y(e,t)}"object"===typeof document&&(w=(0,x.A)({key:"css",prepend:!0}));const j=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var s=r(n(457)),i=r(n(9214));function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,i.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,s.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,s.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,s=t[2]/100,i=r*Math.min(s,1-s),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return s-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=o(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,s.default)({},e,{theme:y((0,s.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:m,skipSx:b,overridesResolver:w=v(g(p))}=c,S=(0,i.default)(c,h),k=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,_=b||!1;let j=f;"Root"===p||"root"===p?j=r:p?j=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(j=void 0);const T=(0,o.default)(e,(0,s.default)({shouldForwardProp:j,label:undefined},S)),C=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>x(e,(0,s.default)({},r,{theme:y({theme:r.theme,defaultTheme:n,themeId:t})})):e,E=function(r){let i=C(r);for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const c=a?a.map(C):[];d&&w&&c.push((e=>{const r=y((0,s.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,o={};return Object.entries(i).forEach((t=>{let[n,i]=t;o[n]=x(i,(0,s.default)({},e,{theme:r}))})),w(e,o)})),d&&!k&&c.push((e=>{var r;const i=y((0,s.default)({},e,{defaultTheme:n,themeId:t}));return x({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,s.default)({},e,{theme:i}))})),_||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const p=T(i,...c);return e.muiName&&(p.muiName=e.muiName),p};return T.withConfig&&(E.withConfig=T.withConfig),E}};var s=r(n(4634)),i=r(n(4893)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=s?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(7713)),a=n(9482),l=(r(n(7918)),r(n(3382)),r(n(4989))),c=r(n(9265));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y(e){let{defaultTheme:t,theme:n,themeId:r}=e;return s=n,0===Object.keys(s).length?t:n[r]||n;var s}function v(e){return e?(t,n)=>n[e]:null}function x(e,t){let{ownerState:n}=t,r=(0,i.default)(t,u);const o="function"===typeof e?e((0,s.default)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>x(e,(0,s.default)({ownerState:n},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,i.default)(o,d);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,s.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,s.default)({ownerState:n},r,n)):e.style))})),t}return o}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>o,NI:()=>i,vf:()=>a,zu:()=>r});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},s={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`};function i(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||s;return t.reduce(((r,s,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=i.breakpoints||s;return Object.keys(t).reduce(((s,i)=>{if(-1!==Object.keys(e.values||r).indexOf(i)){s[e.up(i)]=n(t[i],i)}else{const e=i;s[e]=t[e]}return s}),{})}return n(t)}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function a(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},9615:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8587),s=n(8168);const i=["values","unit","step"],o=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,s.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,i),c=o(t),u=Object.keys(c);function d(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-a/100}${n})`}function p(e,r){const s=u.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==s&&"number"===typeof t[u[s]]?t[u[s]]:r)-a/100}${n})`}return(0,s.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),s=n(8587),i=n(9172),o=n(9615);const a={borderRadius:4};var l=n(8604);var c=n(8812),u=n(7758),d=n(9703);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,s.A)(e,h),g=(0,o.A)(t),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(p);let v=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:y,shape:(0,r.A)({},a,f)},m);v.applyStyles=d.A;for(var x=arguments.length,b=new Array(x>1?x-1:0),w=1;w<x;w++)b[w-1]=arguments[w];return v=b.reduce(((e,t)=>(0,i.A)(e,t)),v),v.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),v.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},v}},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>s.A,unstable_applyStyles:()=>i.A});var r=n(8280),s=n(9615),i=n(9703)},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(9172);const s=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>v,Ms:()=>x});var r=n(9751),s=n(7162),i=n(3815);const o={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=o[t],s=a[n]||"";return Array.isArray(s)?s.map((e=>r+e)):[r+s]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var i;const o=null!=(i=(0,s.Yn)(e,t,!1))?i:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function g(e,t,n,s){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),s),o=e[n];return(0,r.NI)(e,o,i)}function y(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(i.A,{})}function v(e){return y(e,u)}function x(e){return y(e,d)}function b(e){return y(e,h)}v.propTypes={},v.filterProps=u,x.propTypes={},x.filterProps=d,b.propTypes={},b.filterProps=h},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>o,Yn:()=>i});var r=n(7598),s=n(9751);function i(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function o(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||s:i(e,n)||s,t&&(r=t(r,s,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,a)||{};return(0,s.NI)(e,c,(e=>{let s=o(u,l,e);return e===s&&"string"===typeof e&&(s=o(u,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?s:{[n]:s}}))};return c.propTypes={},c.filterProps=[t],c}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(8604),s=n(7162),i=n(3815);const o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),s=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,i.A)(t,r[n](e)):t),{});return s.propTypes={},s.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),s};var a=n(9751);function l(e){return"number"!==typeof e?e:`${e}px solid`}function c(e,t){return(0,s.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),y=c("borderRightColor"),v=c("borderBottomColor"),x=c("borderLeftColor"),b=c("outline",l),w=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];o(u,d,h,p,f,m,g,y,v,x,S,b,w);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const _=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};_.propTypes={},_.filterProps=["columnGap"];const j=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};j.propTypes={},j.filterProps=["rowGap"];o(k,_,j,(0,s.Ay)({prop:"gridColumn"}),(0,s.Ay)({prop:"gridRow"}),(0,s.Ay)({prop:"gridAutoFlow"}),(0,s.Ay)({prop:"gridAutoColumns"}),(0,s.Ay)({prop:"gridAutoRows"}),(0,s.Ay)({prop:"gridTemplateColumns"}),(0,s.Ay)({prop:"gridTemplateRows"}),(0,s.Ay)({prop:"gridTemplateAreas"}),(0,s.Ay)({prop:"gridArea"}));function T(e,t){return"grey"===t?t:e}o((0,s.Ay)({prop:"color",themeKey:"palette",transform:T}),(0,s.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:T}),(0,s.Ay)({prop:"backgroundColor",themeKey:"palette",transform:T}));function C(e){return e<=1&&0!==e?100*e+"%":e}const E=(0,s.Ay)({prop:"width",transform:C}),N=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const s=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return s?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:C(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};N.filterProps=["maxWidth"];const A=(0,s.Ay)({prop:"minWidth",transform:C}),P=(0,s.Ay)({prop:"height",transform:C}),M=(0,s.Ay)({prop:"maxHeight",transform:C}),I=(0,s.Ay)({prop:"minHeight",transform:C}),R=((0,s.Ay)({prop:"size",cssProperty:"width",transform:C}),(0,s.Ay)({prop:"size",cssProperty:"height",transform:C}),o(E,N,A,P,M,I,(0,s.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:T},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:T},backgroundColor:{themeKey:"palette",transform:T},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:j},columnGap:{style:_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:C},maxWidth:{style:N},minWidth:{transform:C},height:{transform:C},maxHeight:{transform:C},minHeight:{transform:C},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},9265:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>u,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>a.A});var r=n(8812),s=n(8168),i=n(8587),o=n(9172),a=n(7758);const l=["sx"],c=e=>{var t,n;const r={systemProps:{},otherProps:{}},s=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:a.A;return Object.keys(e).forEach((t=>{s[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function u(e){const{sx:t}=e,n=(0,i.A)(e,l),{systemProps:r,otherProps:a}=c(n);let u;return u=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,s.A)({},r,e):r}:(0,s.A)({},r,t),(0,s.A)({},a,{sx:u})}},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(7598),s=n(3815),i=n(7162),o=n(9751),a=n(7758);function l(){function e(e,t,n,s){const a={[e]:t,theme:n},l=s[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(h)return h(a);return(0,o.NI)(a,t,(t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,i.BO)(p,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const i=(0,o.EU)(l.breakpoints),a=Object.keys(i);let u=i;return Object.keys(r).forEach((n=>{const i=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==i&&void 0!==i)if("object"===typeof i)if(c[n])u=(0,s.A)(u,e(n,i,l,c));else{const e=(0,o.NI)({theme:l},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),s=new Set(r);return t.every((e=>s.size===Object.keys(e).length))}(e,i)?u=(0,s.A)(u,e):u[n]=t({sx:i,theme:l})}else u=(0,s.A)(u,e(n,i,l,c))})),(0,o.vf)(a,u)}return Array.isArray(i)?i.map(u):u(i)}}const c=l();c.filterProps=["sx"];const u=c},2374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(5043)),s=n(7713);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(s.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},9386:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});const r=e=>e,s=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7868);function s(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},9214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},8610:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((s=>{r[s]=e[s].reduce(((e,r)=>{if(r){const s=t(r);""!==s&&e.push(s),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>o,Q:()=>s});var r=n(8168);function s(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function i(e){if(!s(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=i(e[n])})),t}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.A)({},e):e;return s(e)&&s(t)&&Object.keys(t).forEach((r=>{s(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&s(e[r])?a[r]=o(e[r],t[r],n):n.clone?a[r]=s(t[r])?i(t[r]):t[r]:a[r]=t[r]})),a}},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},2372:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i});var r=n(9386);const s={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i=s[t];return i?`${n}-${i}`:`${r.A.generate(e)}-${t}`}},2532:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(2372);function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const s={};return t.forEach((t=>{s[t]=(0,r.Ay)(e,t,n)})),s}},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(2086);const s=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t=`${e}`.match(s);return t&&t[1]||""}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||i(e)||t}function a(e,t,n){const r=o(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return o(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},1668:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},6564:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},4440:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5043);const s="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},3462:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5043),s=n(6564);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,s.A)(t,e)}))}),t)}},9303:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,A:()=>a});var r=n(5043);const s={};const i=[];class o{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new o}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function a(){const e=function(e,t){const n=r.useRef(s);return n.current===s&&(n.current=e(t)),n}(o.create).current;var t;return t=e.disposeEffect,r.useEffect(t,i),e}},219:(e,t,n)=>{"use strict";var r=n(3763),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||s}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var s=p(n);s&&s!==f&&e(t,s,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<o.length;++g){var y=o[g];if(!i[y]&&(!r||!r[y])&&(!m||!m[y])&&(!a||!a[y])){var v=h(n,y);try{c(t,y,v)}catch(x){}}}}return t}},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,s=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case o:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case s:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=s,t.Profiler=a,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===s},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===o||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===x||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},2730:(e,t,n)=>{"use strict";var r=n(5043),s=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,s,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,L=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function $(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(1!==o||1!==a)do{if(o--,0>--a||s[o]!==i[a]){var l="\n"+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case j:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,_e=null;function je(e){if(e=xs(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=ws(t),Se(e.stateNode,e.type,t))}}function Te(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Ce(){if(ke){var e=ke,t=_e;if(_e=ke=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Ee(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ee(e,t,n)}finally{Ae=!1,(null!==ke||null!==_e)&&(Ne(),Ce())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=ws(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ie=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Ie=!1}function Oe(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Fe=!1,ze=null,$e={onError:function(e){De=!0,Le=e}};function Be(e,t,n,r,s,i,o,a,l){De=!1,Le=null,Oe.apply($e,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var o=s.alternate;if(null===o){if(null!==(r=s.return)){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return He(s),e;if(o===r)return He(s),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Ge=s.unstable_requestPaint,Xe=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~s;0!==a?r=dt(a):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~s)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-ot(t)),r|=e[n],t&=~s;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,_t,jt,Tt=!1,Ct=[],Et=null,Nt=null,At=null,Pt=new Map,Mt=new Map,It=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Dt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=xs(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Lt(e){var t=vs(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void jt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xs(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function $t(){Tt=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(zt),Mt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$t)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Pt.forEach(t),Mt.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)Lt(n),null===n.blockedOn&&It.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var s=xt,i=Wt.transition;Wt.transition=null;try{xt=1,Kt(e,t,n,r)}finally{xt=s,Wt.transition=i}}function qt(e,t,n,r){var s=xt,i=Wt.transition;Wt.transition=null;try{xt=4,Kt(e,t,n,r)}finally{xt=s,Wt.transition=i}}function Kt(e,t,n,r){if(Ht){var s=Yt(e,t,n,r);if(null===s)Hr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Et=Dt(Et,e,t,n,r,s),!0;case"dragenter":return Nt=Dt(Nt,e,t,n,r,s),!0;case"mouseover":return At=Dt(At,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pt.set(i,Dt(Pt.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mt.set(i,Dt(Mt.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var i=xs(s);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vs(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(pn),mn=sn(L({},pn,{dataTransfer:0})),gn=sn(L({},dn,{relatedTarget:0})),yn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(vn),bn=sn(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function jn(){return _n}var Tn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Tn),En=sn(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),An=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Pn),In=[9,13,27,32],Rn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Dn=u&&"TextEvent"in window&&!On,Ln=u&&(!Rn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),zn=!1;function $n(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Te(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Qn(e){Fr(e,0)}function Yn(e){if(K(bs(e)))return e}function Gn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Vn(t,Kn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ir(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!ar(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var o=ur(n,r);s&&o&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},_r={};function jr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return kr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=jr("animationend"),Cr=jr("animationiteration"),Er=jr("animationstart"),Nr=jr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Ar.set(e,t),l(t,[e])}for(var Ir=0;Ir<Pr.length;Ir++){var Rr=Pr[Ir];Mr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Mr(Tr,"onAnimationEnd"),Mr(Cr,"onAnimationIteration"),Mr(Er,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,o,a,l,c){if(Be.apply(this,arguments),De){if(!De)throw Error(i(198));var u=Le;De=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Lr(s,a,c),i=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Lr(s,a,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,$r("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Gt(t)){case 1:var s=Vt;break;case 4:s=qt;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===s||8===a.nodeType&&a.parentNode===s)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;o=o.return}for(;null!==a;){if(null===(o=vs(a)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=i,s=we(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Tr:case Cr:case Er:l=yn;break;case Nr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Me(f,h))&&u.push(Vr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,s),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vs(c)&&!c[fs])&&(l||a)&&(a=s.window===s?s:(a=s.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vs(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:bs(l),p=null==c?a:bs(c),(a=new u(m,f+"leave",l,n,s)).target=d,a.relatedTarget=p,m=null,vs(s)===r&&((u=new u(h,f+"enter",c,n,s)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==d&&Qr(o,d,c,u,!0)}if("select"===(l=(a=r?bs(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Gn;else if(Hn(a))if(Xn)g=or;else{g=sr;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(o,g,n,s):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bs(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(o,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,s)}var v;if(Rn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Un?$n(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==x?"onCompositionEnd"===x&&Un&&(v=en()):(Jt="value"in(Xt=s)?Xt.value:Xt.textContent,Un=!0)),0<(y=qr(r,x)).length&&(x=new bn(x,e,null,n,s),o.push({event:x,listeners:y}),v?x.data=v:null!==(v=Bn(n))&&(x.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&$n(e,t)?(e=en(),Zt=Jt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(s=new bn("onBeforeInput","beforeinput",null,n,s),o.push({event:s,listeners:r}),s.data=v))}Fr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Me(e,n))&&r.unshift(Vr(e,i,s)),null!=(i=Me(e,t))&&r.push(Vr(e,i,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,s){for(var i=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,s?null!=(l=Me(n,i))&&o.unshift(Vr(n,l,a)):s||null!=(l=Me(n,i))&&o.push(Vr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Gr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,os="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(as)}:rs;function as(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Ut(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,ps="__reactProps$"+ds,fs="__reactContainer$"+ds,ms="__reactEvents$"+ds,gs="__reactListeners$"+ds,ys="__reactHandles$"+ds;function vs(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function xs(e){return!(e=e[hs]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ws(e){return e[ps]||null}var Ss=[],ks=-1;function _s(e){return{current:e}}function js(e){0>ks||(e.current=Ss[ks],Ss[ks]=null,ks--)}function Ts(e,t){ks++,Ss[ks]=e.current,e.current=t}var Cs={},Es=_s(Cs),Ns=_s(!1),As=Cs;function Ps(e,t){var n=e.type.contextTypes;if(!n)return Cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ms(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Is(){js(Ns),js(Es)}function Rs(e,t,n){if(Es.current!==Cs)throw Error(i(168));Ts(Es,t),Ts(Ns,n)}function Os(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,W(e)||"Unknown",s));return L({},n,r)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,As=Es.current,Ts(Es,e),Ts(Ns,Ns.current),!0}function Ls(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Os(e,t,As),r.__reactInternalMemoizedMergedChildContext=e,js(Ns),js(Es),Ts(Es,e)):js(Ns),Ts(Ns,n)}var Fs=null,zs=!1,$s=!1;function Bs(e){null===Fs?Fs=[e]:Fs.push(e)}function Us(){if(!$s&&null!==Fs){$s=!0;var e=0,t=xt;try{var n=Fs;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,zs=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Ke(Ze,Us),s}finally{xt=t,$s=!1}}return null}var Ws=[],Hs=0,Vs=null,qs=0,Ks=[],Qs=0,Ys=null,Gs=1,Xs="";function Js(e,t){Ws[Hs++]=qs,Ws[Hs++]=Vs,Vs=e,qs=t}function Zs(e,t,n){Ks[Qs++]=Gs,Ks[Qs++]=Xs,Ks[Qs++]=Ys,Ys=e;var r=Gs;e=Xs;var s=32-ot(r)-1;r&=~(1<<s),n+=1;var i=32-ot(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gs=1<<32-ot(t)+s|n<<s|r,Xs=i+e}else Gs=1<<i|n<<s|r,Xs=e}function ei(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ti(e){for(;e===Vs;)Vs=Ws[--Hs],Ws[Hs]=null,qs=Ws[--Hs],Ws[Hs]=null;for(;e===Ys;)Ys=Ks[--Qs],Ks[Qs]=null,Xs=Ks[--Qs],Ks[Qs]=null,Gs=Ks[--Qs],Ks[Qs]=null}var ni=null,ri=null,si=!1,ii=null;function oi(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Gs,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!ai(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&ai(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)oi(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=cs(e.nextSibling)}function pi(){ri=ni=null,si=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=s.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===M&&vi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===s?c(e,t,n,r):null;case S:return n.key===s?u(e,t,n,r):null;case M:return p(e,t,(s=n._init)(n._payload),r)}if(te(n)||O(n))return null!==s?null:d(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case M:return f(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,s,null);yi(t,r)}return null}function m(s,i,a,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(s,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(s,d),i=o(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(s,d),si&&Js(s,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(s,a[m],l))&&(i=o(d,i,m),null===u?c=d:u.sibling=d,u=d);return si&&Js(s,m),c}for(d=r(s,d);m<a.length;m++)null!==(g=f(d,s,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(s,e)})),si&&Js(s,m),c}function g(s,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=p(s,m,v.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(s,m),a=o(x,a,g),null===d?u=x:d.sibling=x,d=x,m=y}if(v.done)return n(s,m),si&&Js(s,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(s,v.value,c))&&(a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return si&&Js(s,g),u}for(m=r(s,m);!v.done;g++,v=l.next())null!==(v=f(m,s,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(s,e)})),si&&Js(s,g),u}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=i;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(i=s(u,o.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&vi(c)===u.type){n(r,u.sibling),(i=s(u,o.props)).ref=gi(r,u,o),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===k?((i=Oc(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=Rc(o.type,o.key,o.props,null,r.mode,l)).ref=gi(r,i,o),l.return=r,r=l)}return a(r);case S:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=s(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(o,r.mode,l)).return=r,r=i}return a(r);case M:return e(r,i,(u=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(O(o))return g(r,i,o,l);yi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,o)).return=r,r=i):(n(r,i),(i=Lc(o,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var bi=xi(!0),wi=xi(!1),Si=_s(null),ki=null,_i=null,ji=null;function Ti(){ji=_i=ki=null}function Ci(e){var t=Si.current;js(Si),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){ki=e,ji=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xa=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(ji!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===ki)throw Error(i(308));_i=e,ki.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Pi=null;function Mi(e){null===Pi?Pi=[e]:Pi.push(e)}function Ii(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Mi(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ri(e,n)}return null===(s=r.interleaved)?(t.next=t,Mi(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ri(e,n)}function $i(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,r){var s=e.updateQueue;Oi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(o=0,u=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Oi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(h=a).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{o|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=d}}function Wi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var Hi={},Vi=_s(Hi),qi=_s(Hi),Ki=_s(Hi);function Qi(e){if(e===Hi)throw Error(i(174));return e}function Yi(e,t){switch(Ts(Ki,t),Ts(qi,e),Ts(Vi,Hi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}js(Vi),Ts(Vi,t)}function Gi(){js(Vi),js(qi),js(Ki)}function Xi(e){Qi(Ki.current);var t=Qi(Vi.current),n=le(t,e.type);t!==n&&(Ts(qi,e),Ts(Vi,n))}function Ji(e){qi.current===e&&(js(Vi),js(qi))}var Zi=_s(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,io=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,po=0;function fo(){throw Error(i(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,s,o){if(io=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,s),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(i(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,s)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,io=0,lo=ao=oo=null,co=!1,t)throw Error(i(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function xo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=xo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ao,s=r.baseQueue,o=n.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(null!==s){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((io&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,oo.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(xa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{o=s.lane,oo.lanes|=o,Dl|=o,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=xo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);ar(o,t.memoizedState)||(xa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function _o(e,t){var n=oo,r=xo(),s=t(),o=!ar(r.memoizedState,s);if(o&&(r.memoizedState=s,xa=!0),r=r.queue,Do(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,To.bind(null,n,r,s,t),void 0,null),null===Nl)throw Error(i(349));0!==(30&io)||jo(n,t,s)}return s}function jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&No(e)}function Co(e,t,n){return n((function(){Eo(t)&&No(e)}))}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Ri(e,1);null!==t&&nc(t,e,1,-1)}function Ao(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mo(){return xo().memoizedState}function Io(e,t,n,r){var s=vo();oo.flags|=e,s.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var s=xo();r=void 0===r?null:r;var i=void 0;if(null!==ao){var o=ao.memoizedState;if(i=o.destroy,null!==r&&mo(r,o.deps))return void(s.memoizedState=Po(t,n,i,r))}oo.flags|=e,s.memoizedState=Po(1|t,n,i,r)}function Oo(e,t){return Io(8390656,8,e,t)}function Do(e,t){return Ro(2048,8,e,t)}function Lo(e,t){return Ro(4,2,e,t)}function Fo(e,t){return Ro(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4,4,zo.bind(null,t,e),n)}function Bo(){}function Uo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&io)?(e.baseState&&(e.baseState=!1,xa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Dl|=n,e.baseState=!0),t)}function Vo(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{xt=n,so.transition=r}}function qo(){return xo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Go(t,n);else if(null!==(n=Ii(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Qo(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Go(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(s.next=s,Mi(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Ii(e,t,s,r))&&(nc(n,e,r,s=ec()),Xo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Go(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Jo={readContext:Ai,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Ai,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Ao,useDebugValue:Bo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Ao(!1),t=e[0];return e=Vo.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,s=vo();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Nl)throw Error(i(349));0!==(30&io)||jo(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Oo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=Nl.identifierPrefix;if(si){var n=Xs;t=":"+t+"R"+(n=(Gs&~(1<<32-ot(Gs)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ai,useCallback:Uo,useContext:Ai,useEffect:Do,useImperativeHandle:$o,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Wo,useReducer:wo,useRef:Mo,useState:function(){return wo(bo)},useDebugValue:Bo,useDeferredValue:function(e){return Ho(xo(),ao.memoizedState,e)},useTransition:function(){return[wo(bo)[0],xo().memoizedState]},useMutableSource:ko,useSyncExternalStore:_o,useId:qo,unstable_isNewReconciler:!1},ta={readContext:Ai,useCallback:Uo,useContext:Ai,useEffect:Do,useImperativeHandle:$o,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:Wo,useReducer:So,useRef:Mo,useState:function(){return So(bo)},useDebugValue:Bo,useDeferredValue:function(e){var t=xo();return null===ao?t.memoizedState=e:Ho(t,ao.memoizedState,e)},useTransition:function(){return[So(bo)[0],xo().memoizedState]},useMutableSource:ko,useSyncExternalStore:_o,useId:qo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sa={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,s))&&(nc(t,e,s,r),$i(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=zi(e,i,s))&&(nc(t,e,s,r),$i(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Fi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=zi(e,s,r))&&(nc(t,e,r,n),$i(t,e,r))}};function ia(e,t,n,r,s,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function oa(e,t,n){var r=!1,s=Cs,i=t.contextType;return"object"===typeof i&&null!==i?i=Ai(i):(s=Ms(t)?As:Es.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ps(e,s):Cs),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ai(i):(i=Ms(t)?As:Es.current,s.context=Ps(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sa.enqueueReplaceState(s,s.state,null),Ui(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),da(0,t)},n}function fa(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,zi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var va=b.ReactCurrentOwner,xa=!1;function ba(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function wa(e,t,n,r,s){n=n.render;var i=t.ref;return Ni(t,s),r=go(e,t,n,r,i,s),n=yo(),null===e||xa?(si&&n&&ei(t),t.flags|=1,ba(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ha(e,t,s))}function Sa(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Mc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ka(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,s)}return t.flags|=1,(e=Ic(i,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xa=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,Ha(e,t,s);0!==(131072&e.flags)&&(xa=!0)}}return Ta(e,t,n,r,s)}function _a(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ts(Il,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ts(Il,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ts(Il,Ml),Ml|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ts(Il,Ml),Ml|=r;return ba(e,t,s,n),t.child}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,s){var i=Ms(n)?As:Es.current;return i=Ps(t,i),Ni(t,s),n=go(e,t,n,r,i,s),r=yo(),null===e||xa?(si&&r&&ei(t),t.flags|=1,ba(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ha(e,t,s))}function Ca(e,t,n,r,s){if(Ms(n)){var i=!0;Ds(t)}else i=!1;if(Ni(t,s),null===t.stateNode)Wa(e,t),oa(t,n,r),la(t,n,r,s),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ai(c):c=Ps(t,c=Ms(n)?As:Es.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Oi=!1;var h=t.memoizedState;o.state=h,Ui(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Ns.current||Oi?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Oi||ia(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Li(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ai(l):l=Ps(t,l=Ms(n)?As:Es.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,o,r,l),Oi=!1,h=t.memoizedState,o.state=h,Ui(t,r,o,s);var f=t.memoizedState;a!==d||h!==f||Ns.current||Oi?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Oi||ia(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,i,s)}function Ea(e,t,n,r,s,i){ja(e,t);var o=0!==(128&t.flags);if(!r&&!o)return s&&Ls(t,n,!1),Ha(e,t,i);r=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,a,i)):ba(e,t,a,i),t.memoizedState=r.state,s&&Ls(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Yi(e,t.containerInfo)}function Aa(e,t,n,r,s){return pi(),fi(s),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Ma,Ia,Ra,Oa={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,s=t.pendingProps,o=Zi.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ts(Zi,1&o),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,a?(s=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,s,0,null),e=Oc(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Oa,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,s,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Dc({mode:"visible",children:r.children},s,0,null),(o=Oc(o,s,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Oa,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(o=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),xa||l){if(null!==(r=Nl)){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|a))?0:s)&&s!==o.retryLane&&(o.retryLane=s,Ri(e,s),nc(r,e,s,-1))}return mc(),za(e,t,a,r=ua(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ks[Qs++]=Gs,Ks[Qs++]=Xs,Ks[Qs++]=Ys,Gs=e.id,Xs=e.overflow,Ys=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,o,n);if(a){a=s.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==o?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ic(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ic(r,a):(a=Oc(a,l,n,null)).flags|=2,a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Oa,s}return e=(a=e.child).sibling,s=Ic(a,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fa(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&fi(r),bi(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Ba(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ua(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ts(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ba(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===eo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Va(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(t),null;case 1:case 17:return Ms(t.type)&&Is(),qa(t),null;case 3:return r=t.stateNode,Gi(),js(Ns),js(Es),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(oc(ii),ii=null))),Ma(e,t),qa(t),null;case 5:Ji(t);var s=Qi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Ia(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qa(t),null}if(e=Qi(Vi.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hs]=t,r[ps]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(s=0;s<Or.length;s++)zr(Or[s],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":G(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":se(r,o),zr("invalid",r)}for(var l in ve(n,o),s=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),Z(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[ps]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":zr("cancel",e),zr("close",e),s=r;break;case"iframe":case"object":case"embed":zr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Or.length;s++)zr(Or[s],e);s=r;break;case"source":zr("error",e),s=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),s=r;break;case"details":zr("toggle",e),s=r;break;case"input":G(e,r),s=Y(e,r),zr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),zr("invalid",e)}for(o in ve(n,s),c=s)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zr("scroll",e):null!=u&&x(e,o,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qa(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Ki.current),Qi(Vi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return qa(t),null;case 13:if(js(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),pi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[hs]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qa(t),o=!1}else null!==ii&&(oc(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),qa(t),null);case 4:return Gi(),Ma(e,t),null===e&&Ur(t.stateNode.containerInfo),qa(t),null;case 10:return Ci(t.type._context),qa(t),null;case 19:if(js(Zi),null===(o=t.memoizedState))return qa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Va(o,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Va(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ts(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ul&&(t.flags|=128,r=!0,Va(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Va(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!si)return qa(t),null}else 2*Xe()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Va(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zi.current,Ts(Zi,r?1&n|2:1&n),t):(qa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(qa(t),6&t.subtreeFlags&&(t.flags|=8192)):qa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qa(e,t){switch(ti(t),t.tag){case 1:return Ms(t.type)&&Is(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gi(),js(Ns),js(Es),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(js(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return js(Zi),null;case 4:return Gi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ma=function(){},Ia=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qi(Vi.current);var i,o=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),o=[];break;case"select":s=L({},s,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":s=re(e,s),r=re(e,r),o=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Ga=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ps],delete t[ms],delete t[gs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(a){}switch(n.tag){case 5:Ga||Za(n,t);case 6:var r=ul,s=dl;ul=null,hl(e,t,n),dl=s,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Ut(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Ga&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&el(n,t,o),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Ga&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_c(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ga=(r=Ga)||null!==n.memoizedState,hl(e,t,n),Ga=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(o,a,s),ul=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){_c(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(s,o),xe(l,a);var u=xe(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):x(s,d,h,u)}switch(l){case"input":J(s,o);break;case"textarea":ie(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(s,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(s,!!o.multiple,o.defaultValue,!0):ne(s,!!o.multiple,o.multiple?[]:"",!1))}s[ps]=o}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(s=e.child).flags&&(o=null!==s.memoizedState,s.stateNode.isHidden=o,!o||null!==s.alternate&&null!==s.alternate.memoizedState||(Bl=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ga=(u=Ga)||d,ml(t,e),Ga=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(f=(p=Ja).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Ja=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),cl(e,al(e),s);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(i(161))}}catch(a){_c(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Ja=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var s=Ja,i=s.child;if(22===s.tag&&r){var o=null!==s.memoizedState||Ya;if(!o){var a=s.alternate,l=null!==a&&null!==a.memoizedState||Ga;a=Ya;var c=Ga;if(Ya=o,(Ga=l)&&!c)for(Ja=s;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?Sl(s):null!==l?(l.return=o,Ja=l):Sl(s);for(;null!==i;)Ja=i,xl(i,t,n),i=i.sibling;Ja=s,Ya=a,Ga=c}bl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Ja=i):bl(e)}}function bl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ga||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ga)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Wi(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(i(163))}Ga||512&t.flags&&sl(t)}catch(p){_c(t,t.return,p)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function wl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){_c(t,s,l)}}var i=t.return;try{sl(t)}catch(l){_c(t,i,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){_c(t,o,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var kl,_l=Math.ceil,jl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,El=0,Nl=null,Al=null,Pl=0,Ml=0,Il=_s(0),Rl=0,Ol=null,Dl=0,Ll=0,Fl=0,zl=null,$l=null,Bl=0,Ul=1/0,Wl=null,Hl=!1,Vl=null,ql=null,Kl=!1,Ql=null,Yl=0,Gl=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&El)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Pl?Pl&-Pl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,r){if(50<Gl)throw Gl=0,Xl=null,Error(i(185));yt(e,n,r),0!==(2&El)&&e===Nl||(e===Nl&&(0===(2&El)&&(Ll|=n),4===Rl&&ac(e,Pl)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Ul=Xe()+500,zs&&Us()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),a=1<<o,l=s[o];-1===l?0!==(a&n)&&0===(a&r)||(s[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Nl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zs=!0,Bs(e)}(lc.bind(null,e)):Bs(lc.bind(null,e)),os((function(){0===(6&El)&&Us()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Nl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var s=El;El|=2;var o=fc();for(Nl===e&&Pl===t||(Wl=null,Ul=Xe()+500,hc(e,t));;)try{vc();break}catch(l){pc(e,l)}Ti(),jl.current=o,El=s,null!==Al?t=0:(Nl=null,Pl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t)throw n=Ol,hc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,r))&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ol,hc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,$l,Wl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(wc.bind(null,e,$l,Wl),t);break}wc(e,$l,Wl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>s&&(s=a),r&=~o}if(r=s,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=rs(wc.bind(null,e,$l,Wl),r);break}wc(e,$l,Wl);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=$l,$l=n,null!==t&&oc(t)),e}function oc(e){null===$l?$l=e:$l.push.apply($l,e)}function ac(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(i(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ol,hc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,$l,Wl),rc(e,Xe()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=Xe()+500,zs&&Us())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&El)&&Sc();var t=El;El|=1;var n=Cl.transition,r=xt;try{if(Cl.transition=null,xt=1,e)return e()}finally{xt=r,Cl.transition=n,0===(6&(El=t))&&Us()}}function dc(){Ml=Il.current,js(Il)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Is();break;case 3:Gi(),js(Ns),js(Es),no();break;case 5:Ji(r);break;case 4:Gi();break;case 13:case 19:js(Zi);break;case 10:Ci(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Al=e=Ic(e.current,null),Pl=Ml=t,Rl=0,Ol=null,Fl=Ll=Dl=0,$l=zl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=s,r.next=o}n.pending=r}Pi=null}return e}function pc(e,t){for(;;){var n=Al;try{if(Ti(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}co=!1}if(io=0,lo=ao=oo=null,uo=!1,ho=0,Tl.current=null,null===n||null===n.return){Rl=1,Ol=t,Al=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,ya(f,a,l,0,t),1&f.mode&&ma(o,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(i(426))}else if(si&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),fi(ca(c,l));break e}}o=c=ca(c,l),4!==Rl&&(Rl=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,pa(0,c,t));break e;case 1:l=c;var v=o.type,x=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===ql||!ql.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function fc(){var e=jl.current;return jl.current=Jo,null===e?Jo:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Nl||0===(268435455&Dl)&&0===(268435455&Ll)||ac(Nl,Pl)}function gc(e,t){var n=El;El|=2;var r=fc();for(Nl===e&&Pl===t||(Wl=null,hc(e,t));;)try{yc();break}catch(s){pc(e,s)}if(Ti(),El=n,jl.current=r,null!==Al)throw Error(i(261));return Nl=null,Pl=0,Rl}function yc(){for(;null!==Al;)xc(Al)}function vc(){for(;null!==Al&&!Ye();)xc(Al)}function xc(e){var t=kl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Tl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Ml)))return void(Al=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Rl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Rl&&(Rl=5)}function wc(e,t,n){var r=xt,s=Cl.transition;try{Cl.transition=null,xt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&El))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ot(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,o),e===Nl&&(Al=Nl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Nc(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=xt;xt=1;var l=El;El|=4,Tl.current=null,function(e,t){if(es=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=a+s),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===s&&(l=a),p===o&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Ht=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ts),Ht=!!es,ts=es=null,e.current=n,vl(n,e,s),Ge(),El=l,xt=a,Cl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Yl=s),o=e.pendingLanes,0===o&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Gl++:(Gl=0,Xl=e):Gl=0,Us()}(e,t,n,r)}finally{Cl.transition=s,xt=r}return null}function Sc(){if(null!==Ql){var e=bt(Yl),t=Cl.transition,n=xt;try{if(Cl.transition=null,xt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&El))throw Error(i(331));var s=El;for(El|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var p=(d=Ja).sibling,f=d.return;if(il(d),d===u){Ja=null;break}if(null!==p){p.return=f,Ja=p;break}Ja=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ja=v;break e}Ja=o.return}}var x=e.current;for(Ja=x;null!==Ja;){var b=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ja=b;else e:for(a=x;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){_c(l,l.return,S)}if(l===a){Ja=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ja=w;break e}Ja=l.return}}if(El=s,Us(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(S){}r=!0}return r}finally{xt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=zi(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=zi(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Pl&n)===n&&(4===Rl||3===Rl&&(130023424&Pl)===Pl&&500>Xe()-Bl?hc(e,0):Fl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ri(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,s,o){var a=2;if(r=e,"function"===typeof e)Mc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Oc(n.children,s,o,t);case _:a=8,s|=8;break;case j:return(e=Pc(12,n,t,2|s)).elementType=j,e.lanes=o,e;case N:return(e=Pc(13,n,t,s)).elementType=N,e.lanes=o,e;case A:return(e=Pc(19,n,t,s)).elementType=A,e.lanes=o,e;case I:return Dc(n,s,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case E:a=11;break e;case P:a=14;break e;case M:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,s)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,s,i,o,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Bc(e){if(!e)return Cs;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ms(n))return Os(e,n,t)}return t}function Uc(e,t,n,r,s,i,o,a,l){return(e=$c(n,r,!0,e,0,i,0,a,l)).context=Bc(null),n=e.current,(i=Fi(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,zi(n,i,s),e.current.lanes=s,yt(e,s,r),rc(e,r),e}function Wc(e,t,n,r){var s=t.current,i=ec(),o=tc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zi(s,t,o))&&(nc(e,s,o,i),$i(e,s,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ns.current)xa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),pi();break;case 5:Xi(t);break;case 1:Ms(t.type)&&Ds(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ts(Si,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ts(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(Ts(Zi,1&Zi.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ts(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ua(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ts(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return Ha(e,t,n)}(e,t,n);xa=0!==(131072&e.flags)}else xa=!1,si&&0!==(1048576&t.flags)&&Zs(t,qs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var s=Ps(t,Es.current);Ni(t,n),s=go(null,t,r,e,s,n);var o=yo();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(r)?(o=!0,Ds(t)):o=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Di(t),s.updater=sa,t.stateNode=s,s._reactInternals=t,la(t,r,e,n),t=Ea(null,t,r,!0,o,n)):(t.tag=0,si&&o&&ei(t),ba(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),s){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Ta(e,t,r,s=t.elementType===r?s:na(r,s),n);case 1:return r=t.type,s=t.pendingProps,Ca(e,t,r,s=t.elementType===r?s:na(r,s),n);case 3:e:{if(Na(t),null===e)throw Error(i(387));r=t.pendingProps,s=(o=t.memoizedState).element,Li(e,t),Ui(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,r,n,s=ca(Error(i(423)),t));break e}if(r!==s){t=Aa(e,t,r,n,s=ca(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===s){t=Ha(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),r=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,a=s.children,ns(r,s)?a=null:null!==o&&ns(r,o)&&(t.flags|=32),ja(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&ci(t),null;case 13:return La(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,wa(e,t,r,s=t.elementType===r?s:na(r,s),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Ts(Si,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===s.children&&!Ns.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fi(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ei(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ei(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ni(t,n),r=r(s=Ai(s)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return s=na(r=t.type,t.pendingProps),Sa(e,t,r,s=na(r.type,s),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:na(r,s),Wa(e,t),t.tag=1,Ms(r)?(e=!0,Ds(t)):e=!1,Ni(t,n),oa(t,r,s),la(t,r,s,n),Ea(null,t,r,!0,e,n);case 19:return Ua(e,t,n);case 22:return _a(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof s){var a=s;s=function(){var e=Hc(o);a.call(e)}}Wc(t,o,e,s)}else o=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=Hc(o);i.call(e)}}var o=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[fs]=o.current,Ur(8===e.nodeType?e.parentNode:e),uc(),o}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fs]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc((function(){Wc(t,l,n,r)})),l}(n,t,e,s,r);return Hc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Wc(null,e,null,null)})),t[fs]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&El)&&(Ul=Xe()+500,Us()))}break;case 13:uc((function(){var t=Ri(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},St=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ri(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},_t=function(){return xt},jt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ws(r);if(!s)throw Error(i(90));K(r),J(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[xs,bs,ws,Te,Ce,cc]},tu={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(i(299));var n=!1,r="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,o="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,s,0,o,a),e[fs]=t.current,Ur(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fs]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5082:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case a:case o:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case s:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=f},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},1153:(e,t,n)=>{"use strict";var r=n(5043),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var s,i={},o=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,s)&&!_.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:o,ref:a,props:i,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,s,i,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+E(l,0):i,w(o)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),N(o,t,s,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,s+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+E(a=e[c],c);l+=N(a,t,s,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,s,u=i+E(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],s=0;return N(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},I={transition:null},R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=o,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!_.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:s,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,I(S);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(T),T=-1),f=!0;var i=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&s(c),b(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,_=!1,j=null,T=-1,C=5,E=-1;function N(){return!(t.unstable_now()-E<C)}function A(){if(null!==j){var e=t.unstable_now();E=e;var n=!0;try{n=j(!0,e)}finally{n?k():(_=!1,j=null)}}else _=!1}if("function"===typeof x)k=function(){x(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,M=P.port2;P.port1.onmessage=A,k=function(){M.postMessage(null)}}else k=function(){y(A,0)};function I(e){j=e,_||(_=!0,k())}function R(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,R(w,i-o))):(e.sortIndex=a,n(c,e),m||f||(m=!0,I(S))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8387:(e,t,n)=>{"use strict";function r(e){var t,n,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function s(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(s&&(s+=" "),s+=t);return s}n.d(t,{$:()=>s,A:()=>i});const i=s}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&s&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ut,hasStandardBrowserEnv:()=>Ht,hasStandardBrowserWebWorkerEnv:()=>Vt,navigator:()=>Wt,origin:()=>qt});var t,r,s=n(5043),i=n.t(s,2),o=n(4391),a=n(7950),l=n.t(a,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}(r=t||(t={})).Pop="POP",r.Push="PUSH",r.Replace="REPLACE";const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,n,r,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:o=!1}=s,a=i.history,l=t.Pop,h=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){l=t.Pop;let e=y(),n=null==e?null:e-g;g=e,h&&h({action:l,location:b.location,delta:n})}function x(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let b={get action(){return l},get location(){return e(i,a)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(u,v),h=e,()=>{i.removeEventListener(u,v),h=null}},createHref:e=>n(i,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){l=t.Push;let s=f(b.location,e,n);r&&r(s,e),g=y()+1;let c=p(s,g),u=b.createHref(s);try{a.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(u)}o&&h&&h({action:l,location:b.location,delta:1})},replace:function(e,n){l=t.Replace;let s=f(b.location,e,n);r&&r(s,e),g=y();let i=p(s,g),c=b.createHref(s);a.replaceState(i,"",c),o&&h&&h({action:l,location:b.location,delta:0})},go:e=>a.go(e)};return b}var v,x;(x=v||(v={})).data="data",x.deferred="deferred",x.redirect="redirect",x.error="error";new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let s=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let i=S(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a){let e=R(s);o=M(i[a],e,r)}return o}function S(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(d(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=$([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),S(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:P(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))s(e,t,r);else s(e,t)})),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let o=k(r.join("/")),a=[];return a.push(...o.map((e=>""===e?i:[i,e].join("/")))),s&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,j=3,T=2,C=1,E=10,N=-2,A=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=N),t&&(r+=T),n.filter((e=>!A(e))).reduce(((e,t)=>e+(_.test(t)?j:""===t?C:E)),r)}function M(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:$([i,u.pathname]),pathnameBase:B($([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=$([i,u.pathnameBase]))}return o}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=a[n]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function z(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=c({},e),d(!s.pathname||!s.pathname.includes("?"),D("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),D("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),D("#","search","hash",s)));let i,o=""===e||""===s.pathname,a=o?"/":s.pathname;if(null==a)i=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:U(r),hash:W(s)}}(s,i),u=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const $=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],q=(new Set(V),["get",...V]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const Q=s.createContext(null);const Y=s.createContext(null);const G=s.createContext(null);const X=s.createContext(null);const J=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=s.createContext(null);function ee(){return null!=s.useContext(X)}function te(){return ee()||d(!1),s.useContext(X).location}function ne(e){s.useContext(G).static||s.useLayoutEffect(e)}function re(){let{isDataRoute:e}=s.useContext(J);return e?function(){let{router:e}=pe(de.UseNavigateStable),t=me(he.UseNavigateStable),n=s.useRef(!1);return ne((()=>{n.current=!0})),s.useCallback((function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},s)))}),[e,t])}():function(){ee()||d(!1);let e=s.useContext(Q),{basename:t,future:n,navigator:r}=s.useContext(G),{matches:i}=s.useContext(J),{pathname:o}=te(),a=JSON.stringify(F(i,n.v7_relativeSplatPath)),l=s.useRef(!1);return ne((()=>{l.current=!0})),s.useCallback((function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let i=z(n,JSON.parse(a),o,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:$([t,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)}),[t,r,a,o,e])}()}function se(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(G),{matches:i}=s.useContext(J),{pathname:o}=te(),a=JSON.stringify(F(i,r.v7_relativeSplatPath));return s.useMemo((()=>z(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function ie(e,n,r,i){ee()||d(!1);let{navigator:o}=s.useContext(G),{matches:a}=s.useContext(J),l=a[a.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=te();if(n){var f;let e="string"===typeof n?g(n):n;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||d(!1),h=e}else h=p;let m=h.pathname||"/",y=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=b(e,{pathname:y});let x=ue(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:$([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:$([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&x?s.createElement(X.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},x):x}function oe(){let e=function(){var e;let t=s.useContext(Z),n=fe(he.UseRouteError),r=me(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const ae=s.createElement(oe,null);class le extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(J.Provider,{value:this.props.routeContext},s.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(Q);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(J.Provider,{value:t},r)}function ue(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||d(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<a.length;s++){let e=a[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,r,i)=>{let o,d=!1,h=null,p=null;var f;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,c&&(u<0&&0===i?(f="route-fallback",!1||ge[f]||(ge[f]=!0),d=!0,p=null):u===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),g=()=>{let t;return t=o?h:d?p:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(ce,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(le,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function pe(e){let t=s.useContext(Q);return t||d(!1),t}function fe(e){let t=s.useContext(Y);return t||d(!1),t}function me(e){let t=function(){let e=s.useContext(J);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};const ye={};const ve=(e,t,n)=>{var r;ye[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(ye[r]=!0,console.warn(r))};function xe(e,t){null!=e&&e.v7_startTransition||ve("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),null!=e&&e.v7_relativeSplatPath||t&&t.v7_relativeSplatPath||ve("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||ve("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||ve("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||ve("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||ve("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}i.startTransition;function be(e){let{to:t,replace:n,state:r,relative:i}=e;ee()||d(!1);let{future:o,static:a}=s.useContext(G),{matches:l}=s.useContext(J),{pathname:c}=te(),u=re(),h=z(t,F(l,o.v7_relativeSplatPath),c,"path"===i),p=JSON.stringify(h);return s.useEffect((()=>u(JSON.parse(p),{replace:n,state:r,relative:i})),[u,p,i,n,r]),null}function we(e){d(!1)}function Se(e){let{basename:n="/",children:r=null,location:i,navigationType:o=t.Pop,navigator:a,static:l=!1,future:c}=e;ee()&&d(!1);let u=n.replace(/^\/*/,"/"),h=s.useMemo((()=>({basename:u,navigator:a,static:l,future:K({v7_relativeSplatPath:!1},c)})),[u,c,a,l]);"string"===typeof i&&(i=g(i));let{pathname:p="/",search:f="",hash:m="",state:y=null,key:v="default"}=i,x=s.useMemo((()=>{let e=O(p,u);return null==e?null:{location:{pathname:e,search:f,hash:m,state:y,key:v},navigationType:o}}),[u,p,f,m,y,v,o]);return null==x?null:s.createElement(G.Provider,{value:h},s.createElement(X.Provider,{children:r,value:x}))}function ke(e){let{children:t,location:n}=e;return ie(_e(t),n)}new Promise((()=>{}));s.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,((e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,_e(e.props.children,i));e.type!==we&&d(!1),e.props.index&&e.props.children&&d(!1);let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=_e(e.props.children,i)),n.push(o)})),n}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(nU){}new Map;const Ee=i.startTransition;l.flushSync,i.useId;function Ne(e){let{basename:t,children:n,future:r,window:i}=e,o=s.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:i,v5Compat:!0})&&(a={}),y((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return f("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,a)));let l=o.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback((e=>{d&&Ee?Ee((()=>u(e))):u(e)}),[u,d]);return s.useLayoutEffect((()=>l.listen(h)),[l,h]),s.useEffect((()=>xe(r)),[r]),s.createElement(Se,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=s.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:p}=e,f=Te(e,Ce),{basename:g}=s.useContext(G),y=!1;if("string"===typeof u&&Pe.test(u)&&(n=u,Ae))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:y=!0}catch(nU){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||d(!1);let{basename:r,navigator:i}=s.useContext(G),{hash:o,pathname:a,search:l}=se(e,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:$([r,a])),i.createHref({pathname:c,search:l,hash:o})}(u,{relative:i}),x=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:l}=void 0===t?{}:t,c=re(),u=te(),d=se(e,{relative:a});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:l})}}),[u,c,d,r,i,n,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p});return s.createElement("a",je({},f,{href:n||v,onClick:y||o?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:c}))}));var Ie,Re,Oe,De;(Re=Ie||(Ie={})).UseScrollRestoration="useScrollRestoration",Re.UseSubmit="useSubmit",Re.UseSubmitFetcher="useSubmitFetcher",Re.UseFetcher="useFetcher",Re.useViewTransitionState="useViewTransitionState",(De=Oe||(Oe={})).UseFetcher="useFetcher",De.UseFetchers="useFetchers",De.UseScrollRestoration="useScrollRestoration";class Le extends Error{}function Fe(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return atob(t)}}function ze(e,t){if("string"!==typeof e)throw new Le("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!==typeof r)throw new Le(`Invalid token specified: missing part #${n+1}`);let s;try{s=Fe(r)}catch(nU){throw new Le(`Invalid token specified: invalid base64 for part #${n+1} (${nU.message})`)}try{return JSON.parse(s)}catch(nU){throw new Le(`Invalid token specified: invalid json for part #${n+1} (${nU.message})`)}}function $e(e,t){return function(){return e.apply(t,arguments)}}Le.prototype.name="InvalidTokenError";const{toString:Be}=Object.prototype,{getPrototypeOf:Ue}=Object,We=(He=Object.create(null),e=>{const t=Be.call(e);return He[t]||(He[t]=t.slice(8,-1).toLowerCase())});var He;const Ve=e=>(e=e.toLowerCase(),t=>We(t)===e),qe=e=>t=>typeof t===e,{isArray:Ke}=Array,Qe=qe("undefined");const Ye=Ve("ArrayBuffer");const Ge=qe("string"),Xe=qe("function"),Je=qe("number"),Ze=e=>null!==e&&"object"===typeof e,et=e=>{if("object"!==We(e))return!1;const t=Ue(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tt=Ve("Date"),nt=Ve("File"),rt=Ve("Blob"),st=Ve("FileList"),it=Ve("URLSearchParams"),[ot,at,lt,ct]=["ReadableStream","Request","Response","Headers"].map(Ve);function ut(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ke(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let o;for(n=0;n<i;n++)o=r[n],t.call(null,e[o],o,e)}}function dt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const ht="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,pt=e=>!Qe(e)&&e!==ht;const ft=(mt="undefined"!==typeof Uint8Array&&Ue(Uint8Array),e=>mt&&e instanceof mt);var mt;const gt=Ve("HTMLFormElement"),yt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),vt=Ve("RegExp"),xt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ut(n,((n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)})),Object.defineProperties(e,r)};const bt=Ve("AsyncFunction"),wt=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],ht.addEventListener("message",(e=>{let{source:t,data:s}=e;t===ht&&s===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),ht.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Xe(ht.postMessage)),St="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ht):"undefined"!==typeof process&&process.nextTick||wt,kt={isArray:Ke,isArrayBuffer:Ye,isBuffer:function(e){return null!==e&&!Qe(e)&&null!==e.constructor&&!Qe(e.constructor)&&Xe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Xe(e.append)&&("formdata"===(t=We(e))||"object"===t&&Xe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ye(e.buffer),t},isString:Ge,isNumber:Je,isBoolean:e=>!0===e||!1===e,isObject:Ze,isPlainObject:et,isReadableStream:ot,isRequest:at,isResponse:lt,isHeaders:ct,isUndefined:Qe,isDate:tt,isFile:nt,isBlob:rt,isRegExp:vt,isFunction:Xe,isStream:e=>Ze(e)&&Xe(e.pipe),isURLSearchParams:it,isTypedArray:ft,isFileList:st,forEach:ut,merge:function e(){const{caseless:t}=pt(this)&&this||{},n={},r=(r,s)=>{const i=t&&dt(n,s)||s;et(n[i])&&et(r)?n[i]=e(n[i],r):et(r)?n[i]=e({},r):Ke(r)?n[i]=r.slice():n[i]=r};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&ut(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ut(t,((t,r)=>{n&&Xe(t)?e[r]=$e(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&Ue(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:We,kindOfTest:Ve,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ke(e))return e;let t=e.length;if(!Je(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:gt,hasOwnProperty:yt,hasOwnProp:yt,reduceDescriptors:xt,freezeMethods:e=>{xt(e,((t,n)=>{if(Xe(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Xe(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Ke(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:dt,global:ht,isContextDefined:pt,isSpecCompliantForm:function(e){return!!(e&&Xe(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ze(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=Ke(e)?[]:{};return ut(e,((e,t)=>{const i=n(e,r+1);!Qe(i)&&(s[t]=i)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:bt,isThenable:e=>e&&(Ze(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),setImmediate:wt,asap:St};function _t(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}kt.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kt.toJSONObject(this.config),code:this.code,status:this.status}}});const jt=_t.prototype,Tt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Tt[e]={value:e}})),Object.defineProperties(_t,Tt),Object.defineProperty(jt,"isAxiosError",{value:!0}),_t.from=(e,t,n,r,s,i)=>{const o=Object.create(jt);return kt.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),_t.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Ct=_t;function Et(e){return kt.isPlainObject(e)||kt.isArray(e)}function Nt(e){return kt.endsWith(e,"[]")?e.slice(0,-2):e}function At(e,t,n){return e?e.concat(t).map((function(e,t){return e=Nt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Pt=kt.toFlatObject(kt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Mt=function(e,t,n){if(!kt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=kt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!kt.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&kt.isSpecCompliantForm(t);if(!kt.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(kt.isDate(e))return e.toISOString();if(!a&&kt.isBlob(e))throw new Ct("Blob is not supported. Use a Buffer instead.");return kt.isArrayBuffer(e)||kt.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let a=e;if(e&&!s&&"object"===typeof e)if(kt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(kt.isArray(e)&&function(e){return kt.isArray(e)&&!e.some(Et)}(e)||(kt.isFileList(e)||kt.endsWith(n,"[]"))&&(a=kt.toArray(e)))return n=Nt(n),a.forEach((function(e,r){!kt.isUndefined(e)&&null!==e&&t.append(!0===o?At([n],r,i):null===o?n:n+"[]",l(e))})),!1;return!!Et(e)||(t.append(At(s,n,i),l(e)),!1)}const u=[],d=Object.assign(Pt,{defaultVisitor:c,convertValue:l,isVisitable:Et});if(!kt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!kt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),kt.forEach(n,(function(n,i){!0===(!(kt.isUndefined(n)||null===n)&&s.call(t,n,kt.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function It(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Rt(e,t){this._pairs=[],e&&Mt(e,this,t)}const Ot=Rt.prototype;Ot.append=function(e,t){this._pairs.push([e,t])},Ot.toString=function(e){const t=e?function(t){return e.call(this,t,It)}:It;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Dt=Rt;function Lt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ft(e,t,n){if(!t)return e;const r=n&&n.encode||Lt;kt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):kt.isURLSearchParams(t)?t.toString():new Dt(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const zt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){kt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},$t={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Dt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ut="undefined"!==typeof window&&"undefined"!==typeof document,Wt="object"===typeof navigator&&navigator||void 0,Ht=Ut&&(!Wt||["ReactNative","NativeScript","NS"].indexOf(Wt.product)<0),Vt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,qt=Ut&&window.location.href||"http://localhost",Kt={...e,...Bt};const Qt=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),a=s>=e.length;if(i=!i&&kt.isArray(r)?r.length:i,a)return kt.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!o;r[i]&&kt.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&kt.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!o}if(kt.isFormData(e)&&kt.isFunction(e.entries)){const n={};return kt.forEachEntry(e,((e,r)=>{t(function(e){return kt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Yt={transitional:$t,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=kt.isObject(e);s&&kt.isHTMLForm(e)&&(e=new FormData(e));if(kt.isFormData(e))return r?JSON.stringify(Qt(e)):e;if(kt.isArrayBuffer(e)||kt.isBuffer(e)||kt.isStream(e)||kt.isFile(e)||kt.isBlob(e)||kt.isReadableStream(e))return e;if(kt.isArrayBufferView(e))return e.buffer;if(kt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Mt(e,new Kt.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Kt.isNode&&kt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=kt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Mt(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(kt.isString(e))try{return(t||JSON.parse)(e),kt.trim(e)}catch(nU){if("SyntaxError"!==nU.name)throw nU}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Yt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(kt.isResponse(e)||kt.isReadableStream(e))return e;if(e&&kt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(nU){if(n){if("SyntaxError"===nU.name)throw Ct.from(nU,Ct.ERR_BAD_RESPONSE,this,null,this.response);throw nU}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};kt.forEach(["delete","get","head","post","put","patch"],(e=>{Yt.headers[e]={}}));const Gt=Yt,Xt=kt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jt=Symbol("internals");function Zt(e){return e&&String(e).trim().toLowerCase()}function en(e){return!1===e||null==e?e:kt.isArray(e)?e.map(en):String(e)}function tn(e,t,n,r,s){return kt.isFunction(r)?r.call(this,t,n):(s&&(t=n),kt.isString(t)?kt.isString(r)?-1!==t.indexOf(r):kt.isRegExp(r)?r.test(t):void 0:void 0)}class nn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Zt(t);if(!s)throw new Error("header name must be a non-empty string");const i=kt.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=en(e))}const i=(e,t)=>kt.forEach(e,((e,n)=>s(e,n,t)));if(kt.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(kt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Xt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(kt.isHeaders(e))for(const[o,a]of e.entries())s(a,o,n);else null!=e&&s(t,e,n);return this}get(e,t){if(e=Zt(e)){const n=kt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(kt.isFunction(t))return t.call(this,e,n);if(kt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zt(e)){const n=kt.findKey(this,e);return!(!n||void 0===this[n]||t&&!tn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Zt(e)){const s=kt.findKey(n,e);!s||t&&!tn(0,n[s],s,t)||(delete n[s],r=!0)}}return kt.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!tn(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return kt.forEach(this,((r,s)=>{const i=kt.findKey(n,s);if(i)return t[i]=en(r),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();o!==s&&delete t[s],t[o]=en(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return kt.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&kt.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Jt]=this[Jt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Zt(e);t[r]||(!function(e,t){const n=kt.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return kt.isArray(e)?e.forEach(r):r(e),this}}nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),kt.reduceDescriptors(nn.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),kt.freezeMethods(nn);const rn=nn;function sn(e,t){const n=this||Gt,r=t||n,s=rn.from(r.headers);let i=r.data;return kt.forEach(e,(function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)})),s.normalize(),i}function on(e){return!(!e||!e.__CANCEL__)}function an(e,t,n){Ct.call(this,null==e?"canceled":e,Ct.ERR_CANCELED,t,n),this.name="CanceledError"}kt.inherits(an,Ct,{__CANCEL__:!0});const ln=an;function cn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ct("Request failed with status code "+n.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const un=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];s||(s=l),n[i]=a,r[i]=l;let u=o,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const dn=function(e,t){let n,r,s=0,i=1e3/t;const o=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=i?o(l,e):(n=l,r||(r=setTimeout((()=>{r=null,o(n)}),i-t)))},()=>n&&o(n)]},hn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=un(50,250);return dn((n=>{const i=n.loaded,o=n.lengthComputable?n.total:void 0,a=i-r,l=s(a);r=i;e({loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&i<=o?(o-i)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),n)},pn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},fn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kt.asap((()=>e(...n)))},mn=Kt.hasStandardBrowserEnv?(gn=new URL(Kt.origin),yn=Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent),e=>(e=new URL(e,Kt.origin),gn.protocol===e.protocol&&gn.host===e.host&&(yn||gn.port===e.port))):()=>!0;var gn,yn;const vn=Kt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];kt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),kt.isString(r)&&o.push("path="+r),kt.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&r||0==n?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const bn=e=>e instanceof rn?{...e}:e;function wn(e,t){t=t||{};const n={};function r(e,t,n,r){return kt.isPlainObject(e)&&kt.isPlainObject(t)?kt.merge.call({caseless:r},e,t):kt.isPlainObject(t)?kt.merge({},t):kt.isArray(t)?t.slice():t}function s(e,t,n,s){return kt.isUndefined(t)?kt.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!kt.isUndefined(t))return r(void 0,t)}function o(e,t){return kt.isUndefined(t)?kt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,n)=>s(bn(e),bn(t),0,!0)};return kt.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||s,o=i(e[r],t[r],r);kt.isUndefined(o)&&i!==a||(n[r]=o)})),n}const Sn=e=>{const t=wn({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=rn.from(a),t.url=Ft(xn(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),kt.isFormData(r))if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Kt.hasStandardBrowserEnv&&(s&&kt.isFunction(s)&&(s=s(t)),s||!1!==s&&mn(t.url))){const e=i&&o&&vn.read(o);e&&a.set(i,e)}return t},kn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Sn(e);let s=r.data;const i=rn.from(r.headers).normalize();let o,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=rn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());cn((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Ct("Request aborted",Ct.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Ct("Network Error",Ct.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||$t;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Ct(t,s.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,e,m)),m=null},void 0===s&&i.setContentType(null),"setRequestHeader"in m&&kt.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),kt.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,u]=hn(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([a,c]=hn(h),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{m&&(n(!t||t.type?new ln(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Kt.protocols.indexOf(y)?n(new Ct("Unsupported protocol "+y+":",Ct.ERR_BAD_REQUEST,e)):m.send(s||null)}))},_n=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ct?t:new ln(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,s(new Ct(`timeout ${t} of ms exceeded`,Ct.ETIMEDOUT))}),t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:a}=r;return a.unsubscribe=()=>kt.asap(o),a}},jn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},Tn=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Cn=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of Tn(e))yield*jn(n,t)}(e,t);let i,o=0,a=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return a(),void e.close();let i=r.byteLength;if(n){let e=o+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},En="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Nn=En&&"function"===typeof ReadableStream,An=En&&("function"===typeof TextEncoder?(Pn=new TextEncoder,e=>Pn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Pn;const Mn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(nU){return!1}},In=Nn&&Mn((()=>{let e=!1;const t=new Request(Kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Rn=Nn&&Mn((()=>kt.isReadableStream(new Response("").body))),On={stream:Rn&&(e=>e.body)};var Dn;En&&(Dn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!On[e]&&(On[e]=kt.isFunction(Dn[e])?t=>t[e]():(t,n)=>{throw new Ct(`Response type '${e}' is not supported`,Ct.ERR_NOT_SUPPORT,n)})})));const Ln=async(e,t)=>{const n=kt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(kt.isBlob(e))return e.size;if(kt.isSpecCompliantForm(e)){const t=new Request(Kt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return kt.isArrayBufferView(e)||kt.isArrayBuffer(e)?e.byteLength:(kt.isURLSearchParams(e)&&(e+=""),kt.isString(e)?(await An(e)).byteLength:void 0)})(t):n},Fn=En&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Sn(e);c=c?(c+"").toLowerCase():"text";let p,f=_n([s,i&&i.toAbortSignal()],o);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&In&&"get"!==n&&"head"!==n&&0!==(g=await Ln(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(kt.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=pn(g,hn(fn(l)));r=Cn(n.body,65536,e,t)}}kt.isString(d)||(d=d?"include":"omit");const s="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:s?d:void 0});let i=await fetch(p);const o=Rn&&("stream"===c||"response"===c);if(Rn&&(a||o&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=kt.toFiniteNumber(i.headers.get("content-length")),[n,r]=a&&pn(t,hn(fn(a),!0))||[];i=new Response(Cn(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let y=await On[kt.findKey(On,c)||"text"](i,e);return!o&&m&&m(),await new Promise(((t,n)=>{cn(t,n,{data:y,headers:rn.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,e,p),{cause:y.cause||y});throw Ct.from(y,y&&y.code,e,p)}}),zn={http:null,xhr:kn,fetch:Fn};kt.forEach(zn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(nU){}Object.defineProperty(e,"adapterName",{value:t})}}));const $n=e=>`- ${e}`,Bn=e=>kt.isFunction(e)||null===e||!1===e,Un=e=>{e=kt.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Bn(n)&&(r=zn[(t=String(n)).toLowerCase()],void 0===r))throw new Ct(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+i]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map($n).join("\n"):" "+$n(e[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Wn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ln(null,e)}function Hn(e){Wn(e),e.headers=rn.from(e.headers),e.data=sn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Un(e.adapter||Gt.adapter)(e).then((function(t){return Wn(e),t.data=sn.call(e,e.transformResponse,t),t.headers=rn.from(t.headers),t}),(function(t){return on(t)||(Wn(e),t&&t.response&&(t.response.data=sn.call(e,e.transformResponse,t.response),t.response.headers=rn.from(t.response.headers))),Promise.reject(t)}))}const Vn="1.8.2",qn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{qn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Kn={};qn.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new Ct(r(s," has been removed"+(t?" in "+t:"")),Ct.ERR_DEPRECATED);return t&&!Kn[s]&&(Kn[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},qn.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Qn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const t=e[i],n=void 0===t||o(t,i,e);if(!0!==n)throw new Ct("option "+i+" must be "+n,Ct.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ct("Unknown option "+i,Ct.ERR_BAD_OPTION)}},validators:qn},Yn=Qn.validators;class Gn{constructor(e){this.defaults=e,this.interceptors={request:new zt,response:new zt}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(nU){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=wn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Qn.assertOptions(n,{silentJSONParsing:Yn.transitional(Yn.boolean),forcedJSONParsing:Yn.transitional(Yn.boolean),clarifyTimeoutError:Yn.transitional(Yn.boolean)},!1),null!=r&&(kt.isFunction(r)?t.paramsSerializer={serialize:r}:Qn.assertOptions(r,{encode:Yn.function,serialize:Yn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Qn.assertOptions(t,{baseUrl:Yn.spelling("baseURL"),withXsrfToken:Yn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&kt.merge(s.common,s[t.method]);s&&kt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=rn.concat(i,s);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[Hn.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Hn.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Ft(xn((e=wn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}kt.forEach(["delete","get","head","options"],(function(e){Gn.prototype[e]=function(t,n){return this.request(wn(n||{},{method:e,url:t,data:(n||{}).data}))}})),kt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(wn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Gn.prototype[e]=t(),Gn.prototype[e+"Form"]=t(!0)}));const Xn=Gn;class Jn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new ln(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Jn((function(t){e=t})),cancel:e}}}const Zn=Jn;const er={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(er).forEach((e=>{let[t,n]=e;er[n]=t}));const tr=er;const nr=function e(t){const n=new Xn(t),r=$e(Xn.prototype.request,n);return kt.extend(r,Xn.prototype,n,{allOwnKeys:!0}),kt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(wn(t,n))},r}(Gt);nr.Axios=Xn,nr.CanceledError=ln,nr.CancelToken=Zn,nr.isCancel=on,nr.VERSION=Vn,nr.toFormData=Mt,nr.AxiosError=Ct,nr.Cancel=nr.CanceledError,nr.all=function(e){return Promise.all(e)},nr.spread=function(e){return function(t){return e.apply(null,t)}},nr.isAxiosError=function(e){return kt.isObject(e)&&!0===e.isAxiosError},nr.mergeConfig=wn,nr.AxiosHeaders=rn,nr.formToJSON=e=>Qt(kt.isHTMLForm(e)?new FormData(e):e),nr.getAdapter=Un,nr.HttpStatusCode=tr,nr.default=nr;const rr=nr,{Axios:sr,AxiosError:ir,CanceledError:or,isCancel:ar,CancelToken:lr,VERSION:cr,all:ur,Cancel:dr,isAxiosError:hr,spread:pr,toFormData:fr,AxiosHeaders:mr,HttpStatusCode:gr,formToJSON:yr,getAdapter:vr,mergeConfig:xr}=rr,br="9.9.0",wr=globalThis;function Sr(){return kr(wr),wr}function kr(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||br,t[br]=t[br]||{}}function _r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wr;const r=n.__SENTRY__=n.__SENTRY__||{},s=r[br]=r[br]||{};return s[e]||(s[e]=t())}function jr(){return Date.now()/1e3}const Tr=function(){const{performance:e}=wr;if(!e?.now)return jr;const t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();let Cr;function Er(){return Cr||(Cr=function(){const{performance:e}=wr;if(!e?.now)return[void 0,"none"];const t=36e5,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing?.navigationStart,a="number"===typeof o?Math.abs(o+n-r):t;return i||a<t?s<=a?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}()),Cr[0]}const Nr=Object.prototype.toString;function Ar(e){switch(Nr.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return $r(e,Error)}}function Pr(e,t){return Nr.call(e)===`[object ${t}]`}function Mr(e){return Pr(e,"ErrorEvent")}function Ir(e){return Pr(e,"DOMError")}function Rr(e){return Pr(e,"String")}function Or(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Dr(e){return null===e||Or(e)||"object"!==typeof e&&"function"!==typeof e}function Lr(e){return Pr(e,"Object")}function Fr(e){return"undefined"!==typeof Event&&$r(e,Event)}function zr(e){return Boolean(e?.then&&"function"===typeof e.then)}function $r(e,t){try{return e instanceof t}catch(n){return!1}}function Br(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}const Ur=wr;function Wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(c=Hr(n,u),!("html"===c||i>1&&o+s.length*l+c.length>=d));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch(n){return"<unknown>"}}function Hr(e,t){const n=e,r=[];if(!n?.tagName)return"";if(Ur.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t?.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(s?.length)s.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const e=n.className;if(e&&Rr(e)){const t=e.split(/\s+/);for(const e of t)r.push(`.${e}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const e=n.getAttribute(o);e&&r.push(`[${o}="${e}"]`)}return r.join("")}function Vr(){try{return Ur.document.location.href}catch(e){return""}}function qr(e){if(!Ur.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const Kr="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Qr=["debug","info","warn","error","log","assert","trace"],Yr={};function Gr(e){if(!("console"in wr))return e();const t=wr.console,n={},r=Object.keys(Yr);r.forEach((e=>{const r=Yr[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const Xr=_r("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Kr?Qr.forEach((n=>{t[n]=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];e&&Gr((()=>{wr.console[n](`Sentry Logger [${n}]:`,...r)}))}})):Qr.forEach((e=>{t[e]=()=>{}})),t}));function Jr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function Zr(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const t=e[r];try{Br(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(nU){n.push("[value cannot be serialized]")}}return n.join(t)}function es(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!Rr(e)&&(Pr(t,"RegExp")?t.test(e):!!Rr(t)&&(n?e===t:e.includes(t)))}function ts(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((n=>es(e,n,t)))}function ns(e,t,n){if(!(t in e))return;const r=e[t];if("function"!==typeof r)return;const s=n(r);"function"===typeof s&&ss(s,r);try{e[t]=s}catch{Kr&&Xr.log(`Failed to replace method "${t}" in object`,e)}}function rs(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){Kr&&Xr.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ss(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,rs(e,"__sentry_original__",t)}catch(n){}}function is(e){return e.__sentry_original__}function os(e){if(Ar(e))return{message:e.message,name:e.name,stack:e.stack,...ls(e)};if(Fr(e)){const t={type:e.type,target:as(e.target),currentTarget:as(e.currentTarget),...ls(e)};return"undefined"!==typeof CustomEvent&&$r(e,CustomEvent)&&(t.detail=e.detail),t}return e}function as(e){try{return t=e,"undefined"!==typeof Element&&$r(t,Element)?Wr(e):Object.prototype.toString.call(e)}catch(n){return"<unknown>"}var t}function ls(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function cs(e){return us(e,new Map)}function us(e,t){if(null===e||"object"!==typeof e)return e;const n=t.get(e);if(void 0!==n)return n;if(Array.isArray(e)){const n=[];return t.set(e,n),e.forEach((e=>{n.push(us(e,t))})),n}if(function(e){const t=e.constructor;return t===Object||void 0===t}(e)){const n={};t.set(e,n);return Object.keys(e).forEach((r=>{const s=e[r];void 0!==s&&(n[r]=us(s,t))})),n}return e}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){const e=wr;return e.crypto||e.msCrypto}(),t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(n){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&t())>>e/4).toString(16)))}function hs(e){return e.exception?.values?.[0]}function ps(e){const{message:t,event_id:n}=e;if(t)return t;const r=hs(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function fs(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function ms(e,t){const n=hs(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r?.data,...t.data};n.mechanism.data=e}}function gs(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{rs(e,"__sentry_captured__",!0)}catch(t){}return!1}function ys(e){const t=Tr(),n={sid:ds(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return{sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}(n)};return e&&vs(n,e),n}function vs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Tr(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ds()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function xs(){return ds()}function bs(){return ds().substring(16)}function ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!t||"object"!==typeof t||n<=0)return t;if(e&&0===Object.keys(t).length)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=ws(r[s],t[s],n-1));return r}const Ss="_sentrySpan";function ks(e,t){t?rs(e,Ss,t):delete e[Ss]}function _s(e){return e[Ss]}class js{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:xs(),sampleRand:Math.random()}}clone(){const e=new js;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ks(e,_s(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&vs(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e,n=t instanceof js?t.getScopeData():Lr(t)?e:void 0,{tags:r,extra:s,user:i,contexts:o,level:a,fingerprint:l=[],propagationContext:c}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...s},this._contexts={...this._contexts,...o},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),l.length&&(this._fingerprint=l),c&&(this._propagationContext=c),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ks(this,void 0),this._attachments=[],this.setPropagationContext({traceId:xs(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r={timestamp:jr(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_s(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=ws(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t?.event_id||ds();if(!this._client)return Xr.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n?.event_id||ds();if(!this._client)return Xr.warn("No client configured on scope - will not capture message!"),r;const s=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureEvent(e,t){const n=t?.event_id||ds();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Xr.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}class Ts{constructor(e,t){let n,r;n=e||new js,r=t||new js,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){const t=this._pushScope();let n;try{n=e(t)}catch(nU){throw this._popScope(),nU}return zr(n)?n.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Cs(){const e=kr(Sr());return e.stack=e.stack||new Ts(_r("defaultCurrentScope",(()=>new js)),_r("defaultIsolationScope",(()=>new js)))}function Es(e){return Cs().withScope(e)}function Ns(e,t){const n=Cs();return n.withScope((()=>(n.getStackTop().scope=e,t(e))))}function As(e){return Cs().withScope((()=>e(Cs().getIsolationScope())))}function Ps(e){const t=kr(e);return t.acs?t.acs:{withIsolationScope:As,withScope:Es,withSetScope:Ns,withSetIsolationScope:(e,t)=>As(t),getCurrentScope:()=>Cs().getScope(),getIsolationScope:()=>Cs().getIsolationScope()}}function Ms(){return Ps(Sr()).getCurrentScope()}function Is(){return Ps(Sr()).getIsolationScope()}function Rs(){const e=Ps(Sr());for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(2===n.length){const[t,r]=n;return t?e.withSetScope(t,r):e.withScope(r)}return e.withScope(n[0])}function Os(){return Ms().getClient()}function Ds(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||bs()};return r&&(i.parent_span_id=r),i}const Ls="production",Fs="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var zs;function $s(e){return new Us((t=>{t(e)}))}function Bs(e){return new Us(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(zs||(zs={}));class Us{constructor(e){this._state=zs.PENDING,this._handlers=[],this._runExecutor(e)}then(e,t){return new Us(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(nU){r(nU)}else n(t)},e=>{if(t)try{n(t(e))}catch(nU){r(nU)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Us(((t,n)=>{let r,s;return this.then((t=>{s=!1,r=t,e&&e()}),(t=>{s=!0,r=t,e&&e()})).then((()=>{s?n(r):t(r)}))}))}_executeHandlers(){if(this._state===zs.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===zs.RESOLVED&&e[1](this._value),this._state===zs.REJECTED&&e[2](this._value),e[0]=!0)}))}_runExecutor(e){const t=(e,t)=>{this._state===zs.PENDING&&(zr(t)?t.then(n,r):(this._state=e,this._value=t,this._executeHandlers()))},n=e=>{t(zs.RESOLVED,e)},r=e=>{t(zs.REJECTED,e)};try{e(n,r)}catch(nU){r(nU)}}}function Ws(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new Us(((s,i)=>{const o=e[r];if(null===t||"function"!==typeof o)s(t);else{const a=o({...t},n);Fs&&o.id&&null===a&&Xr.log(`Event processor "${o.id}" dropped event`),zr(a)?a.then((t=>Ws(e,t,n,r+1).then(s))).then(null,i):Ws(e,a,n,r+1).then(s).then(null,i)}}))}let Hs,Vs,qs;function Ks(e){const t=wr._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return qs&&n.length===Vs||(Vs=n.length,qs=n.reduce(((n,r)=>{Hs||(Hs={});const s=Hs[r];if(s)n[s[0]]=s[1];else{const s=e(r);for(let e=s.length-1;e>=0;e--){const i=s[e],o=i?.filename,a=t[r];if(o&&a){n[o]=a,Hs[r]=[o,a];break}}}return n}),{})),qs}const Qs="?",Ys=/\(error: (.*)\)/,Gs=/captureMessage|captureException/;function Xs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=[],i=e.split("\n");for(let o=t;o<i.length;o++){const e=i[o];if(e.length>1024)continue;const t=Ys.test(e)?e.replace(Ys,"$1"):e;if(!t.match(/\S*Error: /)){for(const e of r){const n=e(t);if(n){s.push(n);break}}if(s.length>=50+n)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(Js(t).function||"")&&t.pop();t.reverse(),Gs.test(Js(t).function||"")&&(t.pop(),Gs.test(Js(t).function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||Js(t).filename,function:e.function||Qs})))}(s.slice(n))}}function Js(e){return e[e.length-1]||{}}const Zs="<anonymous>";function ei(e){try{return e&&"function"===typeof e&&e.name||Zs}catch(nU){return Zs}}function ti(e){const t=e.exception;if(t){const e=[];try{return t.values.forEach((t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)})),e}catch(n){return}}}function ni(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return si("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function ri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400;const r=ni(e,t);return s=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(s))>n?ri(e,t-1,n):r;var s}function si(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){const e=new WeakSet;function t(t){return!!e.has(t)||(e.add(t),!1)}function n(t){e.delete(t)}return[t,n]}();const[i,o]=s;if(null==t||["boolean","string"].includes(typeof t)||"number"===typeof t&&Number.isFinite(t))return t;const a=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof global&&t===global)return"[Global]";if("undefined"!==typeof window&&t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if(Br(t))return"[VueViewModel]";if(Lr(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"===typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"===typeof t)return`[Function: ${ei(t)}]`;if("symbol"===typeof t)return`[${String(t)}]`;if("bigint"===typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}var n}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===l)return a.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&"function"===typeof c.toJSON)try{return si("",c.toJSON(),l-1,r,s)}catch(p){}const u=Array.isArray(t)?[]:{};let d=0;const h=os(t);for(const f in h){if(!Object.prototype.hasOwnProperty.call(h,f))continue;if(d>=r){u[f]="[MaxProperties ~]";break}const e=h[f];u[f]=si(f,e,l-1,r,s),d++}return o(t),u}const ii="sentry.source",oi="sentry.sample_rate",ai="sentry.op",li="sentry.origin",ci="sentry.idle_span_finish_reason",ui="sentry.measurement_unit",di="sentry.measurement_value",hi="sentry.custom_span_name",pi="sentry.profile_id",fi="sentry.exclusive_time",mi="sentry.link.type",gi="sentry-",yi=/^sentry-/;function vi(e){const t=function(e){if(!e||!Rr(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce(((e,t)=>{const n=bi(t);return Object.entries(n).forEach((t=>{let[n,r]=t;e[n]=r})),e}),{});return bi(e)}(e);if(!t)return;const n=Object.entries(t).reduce(((e,t)=>{let[n,r]=t;if(n.match(yi)){e[n.slice(7)]=r}return e}),{});return Object.keys(n).length>0?n:void 0}function xi(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,t,n)=>{let[r,s]=t;const i=`${encodeURIComponent(r)}=${encodeURIComponent(s)}`,o=0===n?i:`${e},${i}`;return o.length>8192?(Kr&&Xr.warn(`Not adding key: ${r} with val: ${s} to baggage header due to exceeding baggage size limits.`),e):o}),"")}(Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return r&&(e[`${gi}${n}`]=r),e}),{}))}function bi(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,t)=>{let[n,r]=t;return n&&r&&(e[n]=r),e}),{})}function wi(e){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=e||Os()?.getOptions();return!!t&&(null!=t.tracesSampleRate||!!t.tracesSampler)}function Si(e,t){e.setAttribute("http.response.status_code",t);const n=function(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}const ki="_sentryScope",_i="_sentryIsolationScope";function ji(e){return{scope:e[ki],isolationScope:e[_i]}}function Ti(e){if("boolean"===typeof e)return Number(e);const t="string"===typeof e?parseFloat(e):e;return"number"!==typeof t||isNaN(t)||t<0||t>1?void 0:t}const Ci=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ei(e,t){const n=function(e){if(!e)return;const t=e.match(Ci);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}(e),r=vi(t);if(!n?.traceId)return{traceId:xs(),sampleRand:Math.random()};const s=function(e,t){const n=Ti(t?.sample_rand);if(void 0!==n)return n;const r=Ti(t?.sample_rate);return r&&void 0!==e?.parentSampled?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function Ni(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bs(),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}let Ai=!1;function Pi(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:l}=Di(e);return cs({parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a,links:l})}function Mi(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:Di(e).parent_span_id,i=ji(e).scope;return cs({parent_span_id:s,span_id:r?i?.getPropagationContext().propagationSpanId||bs():t,trace_id:n})}function Ii(e){return e&&e.length>0?e.map((e=>{let{context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i}=e;return{span_id:t,trace_id:n,sampled:1===r,attributes:i,...s}})):void 0}function Ri(e){return"number"===typeof e?Oi(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Oi(e.getTime()):Tr()}function Oi(e){return e>9999999999?e/1e3:e}function Di(e){if(function(e){return"function"===typeof e.getSpanJSON}(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(function(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}(e)){const{attributes:r,startTime:s,name:i,endTime:o,parentSpanId:a,status:l,links:c}=e;return cs({span_id:t,trace_id:n,data:r,description:i,parent_span_id:a,start_timestamp:Ri(s),timestamp:Ri(o)||void 0,status:Fi(l),op:r[ai],origin:r[li],links:Ii(c)})}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Li(e){const{traceFlags:t}=e.spanContext();return 1===t}function Fi(e){if(e&&0!==e.code)return 1===e.code?"ok":e.message||"unknown_error"}const zi="_sentryChildSpans",$i="_sentryRootSpan";function Bi(e,t){const n=e[$i]||e;rs(t,$i,n),e[zi]?e[zi].add(t):rs(e,zi,new Set([t]))}function Ui(e){const t=new Set;return function e(n){if(!t.has(n)&&Li(n)){t.add(n);const r=n[zi]?Array.from(n[zi]):[];for(const t of r)e(t)}}(e),Array.from(t)}function Wi(e){return e[$i]||e}function Hi(){const e=Ps(Sr());return e.getActiveSpan?e.getActiveSpan():_s(Ms())}function Vi(){Ai||(Gr((()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")})),Ai=!0)}const qi="_frozenDsc";function Ki(e,t){rs(e,qi,t)}function Qi(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=cs({environment:n.environment||Ls,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function Yi(e,t){const n=t.getPropagationContext();return n.dsc||Qi(n.traceId,e)}function Gi(e){const t=Os();if(!t)return{};const n=Wi(e),r=Di(n),s=r.data,i=n.spanContext().traceState,o=i?.get("sentry.sample_rate")??s[oi];function a(e){return"number"!==typeof o&&"string"!==typeof o||(e.sample_rate=`${o}`),e}const l=n[qi];if(l)return a(l);const c=i?.get("sentry.dsc"),u=c&&vi(c);if(u)return a(u);const d=Qi(e.spanContext().traceId,t),h=s[ii],p=r.description;return"url"!==h&&p&&(d.transaction=p),wi()&&(d.sampled=String(Li(n)),d.sample_rand=i?.get("sentry.sample_rand")??ji(n).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,n),d}function Xi(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra});Object.keys(r).length&&(e.tags={...r,...e.tags});Object.keys(s).length&&(e.user={...s,...e.user});Object.keys(i).length&&(e.contexts={...i,...e.contexts});o&&(e.level=o);a&&"transaction"!==e.type&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:Mi(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Gi(t),...e.sdkProcessingMetadata};const n=Wi(t),r=Di(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,r),function(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint.length||delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,s),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,i)}function Ji(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:h,transactionName:p,span:f}=t;Zi(e,"extra",n),Zi(e,"tags",r),Zi(e,"user",s),Zi(e,"contexts",i),e.sdkProcessingMetadata=ws(e.sdkProcessingMetadata,a,2),o&&(e.level=o),p&&(e.transactionName=p),f&&(e.span=f),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function Zi(e,t,n){e[t]=ws(e[t],n,1)}function eo(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||ds(),timestamp:t.timestamp||jr()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:s,maxValueLength:i=250}=t;e.environment=e.environment||n||Ls,!e.release&&r&&(e.release=r);!e.dist&&s&&(e.dist=s);e.message&&(e.message=Jr(e.message,i));const o=e.exception?.values?.[0];o?.value&&(o.value=Jr(o.value,i));const a=e.request;a?.url&&(a.url=Jr(a.url,i))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),s&&s.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){const n=Ks(t);e.exception?.values?.forEach((e=>{e.stacktrace?.frames?.forEach((e=>{e.filename&&(e.debug_id=n[e.filename])}))}))}(l,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new js;return n.update(t),n}(r,n.captureContext);n.mechanism&&ms(l,n.mechanism);const d=s?s.getEventProcessors():[],h=_r("globalScope",(()=>new js)).getScopeData();if(i){Ji(h,i.getScopeData())}if(u){Ji(h,u.getScopeData())}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),Xi(l,h);return Ws([...d,...h.eventProcessors],l,n).then((e=>(e&&function(e){const t={};if(e.exception?.values?.forEach((e=>{e.stacktrace?.frames?.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))})),0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach((e=>{let[t,r]=e;n.push({type:"sourcemap",code_file:t,debug_id:r})}))}(e),"number"===typeof o&&o>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:ni(e.data,t,n)}})))},...e.user&&{user:ni(e.user,t,n)},...e.contexts&&{contexts:ni(e.contexts,t,n)},...e.extra&&{extra:ni(e.extra,t,n)}};e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ni(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>({...e,...e.data&&{data:ni(e.data,t,n)}}))));e.contexts?.flags&&r.contexts&&(r.contexts.flags=ni(e.contexts.flags,3,n));return r}(e,o,a):e)))}function to(e){if(e)return function(e){return e instanceof js||"function"===typeof e}(e)||function(e){return Object.keys(e).some((e=>no.includes(e)))}(e)?{captureContext:e}:e}const no=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function ro(e,t){return Ms().captureException(e,to(t))}function so(e,t){return Ms().captureEvent(e,t)}function io(e,t){Is().setContext(e,t)}function oo(e){Is().setUser(e)}function ao(e){const t=Is(),n=Ms(),{userAgent:r}=wr.navigator||{},s=ys({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return"ok"===i?.status&&vs(i,{status:"exited"}),lo(),t.setSession(s),s}function lo(){const e=Is(),t=Ms().getSession()||e.getSession();t&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),vs(e,n)}(t),co(),e.setSession()}function co(){const e=Is(),t=Os(),n=e.getSession();n&&t&&t.captureSession(n)}function uo(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?lo():co()}const ho=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.error("[Error]:",e),Rs((n=>{t.component&&n.setTag("component",t.component),t.trackId&&n.setTag("trackId",t.trackId),t.userId&&n.setUser({id:t.userId}),Object.entries(t).forEach((e=>{let[t,r]=e;"component"!==t&&"userId"!==t&&"trackId"!==t&&n.setExtra(t,r)})),ro(e)}))},po="https://server.fastmath.pro",fo=rr.create({baseURL:po,withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});fo.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e.metadata={startTime:(new Date).getTime()},window.location.pathname.includes("accuracy-practice")&&console.log("[API] Request initiated during accuracy practice:",{url:e.url,method:e.method,timestamp:(new Date).toISOString(),hasToken:!!t}),e}),(e=>Promise.reject(e))),fo.interceptors.response.use((e=>{var t;const n=e.config;if(null!==(t=n.metadata)&&void 0!==t&&t.startTime){const t=(new Date).getTime()-n.metadata.startTime;window.location.pathname.includes("accuracy-practice")?console.log(`[API] Response received during accuracy practice (${t}ms):`,{url:n.url,method:n.method,status:e.status,timestamp:(new Date).toISOString()}):t>1e3&&console.warn(`[API] Slow response detected (${t}ms):`,{url:n.url,method:n.method,status:e.status})}return e}),(e=>{var t,n,r,s,i;if(null!==(t=e.config)&&void 0!==t&&null!==(n=t.metadata)&&void 0!==n&&n.startTime){const t=(new Date).getTime()-e.config.metadata.startTime;var o,a,l,c,u;if(window.location.pathname.includes("accuracy-practice"))console.error(`[API] Error response during accuracy practice (${t}ms):`,{url:null===(o=e.config)||void 0===o?void 0:o.url,method:null===(a=e.config)||void 0===a?void 0:a.method,status:null===(l=e.response)||void 0===l?void 0:l.status,statusText:null===(c=e.response)||void 0===c?void 0:c.statusText,data:null===(u=e.response)||void 0===u?void 0:u.data,timestamp:(new Date).toISOString(),onLine:navigator.onLine});else if(!e.response){var d,h,p,f;console.error("[API] Network error:",e.message,{url:null===(d=e.config)||void 0===d?void 0:d.url,method:null===(h=e.config)||void 0===h?void 0:h.method,timeoutSet:(null===(p=e.config)||void 0===p?void 0:p.timeout)||"default",responseTime:`${t}ms`,timestamp:(new Date).toISOString(),onLine:navigator.onLine,effectiveType:(null===(f=navigator.connection)||void 0===f?void 0:f.effectiveType)||"unknown",actionPath:window.location.pathname})}}401===(null===(r=e.response)||void 0===r?void 0:r.status)&&(console.warn("[API] 401 detected, removing token and reloading page",{url:null===(s=e.config)||void 0===s?void 0:s.url,method:null===(i=e.config)||void 0===i?void 0:i.method,timestamp:(new Date).toISOString(),pathname:window.location.pathname,hasToken:!!localStorage.getItem("token")}),localStorage.removeItem("token"),window.location.href="/login");return Promise.reject(e)}));const mo=async(e,t)=>{try{const n=sessionStorage.getItem("activeTrackId")||"TRACK1",{trackId:r,...s}=t;return(await fo.post(`/users/${e}/progress/${n}`,s)).data}catch(s){var n,r;throw console.error("[API] setUserProgress failed:",s instanceof Error?s.message:"Unknown error",s instanceof ir?`status: ${null===(n=s.response)||void 0===n?void 0:n.status}, data: ${JSON.stringify(null===(r=s.response)||void 0===r?void 0:r.data)}`:""),s instanceof Error?s:new Error("Failed to set user progress")}},go=async e=>{try{const t=await fo.get(`/users/${e}/progress`);if(!t.data)throw new Error("No progress data received");return t.data}catch(t){throw t instanceof Error?t:new Error("Failed to fetch user progress")}},yo=async e=>{try{var t;const n=e||sessionStorage.getItem("activeTrackId")||"TRACK1",r=await fo.get(`/trackFacts/track/${n}`);if(null===(t=r.data)||void 0===t||!t.success)throw new Error("Failed to fetch track facts");return r.data.facts}catch(n){throw n instanceof Error?n:new Error("Failed to fetch track facts")}},vo=async(e,t)=>{try{const n=sessionStorage.getItem("activeTrackId")||"TRACK5";sessionStorage.getItem("activeTrackId")||ho(new Error("Missing trackId in sessionStorage"),{component:"API-getSession",userId:e,fallbackTrackId:"TRACK5",activityType:t,url:`session/${e}/${n}`,location:window.location.pathname});const r=await fo.get(`/session/${e}/${n}`,{params:t?{activityType:t}:{}});if(!r.data)throw new Error("No session data received");return r.data}catch(n){throw n instanceof Error?n:new Error("Failed to fetch session data")}},xo=async e=>{try{const t=sessionStorage.getItem("activeTrackId")||"TRACK1",n=await fo.get(`/targetTime/${e}/${t}`);if(!n.data)throw new Error("No target time data received");return n.data}catch(t){return console.error("Error fetching target time:",t),{timePerDigit:.5,targetTime:3}}},bo=async()=>{try{const e=await fo.get("/admin/users/active");if(!e.data)throw new Error("Failed to get active students data");return e.data}catch(e){throw e instanceof Error?e:new Error("Failed to get active students data")}},wo=async(e,t,n)=>{try{const r=(null===n||void 0===n?void 0:n.trackId)||sessionStorage.getItem("activeTrackId")||"TRACK5";null!==n&&void 0!==n&&n.trackId||sessionStorage.getItem("activeTrackId")||ho(new Error("Missing trackId in sessionStorage"),{component:"API-getAssessmentQuestions",userId:e,assessmentType:t,fallbackTrackId:"TRACK5",options:n,location:window.location.pathname});const s=await fo.post("/assessment/questions",{userId:e,trackId:r,type:t,...n});if(!s.data)throw new Error(`Failed to fetch ${t} assessment questions`);return s.data}catch(r){throw r instanceof Error?r:new Error(`Failed to fetch ${t} assessment questions`)}},So=async e=>{try{var t;const n=sessionStorage.getItem("activeTrackId")||"TRACK1",r=await fo.post(`/progressAssessment/start/${e}/${n}`);if(null===(t=r.data)||void 0===t||!t.success)throw new Error("Failed to start progress assessment");return r.data}catch(n){throw n instanceof Error?n:new Error("Failed to start progress assessment")}},ko=async(e,t,n)=>{try{const r=await fo.post(`/progressAssessment/${e}/complete/${t}`,n);if(!r.data)throw new Error("Invalid response from server");return r.data.assessment}catch(r){throw console.error("Failed to complete progress assessment:",r),r}},_o=async e=>{try{var t;const n=sessionStorage.getItem("activeTrackId")||"TRACK1";sessionStorage.getItem("activeTrackId")||ho(new Error("Missing trackId in sessionStorage"),{component:"API-getProgressMetrics",userId:e,fallbackTrackId:"TRACK1",location:window.location.pathname});const r=await fo.get(`/progressAssessment/${e}/metrics`,{params:{trackId:n}});if(null===(t=r.data)||void 0===t||!t.success)throw new Error("Failed to fetch progress metrics");return r.data.metrics}catch(n){throw n instanceof Error?n:new Error("Failed to fetch progress metrics")}},jo=async(e,t)=>{try{if(!e||!t||"number"!==typeof t.count||"number"!==typeof t.time)throw new Error("Invalid typing speed input data");if(t.count<=0||t.time<=0||!isFinite(t.time))throw new Error(`Invalid typing speed values: count=${t.count}, time=${t.time}`);const n=await fo.post(`/users/${e}/typing-speed`,t);if(!n.data)throw new Error("No typing speed data received");return n.data}catch(s){var n,r;throw console.error("[API] updateTypingSpeed failed:",s instanceof Error?s.message:"Unknown error",s instanceof ir?`status: ${null===(n=s.response)||void 0===n?void 0:n.status}, data: ${JSON.stringify(null===(r=s.response)||void 0===r?void 0:r.data)}`:""),s instanceof Error?s:new Error("Failed to update typing speed")}},To=async e=>{try{const t=sessionStorage.getItem("activeTrackId")||"TRACK1",n=await fo.get("/timeEstimation/calculate",{params:{userId:e,trackId:t}});if(!n.data)throw new Error("No time estimation data received");return n.data}catch(t){return console.error("Error fetching time estimation:",t),{totalMinutes:180}}},Co=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{console.log(`[API] Updating goal progress for track: ${e}, goalType: ${t}, increment: ${n}`);const r=localStorage.getItem("token"),s=r?ze(r):null,i=null===s||void 0===s?void 0:s.userId;if(!i)throw new Error("User ID not found in token");const o=Intl.DateTimeFormat().resolvedOptions().timeZone,a=(new Date).toLocaleDateString("en-CA"),l=await rr.post(`${po}/dailyGoals/${e}/progress`,{userId:i,goalType:t,increment:n},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json","X-User-Timezone":o,"X-User-Date":a}});if(console.log("[API] Update goal progress response:",l.data),!l.data)throw new Error("Failed to update daily goal progress");return l.data}catch(a){var r,s;const l=localStorage.getItem("token"),c=l?null===(r=ze(l))||void 0===r?void 0:r.userId:void 0;var i,o;if(a instanceof ir&&404===(null===(s=a.response)||void 0===s?void 0:s.status))console.log(`[API] No daily goals found for track ${e} (404) - This is expected for new tracks`);else ho(a,{component:"API-updateDailyGoalProgress",trackId:e,goalType:t,increment:n,userId:c,errorMsg:a instanceof Error?a.message:"Unknown error",responseData:a instanceof ir?JSON.stringify((null===(i=a.response)||void 0===i?void 0:i.data)||{}):void 0,status:a instanceof ir?null===(o=a.response)||void 0===o?void 0:o.status:void 0});return{date:(new Date).toISOString().split("T")[0],trackId:e,goals:{},allCompleted:!1}}},Eo=async e=>{try{const t=await fo.put(`/users/${e}/focus-track`,{});if(!t.data)throw new Error("No response data received");return t.data}catch(r){var t,n;throw console.error("[API] updateUserFocusTrack failed:",r instanceof Error?r.message:"Unknown error",r instanceof ir?`status: ${null===(t=r.response)||void 0===t?void 0:t.status}, data: ${JSON.stringify(null===(n=r.response)||void 0===n?void 0:n.data)}`:""),r instanceof Error?r:new Error("Failed to update user focus track")}};var No=n(579);const Ao=(0,s.createContext)(void 0),Po=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(async()=>{try{const e=localStorage.getItem("token");if(e){await c(e)||(localStorage.removeItem("token"),r(null),o(null))}}catch(e){console.error("Auth initialization error:",e)}finally{l(!1)}})()}),[]);const c=async e=>{try{console.log("[Auth] Starting token validation");const t=Date.now(),n=ze(e),s=1e3*n.exp;if(s<Date.now())return console.log("[Auth] Token expired, clearing user",{userId:n.userId,expirationTime:s}),!1;if(!n.email||!n.userId)throw console.log("[Auth] Invalid token format: missing email or userId",{decoded:n}),new Error("Invalid token format");console.log(`[Auth] Validating token for user ${n.userId}, decoded successfully`);const i=await(async e=>{const t=Date.now();console.log("[API] Starting token validation request");try{const n=await fo.post("/auth/validate",{},{headers:{Authorization:`Bearer ${e}`}});return console.log(`[API] Token validation completed in ${Date.now()-t}ms, status: ${n.status}`),n.data}catch(n){return console.error(`[API] Token validation failed in ${Date.now()-t}ms:`,n instanceof Error?n.message:"Unknown error"),rr.isAxiosError(n)&&n.response&&console.error("[API] Error response:",n.response.status,n.response.data),{valid:!1,message:"Token validation failed"}}})(e);if(console.log(`[Auth] Token validation completed in ${Date.now()-t}ms, valid: ${i.valid}`),!i.valid||!i.user)return console.log("[Auth] Token validation failed from API, clearing user",{userId:n.userId}),!1;const a={...i.user,email:n.email,userId:n.userId};return localStorage.setItem("token",e),o(e),r(a),oo({id:a.userId,email:a.email}),console.log("[Auth] Token valid, user set",{userId:a.userId}),!0}catch(t){return console.error(`[Auth] Token validation failed with error: ${t instanceof Error?t.message:"Unknown error"}`),console.log("[Auth] Clearing user due to token validation error"),localStorage.removeItem("token"),o(null),r(null),oo(null),!1}},u=()=>{console.log("[Auth] Logout called, clearing user"),localStorage.removeItem("token"),localStorage.removeItem("activeTrackId"),o(null),r(null),oo(null)},d={user:n,loading:a,token:i,login:(e,t)=>{try{const n=ze(e);if(!n.email||!n.userId)throw new Error("Invalid token format");const s={email:n.email,userId:n.userId,...t};localStorage.setItem("token",e),o(e),r(s),oo({id:s.userId,email:s.email}),console.log("[Auth] Login successful, user set",{userId:s.userId})}catch(n){throw console.log("[Auth] Login failed, calling logout"),u(),n}},logout:u,isAuthenticated:!!n,processToken:c};return(0,No.jsx)(Ao.Provider,{value:d,children:t})},Mo=()=>{const e=(0,s.useContext)(Ao);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Io=(0,s.createContext)({recordPageTransition:()=>{},isSessionActive:!0}),Ro=e=>{let{children:t}=e;const{user:n}=Mo(),r=sessionStorage.getItem("activeTrackId")||"TRACK1",i=te(),o=(0,s.useRef)(0),a=(0,s.useRef)(null),l=(0,s.useRef)(0),c=(0,s.useCallback)((async function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;try{const i=Date.now();if(a.current===n&&!r&&i-l.current<5e3)return;if(a.current===n&&i-o.current<500)return void console.log("Throttling rapid duplicate page transition");o.current=i,a.current=n;(await(async e=>{try{return(await fo.post("/sessionAnalytics/pageTransition",e)).data}catch(t){return console.error("Error recording page transition:",t),{success:!1}}})({userId:e,trackId:t,page:n,factsByStage:r})).success?l.current=i:s<3&&setTimeout((()=>{c(e,t,n,r,s+1)}),1e3*Math.pow(2,s-1))}catch(i){console.error("Failed to record page transition:",i),s<3&&setTimeout((()=>{c(e,t,n,r,s+1)}),1e3*Math.pow(2,s-1))}}),[]);(0,s.useEffect)((()=>{if(null!==n&&void 0!==n&&n.userId){const t="/"===(e=i.pathname)||e.startsWith("/dashboard")?"dashboard":"/learn"===e?"learn":"/practice"===e?"practice":"/timedpractice"===e?"timed-practice":e.startsWith("/accuracy-practice")?"accuracy-practice":e.startsWith("/fluency-practice")?"fluency-practice":e.startsWith("/progress-assessment")?"assessment":e.startsWith("/onboarding")?"onboarding":e.startsWith("/assessment")?"assessment":"other";c(n.userId,r,t)}var e}),[i.pathname,null===n||void 0===n?void 0:n.userId,r,c]);const u=(0,s.useCallback)(((e,t)=>{null!==n&&void 0!==n&&n.userId&&c(n.userId,r,e,t)}),[n,r,c]);return(0,No.jsx)(Io.Provider,{value:{recordPageTransition:u,isSessionActive:!0},children:t})},Oo=()=>(0,s.useContext)(Io);var Do,Lo,Fo,zo={debug:()=>{},info:()=>{},warn:()=>{},error:()=>{}},$o=(e=>(e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.DEBUG=4]="DEBUG",e))($o||{});(Fo=$o||($o={})).reset=function(){Do=3,Lo=zo},Fo.setLevel=function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");Do=e},Fo.setLogger=function(e){Lo=e};var Bo=class e{constructor(e){this._name=e}debug(){if(Do>=4){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Lo.debug(e._format(this._name,this._method),...n)}}info(){if(Do>=3){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Lo.info(e._format(this._name,this._method),...n)}}warn(){if(Do>=2){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Lo.warn(e._format(this._name,this._method),...n)}}error(){if(Do>=1){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Lo.error(e._format(this._name,this._method),...n)}}throw(e){throw this.error(e),e}create(e){const t=Object.create(this);return t._method=e,t.debug("begin"),t}static createStatic(t,n){const r=new e(`${t}.${n}`);return r.debug("begin"),r}static _format(e,t){const n=`[${e}]`;return t?`${n} ${t}:`:n}static debug(t){if(Do>=4){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];Lo.debug(e._format(t),...r)}}static info(t){if(Do>=3){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];Lo.info(e._format(t),...r)}}static warn(t){if(Do>=2){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];Lo.warn(e._format(t),...r)}}static error(t){if(Do>=1){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];Lo.error(e._format(t),...r)}}};$o.reset();var Uo=class{static decode(e){try{return ze(e)}catch(t){throw Bo.error("JwtUtils.decode",t),t}}static async generateSignedJwt(e,t,n){const r=`${Vo.encodeBase64Url((new TextEncoder).encode(JSON.stringify(e)))}.${Vo.encodeBase64Url((new TextEncoder).encode(JSON.stringify(t)))}`,s=await window.crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-256"}},n,(new TextEncoder).encode(r));return`${r}.${Vo.encodeBase64Url(new Uint8Array(s))}`}},Wo=e=>btoa([...new Uint8Array(e)].map((e=>String.fromCharCode(e))).join("")),Ho=class e{static _randomWord(){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}static generateUUIDv4(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(t=>(+t^e._randomWord()&15>>+t/4).toString(16))).replace(/-/g,"")}static generateCodeVerifier(){return e.generateUUIDv4()+e.generateUUIDv4()+e.generateUUIDv4()}static async generateCodeChallenge(e){if(!crypto.subtle)throw new Error("Crypto.subtle is available only in secure contexts (HTTPS).");try{const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t);return Wo(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(t){throw Bo.error("CryptoUtils.generateCodeChallenge",t),t}}static generateBasicAuth(e,t){const n=(new TextEncoder).encode([e,t].join(":"));return Wo(n)}static async hash(e,t){const n=(new TextEncoder).encode(t),r=await crypto.subtle.digest(e,n);return new Uint8Array(r)}static async customCalculateJwkThumbprint(t){let n;switch(t.kty){case"RSA":n={e:t.e,kty:t.kty,n:t.n};break;case"EC":n={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":n={crv:t.crv,kty:t.kty,x:t.x};break;case"oct":n={crv:t.k,kty:t.kty};break;default:throw new Error("Unknown jwk type")}const r=await e.hash("SHA-256",JSON.stringify(n));return e.encodeBase64Url(r)}static async generateDPoPProof(t){let n,r,{url:s,accessToken:i,httpMethod:o,keyPair:a,nonce:l}=t;const c={jti:window.crypto.randomUUID(),htm:null!=o?o:"GET",htu:s,iat:Math.floor(Date.now()/1e3)};i&&(n=await e.hash("SHA-256",i),r=e.encodeBase64Url(n),c.ath=r),l&&(c.nonce=l);try{const e=await crypto.subtle.exportKey("jwk",a.publicKey),t={alg:"ES256",typ:"dpop+jwt",jwk:{crv:e.crv,kty:e.kty,x:e.x,y:e.y}};return await Uo.generateSignedJwt(t,c,a.privateKey)}catch(u){throw u instanceof TypeError?new Error(`Error exporting dpop public key: ${u.message}`):u}}static async generateDPoPJkt(t){try{const n=await crypto.subtle.exportKey("jwk",t.publicKey);return await e.customCalculateJwkThumbprint(n)}catch(n){throw n instanceof TypeError?new Error(`Could not retrieve dpop keys from storage: ${n.message}`):n}}static async generateDPoPKeys(){return await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign","verify"])}};Ho.encodeBase64Url=e=>Wo(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var Vo=Ho,qo=class{constructor(e){this._name=e,this._callbacks=[],this._logger=new Bo(`Event('${this._name}')`)}addHandler(e){return this._callbacks.push(e),()=>this.removeHandler(e)}removeHandler(e){const t=this._callbacks.lastIndexOf(e);t>=0&&this._callbacks.splice(t,1)}async raise(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._logger.debug("raise:",...t);for(const r of this._callbacks)await r(...t)}},Ko=class{static center(e){let{...t}=e;var n;return null==t.width&&(t.width=null!=(n=[800,720,600,480].find((e=>e<=window.outerWidth/1.618)))?n:360),null!=t.left||(t.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-t.width)/2))),null!=t.height&&(null!=t.top||(t.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-t.height)/2)))),t}static serialize(e){return Object.entries(e).filter((e=>{let[,t]=e;return null!=t})).map((e=>{let[t,n]=e;return`${t}=${"boolean"!==typeof n?n:n?"yes":"no"}`})).join(",")}},Qo=class e extends qo{constructor(){super(...arguments),this._logger=new Bo(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{const t=this._expiration-e.getEpochTime();this._logger.debug("timer completes in",t),this._expiration<=e.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(t){const n=this._logger.create("init");t=Math.max(Math.floor(t),1);const r=e.getEpochTime()+t;if(this.expiration===r&&this._timerHandle)return void n.debug("skipping since already initialized for expiration at",this.expiration);this.cancel(),n.debug("using duration",t),this._expiration=r;const s=Math.min(t,5);this._timerHandle=setInterval(this._callback,1e3*s)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},Yo=class{static readParams(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"query";if(!e)throw new TypeError("Invalid URL");const n=new URL(e,"http://127.0.0.1")["fragment"===t?"hash":"search"];return new URLSearchParams(n.slice(1))}},Go=";",Xo=class extends Error{constructor(e,t){var n,r,s;if(super(e.error_description||e.error||""),this.form=t,this.name="ErrorResponse",!e.error)throw Bo.error("ErrorResponse","No error passed"),new Error("No error passed");this.error=e.error,this.error_description=null!=(n=e.error_description)?n:null,this.error_uri=null!=(r=e.error_uri)?r:null,this.state=e.userState,this.session_state=null!=(s=e.session_state)?s:null,this.url_state=e.url_state}},Jo=class extends Error{constructor(e){super(e),this.name="ErrorTimeout"}},Zo=class{constructor(e){this._logger=new Bo("AccessTokenEvents"),this._expiringTimer=new Qo("Access token expiring"),this._expiredTimer=new Qo("Access token expired"),this._expiringNotificationTimeInSeconds=e.expiringNotificationTimeInSeconds}async load(e){const t=this._logger.create("load");if(e.access_token&&void 0!==e.expires_in){const n=e.expires_in;if(t.debug("access token present, remaining duration:",n),n>0){let e=n-this._expiringNotificationTimeInSeconds;e<=0&&(e=1),t.debug("registering expiring timer, raising in",e,"seconds"),this._expiringTimer.init(e)}else t.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();const r=n+1;t.debug("registering expired timer, raising in",r,"seconds"),this._expiredTimer.init(r)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}async unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(e){return this._expiringTimer.addHandler(e)}removeAccessTokenExpiring(e){this._expiringTimer.removeHandler(e)}addAccessTokenExpired(e){return this._expiredTimer.addHandler(e)}removeAccessTokenExpired(e){this._expiredTimer.removeHandler(e)}},ea=class{constructor(e,t,n,r,s){this._callback=e,this._client_id=t,this._intervalInSeconds=r,this._stopOnError=s,this._logger=new Bo("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=e=>{e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(e.data+" message from check session op iframe"))};const i=new URL(n);this._frame_origin=i.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=i.href}load(){return new Promise((e=>{this._frame.onload=()=>{e()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)}))}start(e){if(this._session_state===e)return;this._logger.create("start"),this.stop(),this._session_state=e;const t=()=>{this._frame.contentWindow&&this._session_state&&this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};t(),this._timer=setInterval(t,1e3*this._intervalInSeconds)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},ta=class{constructor(){this._logger=new Bo("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(e){return this._logger.create(`getItem('${e}')`),this._data[e]}setItem(e,t){this._logger.create(`setItem('${e}')`),this._data[e]=t}removeItem(e){this._logger.create(`removeItem('${e}')`),delete this._data[e]}get length(){return Object.getOwnPropertyNames(this._data).length}key(e){return Object.getOwnPropertyNames(this._data)[e]}},na=class extends Error{constructor(e,t){super(t),this.name="ErrorDPoPNonce",this.nonce=e}},ra=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._jwtHandler=t,this._extraHeaders=n,this._logger=new Bo("JsonService"),this._contentTypes=[],this._contentTypes.push(...e,"application/json"),t&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{timeoutInSeconds:n,...r}=t;if(!n)return await fetch(e,r);const s=new AbortController,i=setTimeout((()=>s.abort()),1e3*n);try{return await fetch(e,{...t,signal:s.signal})}catch(o){if(o instanceof DOMException&&"AbortError"===o.name)throw new Jo("Network timed out");throw o}finally{clearTimeout(i)}}async getJson(e){let{token:t,credentials:n,timeoutInSeconds:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=this._logger.create("getJson"),i={Accept:this._contentTypes.join(", ")};let o;t&&(s.debug("token passed, setting Authorization header"),i.Authorization="Bearer "+t),this._appendExtraHeaders(i);try{s.debug("url:",e),o=await this.fetchWithTimeout(e,{method:"GET",headers:i,timeoutInSeconds:r,credentials:n})}catch(c){throw s.error("Network Error"),c}s.debug("HTTP response received, status",o.status);const a=o.headers.get("Content-Type");if(a&&!this._contentTypes.find((e=>a.startsWith(e)))&&s.throw(new Error(`Invalid response Content-Type: ${null!=a?a:"undefined"}, from URL: ${e}`)),o.ok&&this._jwtHandler&&(null==a?void 0:a.startsWith("application/jwt")))return await this._jwtHandler(await o.text());let l;try{l=await o.json()}catch(c){if(s.error("Error parsing JSON response",c),o.ok)throw c;throw new Error(`${o.statusText} (${o.status})`)}if(!o.ok){if(s.error("Error from server:",l),l.error)throw new Xo(l);throw new Error(`${o.statusText} (${o.status}): ${JSON.stringify(l)}`)}return l}async postForm(e,t){let{body:n,basicAuth:r,timeoutInSeconds:s,initCredentials:i,extraHeaders:o}=t;const a=this._logger.create("postForm"),l={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded",...o};let c;void 0!==r&&(l.Authorization="Basic "+r),this._appendExtraHeaders(l);try{a.debug("url:",e),c=await this.fetchWithTimeout(e,{method:"POST",headers:l,body:n,timeoutInSeconds:s,credentials:i})}catch(p){throw a.error("Network error"),p}a.debug("HTTP response received, status",c.status);const u=c.headers.get("Content-Type");if(u&&!this._contentTypes.find((e=>u.startsWith(e))))throw new Error(`Invalid response Content-Type: ${null!=u?u:"undefined"}, from URL: ${e}`);const d=await c.text();let h={};if(d)try{h=JSON.parse(d)}catch(p){if(a.error("Error parsing JSON response",p),c.ok)throw p;throw new Error(`${c.statusText} (${c.status})`)}if(!c.ok){if(a.error("Error from server:",h),c.headers.has("dpop-nonce")){const e=c.headers.get("dpop-nonce");throw new na(e,`${JSON.stringify(h)}`)}if(h.error)throw new Xo(h,n);throw new Error(`${c.statusText} (${c.status}): ${JSON.stringify(h)}`)}return h}_appendExtraHeaders(e){const t=this._logger.create("appendExtraHeaders"),n=Object.keys(this._extraHeaders),r=["accept","content-type"],s=["authorization"];0!==n.length&&n.forEach((n=>{if(r.includes(n.toLocaleLowerCase()))return void t.warn("Protected header could not be set",n,r);if(s.includes(n.toLocaleLowerCase())&&Object.keys(e).includes(n))return void t.warn("Header could not be overridden",n,s);const i="function"===typeof this._extraHeaders[n]?this._extraHeaders[n]():this._extraHeaders[n];i&&""!==i&&(e[n]=i)}))}},sa=class{constructor(e){this._settings=e,this._logger=new Bo("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new ra(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){const e=this._logger.create("getMetadata");if(this._metadata)return e.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw e.throw(new Error("No authority or metadataUrl configured on settings")),null;e.debug("getting metadata from",this._metadataUrl);const t=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return e.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},t,this._settings.metadataSeed),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("revocation_endpoint",e)}getKeysEndpoint(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("jwks_uri",e)}async _getMetadataProperty(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create(`_getMetadataProperty('${e}')`),r=await this.getMetadata();if(n.debug("resolved"),void 0===r[e]){if(!0===t)return void n.warn("Metadata does not contain optional property");n.throw(new Error("Metadata does not contain property "+e))}return r[e]}async getSigningKeys(){const e=this._logger.create("getSigningKeys");if(this._signingKeys)return e.debug("returning signingKeys from cache"),this._signingKeys;const t=await this.getKeysEndpoint(!1);e.debug("got jwks_uri",t);const n=await this._jsonService.getJson(t,{timeoutInSeconds:this._settings.requestTimeoutInSeconds});if(e.debug("got key set",n),!Array.isArray(n.keys))throw e.throw(new Error("Missing keys on keyset")),null;return this._signingKeys=n.keys,this._signingKeys}},ia=class{constructor(){let{prefix:e="oidc.",store:t=localStorage}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._logger=new Bo("WebStorageStateStore"),this._store=t,this._prefix=e}async set(e,t){this._logger.create(`set('${e}')`),e=this._prefix+e,await this._store.setItem(e,t)}async get(e){this._logger.create(`get('${e}')`),e=this._prefix+e;return await this._store.getItem(e)}async remove(e){this._logger.create(`remove('${e}')`),e=this._prefix+e;const t=await this._store.getItem(e);return await this._store.removeItem(e),t}async getAllKeys(){this._logger.create("getAllKeys");const e=await this._store.length,t=[];for(let n=0;n<e;n++){const e=await this._store.key(n);e&&0===e.indexOf(this._prefix)&&t.push(e.substr(this._prefix.length))}return t}},oa="code",aa="openid",la="client_secret_post",ca=900,ua=class{constructor(e){let{authority:t,metadataUrl:n,metadata:r,signingKeys:s,metadataSeed:i,client_id:o,client_secret:a,response_type:l=oa,scope:c=aa,redirect_uri:u,post_logout_redirect_uri:d,client_authentication:h=la,prompt:p,display:f,max_age:m,ui_locales:g,acr_values:y,resource:v,response_mode:x,filterProtocolClaims:b=!0,loadUserInfo:w=!1,requestTimeoutInSeconds:S,staleStateAgeInSeconds:k=ca,mergeClaimsStrategy:_={array:"replace"},disablePKCE:j=!1,stateStore:T,revokeTokenAdditionalContentTypes:C,fetchRequestCredentials:E,refreshTokenAllowedScope:N,extraQueryParams:A={},extraTokenParams:P={},extraHeaders:M={},dpop:I,omitScopeWhenRequesting:R=!1}=e;var O;if(this.authority=t,n?this.metadataUrl=n:(this.metadataUrl=t,t&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=r,this.metadataSeed=i,this.signingKeys=s,this.client_id=o,this.client_secret=a,this.response_type=l,this.scope=c,this.redirect_uri=u,this.post_logout_redirect_uri=d,this.client_authentication=h,this.prompt=p,this.display=f,this.max_age=m,this.ui_locales=g,this.acr_values=y,this.resource=v,this.response_mode=x,this.filterProtocolClaims=null==b||b,this.loadUserInfo=!!w,this.staleStateAgeInSeconds=k,this.mergeClaimsStrategy=_,this.omitScopeWhenRequesting=R,this.disablePKCE=!!j,this.revokeTokenAdditionalContentTypes=C,this.fetchRequestCredentials=E||"same-origin",this.requestTimeoutInSeconds=S,T)this.stateStore=T;else{const e="undefined"!==typeof window?window.localStorage:new ta;this.stateStore=new ia({store:e})}if(this.refreshTokenAllowedScope=N,this.extraQueryParams=A,this.extraTokenParams=P,this.extraHeaders=M,this.dpop=I,this.dpop&&!(null==(O=this.dpop)?void 0:O.store))throw new Error("A DPoPStore is required when dpop is enabled")}},da=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Bo("UserInfoService"),this._getClaimsFromJwt=async e=>{const t=this._logger.create("_getClaimsFromJwt");try{const n=Uo.decode(e);return t.debug("JWT decoding successful"),n}catch(n){throw t.error("Error parsing JWT response"),n}},this._jsonService=new ra(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(e){const t=this._logger.create("getClaims");e||this._logger.throw(new Error("No token passed"));const n=await this._metadataService.getUserInfoEndpoint();t.debug("got userinfo url",n);const r=await this._jsonService.getJson(n,{token:e,credentials:this._settings.fetchRequestCredentials,timeoutInSeconds:this._settings.requestTimeoutInSeconds});return t.debug("got claims",r),r}},ha=class{constructor(e,t){this._settings=e,this._metadataService=t,this._logger=new Bo("TokenClient"),this._jsonService=new ra(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode(e){let{grant_type:t="authorization_code",redirect_uri:n=this._settings.redirect_uri,client_id:r=this._settings.client_id,client_secret:s=this._settings.client_secret,extraHeaders:i,...o}=e;const a=this._logger.create("exchangeCode");r||a.throw(new Error("A client_id is required")),n||a.throw(new Error("A redirect_uri is required")),o.code||a.throw(new Error("A code is required"));const l=new URLSearchParams({grant_type:t,redirect_uri:n});for(const[h,p]of Object.entries(o))null!=p&&l.set(h,p);let c;switch(this._settings.client_authentication){case"client_secret_basic":if(void 0===s||null===s)throw a.throw(new Error("A client_secret is required")),null;c=Vo.generateBasicAuth(r,s);break;case"client_secret_post":l.append("client_id",r),s&&l.append("client_secret",s)}const u=await this._metadataService.getTokenEndpoint(!1);a.debug("got token endpoint");const d=await this._jsonService.postForm(u,{body:l,basicAuth:c,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:i});return a.debug("got response"),d}async exchangeCredentials(e){let{grant_type:t="password",client_id:n=this._settings.client_id,client_secret:r=this._settings.client_secret,scope:s=this._settings.scope,...i}=e;const o=this._logger.create("exchangeCredentials");n||o.throw(new Error("A client_id is required"));const a=new URLSearchParams({grant_type:t});this._settings.omitScopeWhenRequesting||a.set("scope",s);for(const[d,h]of Object.entries(i))null!=h&&a.set(d,h);let l;switch(this._settings.client_authentication){case"client_secret_basic":if(void 0===r||null===r)throw o.throw(new Error("A client_secret is required")),null;l=Vo.generateBasicAuth(n,r);break;case"client_secret_post":a.append("client_id",n),r&&a.append("client_secret",r)}const c=await this._metadataService.getTokenEndpoint(!1);o.debug("got token endpoint");const u=await this._jsonService.postForm(c,{body:a,basicAuth:l,timeoutInSeconds:this._settings.requestTimeoutInSeconds,initCredentials:this._settings.fetchRequestCredentials});return o.debug("got response"),u}async exchangeRefreshToken(e){let{grant_type:t="refresh_token",client_id:n=this._settings.client_id,client_secret:r=this._settings.client_secret,timeoutInSeconds:s,extraHeaders:i,...o}=e;const a=this._logger.create("exchangeRefreshToken");n||a.throw(new Error("A client_id is required")),o.refresh_token||a.throw(new Error("A refresh_token is required"));const l=new URLSearchParams({grant_type:t});for(const[h,p]of Object.entries(o))Array.isArray(p)?p.forEach((e=>l.append(h,e))):null!=p&&l.set(h,p);let c;switch(this._settings.client_authentication){case"client_secret_basic":if(void 0===r||null===r)throw a.throw(new Error("A client_secret is required")),null;c=Vo.generateBasicAuth(n,r);break;case"client_secret_post":l.append("client_id",n),r&&l.append("client_secret",r)}const u=await this._metadataService.getTokenEndpoint(!1);a.debug("got token endpoint");const d=await this._jsonService.postForm(u,{body:l,basicAuth:c,timeoutInSeconds:s,initCredentials:this._settings.fetchRequestCredentials,extraHeaders:i});return a.debug("got response"),d}async revoke(e){var t;const n=this._logger.create("revoke");e.token||n.throw(new Error("A token is required"));const r=await this._metadataService.getRevocationEndpoint(!1);n.debug(`got revocation endpoint, revoking ${null!=(t=e.token_type_hint)?t:"default token type"}`);const s=new URLSearchParams;for(const[i,o]of Object.entries(e))null!=o&&s.set(i,o);s.set("client_id",this._settings.client_id),this._settings.client_secret&&s.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(r,{body:s,timeoutInSeconds:this._settings.requestTimeoutInSeconds}),n.debug("got response")}},pa=class{constructor(e,t,n){this._settings=e,this._metadataService=t,this._claimsService=n,this._logger=new Bo("ResponseValidator"),this._userInfoService=new da(this._settings,this._metadataService),this._tokenClient=new ha(this._settings,this._metadataService)}async validateSigninResponse(e,t,n){const r=this._logger.create("validateSigninResponse");this._processSigninState(e,t),r.debug("state processed"),await this._processCode(e,t,n),r.debug("code processed"),e.isOpenId&&this._validateIdTokenAttributes(e),r.debug("tokens validated"),await this._processClaims(e,null==t?void 0:t.skipUserInfo,e.isOpenId),r.debug("claims processed")}async validateCredentialsResponse(e,t){const n=this._logger.create("validateCredentialsResponse"),r=e.isOpenId&&!!e.id_token;r&&this._validateIdTokenAttributes(e),n.debug("tokens validated"),await this._processClaims(e,t,r),n.debug("claims processed")}async validateRefreshResponse(e,t){const n=this._logger.create("validateRefreshResponse");e.userState=t.data,null!=e.session_state||(e.session_state=t.session_state),null!=e.scope||(e.scope=t.scope),e.isOpenId&&e.id_token&&(this._validateIdTokenAttributes(e,t.id_token),n.debug("ID Token validated")),e.id_token||(e.id_token=t.id_token,e.profile=t.profile);const r=e.isOpenId&&!!e.id_token;await this._processClaims(e,!1,r),n.debug("claims processed")}validateSignoutResponse(e,t){const n=this._logger.create("validateSignoutResponse");if(t.id!==e.state&&n.throw(new Error("State does not match")),n.debug("state validated"),e.userState=t.data,e.error)throw n.warn("Response was error",e.error),new Xo(e)}_processSigninState(e,t){const n=this._logger.create("_processSigninState");if(t.id!==e.state&&n.throw(new Error("State does not match")),t.client_id||n.throw(new Error("No client_id on state")),t.authority||n.throw(new Error("No authority on state")),this._settings.authority!==t.authority&&n.throw(new Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==t.client_id&&n.throw(new Error("client_id mismatch on settings vs. signin state")),n.debug("state validated"),e.userState=t.data,e.url_state=t.url_state,null!=e.scope||(e.scope=t.scope),e.error)throw n.warn("Response was error",e.error),new Xo(e);t.code_verifier&&!e.code&&n.throw(new Error("Expected code in response"))}async _processClaims(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._logger.create("_processClaims");if(e.profile=this._claimsService.filterProtocolClaims(e.profile),t||!this._settings.loadUserInfo||!e.access_token)return void r.debug("not loading user info");r.debug("loading user info");const s=await this._userInfoService.getClaims(e.access_token);r.debug("user info claims received from user info endpoint"),n&&s.sub!==e.profile.sub&&r.throw(new Error("subject from UserInfo response does not match subject in ID Token")),e.profile=this._claimsService.mergeClaims(e.profile,this._claimsService.filterProtocolClaims(s)),r.debug("user info claims received, updated profile:",e.profile)}async _processCode(e,t,n){const r=this._logger.create("_processCode");if(e.code){r.debug("Validating code");const s=await this._tokenClient.exchangeCode({client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier,extraHeaders:n,...t.extraTokenParams});Object.assign(e,s)}else r.debug("No code to process")}_validateIdTokenAttributes(e,t){var n;const r=this._logger.create("_validateIdTokenAttributes");r.debug("decoding ID Token JWT");const s=Uo.decode(null!=(n=e.id_token)?n:"");if(s.sub||r.throw(new Error("ID Token is missing a subject claim")),t){const e=Uo.decode(t);s.sub!==e.sub&&r.throw(new Error("sub in id_token does not match current sub")),s.auth_time&&s.auth_time!==e.auth_time&&r.throw(new Error("auth_time in id_token does not match original auth_time")),s.azp&&s.azp!==e.azp&&r.throw(new Error("azp in id_token does not match original azp")),!s.azp&&e.azp&&r.throw(new Error("azp not in id_token, but present in original id_token"))}e.profile=s}},fa=class e{constructor(e){this.id=e.id||Vo.generateUUIDv4(),this.data=e.data,e.created&&e.created>0?this.created=e.created:this.created=Qo.getEpochTime(),this.request_type=e.request_type,this.url_state=e.url_state}toStorageString(){return new Bo("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(t){return Bo.createStatic("State","fromStorageString"),Promise.resolve(new e(JSON.parse(t)))}static async clearStaleState(t,n){const r=Bo.createStatic("State","clearStaleState"),s=Qo.getEpochTime()-n,i=await t.getAllKeys();r.debug("got keys",i);for(let a=0;a<i.length;a++){const n=i[a],l=await t.get(n);let c=!1;if(l)try{const t=await e.fromStorageString(l);r.debug("got item from key:",n,t.created),t.created<=s&&(c=!0)}catch(o){r.error("Error parsing state for key:",n,o),c=!0}else r.debug("no item in storage for key:",n),c=!0;c&&(r.debug("removed item for key:",n),t.remove(n))}}},ma=class e extends fa{constructor(e){super(e),this.code_verifier=e.code_verifier,this.code_challenge=e.code_challenge,this.authority=e.authority,this.client_id=e.client_id,this.redirect_uri=e.redirect_uri,this.scope=e.scope,this.client_secret=e.client_secret,this.extraTokenParams=e.extraTokenParams,this.response_mode=e.response_mode,this.skipUserInfo=e.skipUserInfo}static async create(t){const n=!0===t.code_verifier?Vo.generateCodeVerifier():t.code_verifier||void 0,r=n?await Vo.generateCodeChallenge(n):void 0;return new e({...t,code_verifier:n,code_challenge:r})}toStorageString(){return new Bo("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(t){Bo.createStatic("SigninState","fromStorageString");const n=JSON.parse(t);return e.create(n)}},ga=class e{constructor(e){this.url=e.url,this.state=e.state}static async create(t){let{url:n,authority:r,client_id:s,redirect_uri:i,response_type:o,scope:a,state_data:l,response_mode:c,request_type:u,client_secret:d,nonce:h,url_state:p,resource:f,skipUserInfo:m,extraQueryParams:g,extraTokenParams:y,disablePKCE:v,dpopJkt:x,omitScopeWhenRequesting:b,...w}=t;if(!n)throw this._logger.error("create: No url passed"),new Error("url");if(!s)throw this._logger.error("create: No client_id passed"),new Error("client_id");if(!i)throw this._logger.error("create: No redirect_uri passed"),new Error("redirect_uri");if(!o)throw this._logger.error("create: No response_type passed"),new Error("response_type");if(!a)throw this._logger.error("create: No scope passed"),new Error("scope");if(!r)throw this._logger.error("create: No authority passed"),new Error("authority");const S=await ma.create({data:l,request_type:u,url_state:p,code_verifier:!v,client_id:s,authority:r,redirect_uri:i,response_mode:c,client_secret:d,scope:a,extraTokenParams:y,skipUserInfo:m}),k=new URL(n);k.searchParams.append("client_id",s),k.searchParams.append("redirect_uri",i),k.searchParams.append("response_type",o),b||k.searchParams.append("scope",a),h&&k.searchParams.append("nonce",h),x&&k.searchParams.append("dpop_jkt",x);let _=S.id;if(p&&(_=`${_}${Go}${p}`),k.searchParams.append("state",_),S.code_challenge&&(k.searchParams.append("code_challenge",S.code_challenge),k.searchParams.append("code_challenge_method","S256")),f){(Array.isArray(f)?f:[f]).forEach((e=>k.searchParams.append("resource",e)))}for(const[e,j]of Object.entries({response_mode:c,...w,...g}))null!=j&&k.searchParams.append(e,j.toString());return new e({url:k.href,state:S})}};ga._logger=new Bo("SigninRequest");var ya=ga,va=class{constructor(e){if(this.access_token="",this.token_type="",this.profile={},this.state=e.get("state"),this.session_state=e.get("session_state"),this.state){const e=decodeURIComponent(this.state).split(Go);this.state=e[0],e.length>1&&(this.url_state=e.slice(1).join(Go))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri"),this.code=e.get("code")}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-Qo.getEpochTime()}set expires_in(e){"string"===typeof e&&(e=Number(e)),void 0!==e&&e>=0&&(this.expires_at=Math.floor(e)+Qo.getEpochTime())}get isOpenId(){var e;return(null==(e=this.scope)?void 0:e.split(" ").includes("openid"))||!!this.id_token}},xa=class{constructor(e){let{url:t,state_data:n,id_token_hint:r,post_logout_redirect_uri:s,extraQueryParams:i,request_type:o,client_id:a,url_state:l}=e;if(this._logger=new Bo("SignoutRequest"),!t)throw this._logger.error("ctor: No url passed"),new Error("url");const c=new URL(t);if(r&&c.searchParams.append("id_token_hint",r),a&&c.searchParams.append("client_id",a),s&&(c.searchParams.append("post_logout_redirect_uri",s),n||l)){this.state=new fa({data:n,request_type:o,url_state:l});let e=this.state.id;l&&(e=`${e}${Go}${l}`),c.searchParams.append("state",e)}for(const[u,d]of Object.entries({...i}))null!=d&&c.searchParams.append(u,d.toString());this.url=c.href}},ba=class{constructor(e){if(this.state=e.get("state"),this.state){const e=decodeURIComponent(this.state).split(Go);this.state=e[0],e.length>1&&(this.url_state=e.slice(1).join(Go))}this.error=e.get("error"),this.error_description=e.get("error_description"),this.error_uri=e.get("error_uri")}},wa=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],Sa=["sub","iss","aud","exp","iat"],ka=class{constructor(e){this._settings=e,this._logger=new Bo("ClaimsService")}filterProtocolClaims(e){const t={...e};if(this._settings.filterProtocolClaims){let e;e=Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:wa;for(const n of e)Sa.includes(n)||delete t[n]}return t}mergeClaims(e,t){const n={...e};for(const[r,s]of Object.entries(t))if(n[r]!==s)if(Array.isArray(n[r])||Array.isArray(s))if("replace"==this._settings.mergeClaimsStrategy.array)n[r]=s;else{const e=Array.isArray(n[r])?n[r]:[n[r]];for(const t of Array.isArray(s)?s:[s])e.includes(t)||e.push(t);n[r]=e}else"object"===typeof n[r]&&"object"===typeof s?n[r]=this.mergeClaims(n[r],s):n[r]=s;return n}},_a=class{constructor(e,t){this.keys=e,this.nonce=t}},ja=class{constructor(e,t){this._logger=new Bo("OidcClient"),this.settings=e instanceof ua?e:new ua(e),this.metadataService=null!=t?t:new sa(this.settings),this._claimsService=new ka(this.settings),this._validator=new pa(this.settings,this.metadataService,this._claimsService),this._tokenClient=new ha(this.settings,this.metadataService)}async createSigninRequest(e){let{state:t,request:n,request_uri:r,request_type:s,id_token_hint:i,login_hint:o,skipUserInfo:a,nonce:l,url_state:c,response_type:u=this.settings.response_type,scope:d=this.settings.scope,redirect_uri:h=this.settings.redirect_uri,prompt:p=this.settings.prompt,display:f=this.settings.display,max_age:m=this.settings.max_age,ui_locales:g=this.settings.ui_locales,acr_values:y=this.settings.acr_values,resource:v=this.settings.resource,response_mode:x=this.settings.response_mode,extraQueryParams:b=this.settings.extraQueryParams,extraTokenParams:w=this.settings.extraTokenParams,dpopJkt:S,omitScopeWhenRequesting:k=this.settings.omitScopeWhenRequesting}=e;const _=this._logger.create("createSigninRequest");if("code"!==u)throw new Error("Only the Authorization Code flow (with PKCE) is supported");const j=await this.metadataService.getAuthorizationEndpoint();_.debug("Received authorization endpoint",j);const T=await ya.create({url:j,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:h,response_type:u,scope:d,state_data:t,url_state:c,prompt:p,display:f,max_age:m,ui_locales:g,id_token_hint:i,login_hint:o,acr_values:y,dpopJkt:S,resource:v,request:n,request_uri:r,extraQueryParams:b,extraTokenParams:w,request_type:s,response_mode:x,client_secret:this.settings.client_secret,skipUserInfo:a,nonce:l,disablePKCE:this.settings.disablePKCE,omitScopeWhenRequesting:k});await this.clearStaleState();const C=T.state;return await this.settings.stateStore.set(C.id,C.toStorageString()),T}async readSigninResponseState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create("readSigninResponseState"),r=new va(Yo.readParams(e,this.settings.response_mode));if(!r.state)throw n.throw(new Error("No state in response")),null;const s=await this.settings.stateStore[t?"remove":"get"](r.state);if(!s)throw n.throw(new Error("No matching state found in storage")),null;return{state:await ma.fromStorageString(s),response:r}}async processSigninResponse(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._logger.create("processSigninResponse"),{state:s,response:i}=await this.readSigninResponseState(e,n);if(r.debug("received state from storage; validating response"),this.settings.dpop&&this.settings.dpop.store){const e=await this.getDpopProof(this.settings.dpop.store);t={...t,DPoP:e}}try{await this._validator.validateSigninResponse(i,s,t)}catch(o){if(!(o instanceof na&&this.settings.dpop))throw o;{const e=await this.getDpopProof(this.settings.dpop.store,o.nonce);t.DPoP=e,await this._validator.validateSigninResponse(i,s,t)}}return i}async getDpopProof(e,t){let n,r;return(await e.getAllKeys()).includes(this.settings.client_id)?(r=await e.get(this.settings.client_id),r.nonce!==t&&t&&(r.nonce=t,await e.set(this.settings.client_id,r))):(n=await Vo.generateDPoPKeys(),r=new _a(n,t),await e.set(this.settings.client_id,r)),await Vo.generateDPoPProof({url:await this.metadataService.getTokenEndpoint(!1),httpMethod:"POST",keyPair:r.keys,nonce:r.nonce})}async processResourceOwnerPasswordCredentials(e){let{username:t,password:n,skipUserInfo:r=!1,extraTokenParams:s={}}=e;const i=await this._tokenClient.exchangeCredentials({username:t,password:n,...s}),o=new va(new URLSearchParams);return Object.assign(o,i),await this._validator.validateCredentialsResponse(o,r),o}async useRefreshToken(e){let{state:t,redirect_uri:n,resource:r,timeoutInSeconds:s,extraHeaders:i,extraTokenParams:o}=e;var a;const l=this._logger.create("useRefreshToken");let c,u;if(void 0===this.settings.refreshTokenAllowedScope)c=t.scope;else{const e=this.settings.refreshTokenAllowedScope.split(" ");c=((null==(a=t.scope)?void 0:a.split(" "))||[]).filter((t=>e.includes(t))).join(" ")}if(this.settings.dpop&&this.settings.dpop.store){const e=await this.getDpopProof(this.settings.dpop.store);i={...i,DPoP:e}}try{u=await this._tokenClient.exchangeRefreshToken({refresh_token:t.refresh_token,scope:c,redirect_uri:n,resource:r,timeoutInSeconds:s,extraHeaders:i,...o})}catch(h){if(!(h instanceof na&&this.settings.dpop))throw h;i.DPoP=await this.getDpopProof(this.settings.dpop.store,h.nonce),u=await this._tokenClient.exchangeRefreshToken({refresh_token:t.refresh_token,scope:c,redirect_uri:n,resource:r,timeoutInSeconds:s,extraHeaders:i,...o})}const d=new va(new URLSearchParams);return Object.assign(d,u),l.debug("validating response",d),await this._validator.validateRefreshResponse(d,{...t,scope:c}),d}async createSignoutRequest(){let{state:e,id_token_hint:t,client_id:n,request_type:r,url_state:s,post_logout_redirect_uri:i=this.settings.post_logout_redirect_uri,extraQueryParams:o=this.settings.extraQueryParams}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=this._logger.create("createSignoutRequest"),l=await this.metadataService.getEndSessionEndpoint();if(!l)throw a.throw(new Error("No end session endpoint")),null;a.debug("Received end session endpoint",l),n||!i||t||(n=this.settings.client_id);const c=new xa({url:l,id_token_hint:t,client_id:n,post_logout_redirect_uri:i,state_data:e,extraQueryParams:o,request_type:r,url_state:s});await this.clearStaleState();const u=c.state;return u&&(a.debug("Signout request has state to persist"),await this.settings.stateStore.set(u.id,u.toStorageString())),c}async readSignoutResponseState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create("readSignoutResponseState"),r=new ba(Yo.readParams(e,this.settings.response_mode));if(!r.state){if(n.debug("No state in response"),r.error)throw n.warn("Response was error:",r.error),new Xo(r);return{state:void 0,response:r}}const s=await this.settings.stateStore[t?"remove":"get"](r.state);if(!s)throw n.throw(new Error("No matching state found in storage")),null;return{state:await fa.fromStorageString(s),response:r}}async processSignoutResponse(e){const t=this._logger.create("processSignoutResponse"),{state:n,response:r}=await this.readSignoutResponseState(e,!0);return n?(t.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(r,n)):t.debug("No state from storage; skipping response validation"),r}clearStaleState(){return this._logger.create("clearStaleState"),fa.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(e,t){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:e,token_type_hint:t})}},Ta=class{constructor(e){this._userManager=e,this._logger=new Bo("SessionMonitor"),this._start=async e=>{const t=e.session_state;if(!t)return;const n=this._logger.create("_start");if(e.profile?(this._sub=e.profile.sub,n.debug("session_state",t,", sub",this._sub)):(this._sub=void 0,n.debug("session_state",t,", anonymous user")),this._checkSessionIFrame)this._checkSessionIFrame.start(t);else try{const e=await this._userManager.metadataService.getCheckSessionIframe();if(e){n.debug("initializing check session iframe");const r=this._userManager.settings.client_id,s=this._userManager.settings.checkSessionIntervalInSeconds,i=this._userManager.settings.stopCheckSessionOnError,o=new ea(this._callback,r,e,s,i);await o.load(),this._checkSessionIFrame=o,o.start(t)}else n.warn("no check session iframe found in the metadata")}catch(r){n.error("Error from getCheckSessionIframe:",r instanceof Error?r.message:r)}},this._stop=()=>{const e=this._logger.create("_stop");if(this._sub=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){const t=setInterval((async()=>{clearInterval(t);try{const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub?{sub:e.sub}:null};this._start(t)}}catch(n){e.error("error from querySessionStatus",n instanceof Error?n.message:n)}}),1e3)}},this._callback=async()=>{const e=this._logger.create("_callback");try{const t=await this._userManager.querySessionStatus();let n=!0;t&&this._checkSessionIFrame?t.sub===this._sub?(n=!1,this._checkSessionIFrame.start(t.session_state),e.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",t.session_state),await this._userManager.events._raiseUserSessionChanged()):e.debug("different subject signed into OP",t.sub):e.debug("subject no longer signed into OP"),n?this._sub?await this._userManager.events._raiseUserSignedOut():await this._userManager.events._raiseUserSignedIn():e.debug("no change in session detected, no event to raise")}catch(t){this._sub&&(e.debug("Error calling queryCurrentSigninSession; raising signed out event",t),await this._userManager.events._raiseUserSignedOut())}},e||this._logger.throw(new Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch((e=>{this._logger.error(e)}))}async _init(){this._logger.create("_init");const e=await this._userManager.getUser();if(e)this._start(e);else if(this._userManager.settings.monitorAnonymousSession){const e=await this._userManager.querySessionStatus();if(e){const t={session_state:e.session_state,profile:e.sub?{sub:e.sub}:null};this._start(t)}}}},Ca=class e{constructor(e){var t;this.id_token=e.id_token,this.session_state=null!=(t=e.session_state)?t:null,this.access_token=e.access_token,this.refresh_token=e.refresh_token,this.token_type=e.token_type,this.scope=e.scope,this.profile=e.profile,this.expires_at=e.expires_at,this.state=e.userState,this.url_state=e.url_state}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-Qo.getEpochTime()}set expires_in(e){void 0!==e&&(this.expires_at=Math.floor(e)+Qo.getEpochTime())}get expired(){const e=this.expires_in;if(void 0!==e)return e<=0}get scopes(){var e,t;return null!=(t=null==(e=this.scope)?void 0:e.split(" "))?t:[]}toStorageString(){return new Bo("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(t){return Bo.createStatic("User","fromStorageString"),new e(JSON.parse(t))}},Ea="oidc-client",Na=class{constructor(){this._abort=new qo("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(e){const t=this._logger.create("navigate");if(!this._window)throw new Error("Attempted to navigate on a disposed window");t.debug("setting URL in window"),this._window.location.replace(e.url);const{url:n,keepOpen:r}=await new Promise(((n,r)=>{const s=s=>{var i;const o=s.data,a=null!=(i=e.scriptOrigin)?i:window.location.origin;if(s.origin===a&&(null==o?void 0:o.source)===Ea){try{const n=Yo.readParams(o.url,e.response_mode).get("state");if(n||t.warn("no state found in response url"),s.source!==this._window&&n!==e.state)return}catch{this._dispose(),r(new Error("Invalid response from window"))}n(o)}};window.addEventListener("message",s,!1),this._disposeHandlers.add((()=>window.removeEventListener("message",s,!1)));const i=new BroadcastChannel(`oidc-client-popup-${e.state}`);i.addEventListener("message",s,!1),this._disposeHandlers.add((()=>i.close())),this._disposeHandlers.add(this._abort.addHandler((e=>{this._dispose(),r(e)})))}));return t.debug("got response from window"),this._dispose(),r||this.close(),{url:n}}_dispose(){this._logger.create("_dispose");for(const e of this._disposeHandlers)e();this._disposeHandlers.clear()}static _notifyParent(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.origin;const s={source:Ea,url:t,keepOpen:n},i=new Bo("_notifyParent");if(e)i.debug("With parent. Using parent.postMessage."),e.postMessage(s,r);else{i.debug("No parent. Using BroadcastChannel.");const e=new URL(t).searchParams.get("state");if(!e)throw new Error("No parent and no state in URL. Can't complete notification.");const n=new BroadcastChannel(`oidc-client-popup-${e}`);n.postMessage(s),n.close()}}},Aa={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},Pa="_blank",Ma=60,Ia=2,Ra=10,Oa=class extends ua{constructor(e){const{popup_redirect_uri:t=e.redirect_uri,popup_post_logout_redirect_uri:n=e.post_logout_redirect_uri,popupWindowFeatures:r=Aa,popupWindowTarget:s=Pa,redirectMethod:i="assign",redirectTarget:o="self",iframeNotifyParentOrigin:a=e.iframeNotifyParentOrigin,iframeScriptOrigin:l=e.iframeScriptOrigin,requestTimeoutInSeconds:c,silent_redirect_uri:u=e.redirect_uri,silentRequestTimeoutInSeconds:d,automaticSilentRenew:h=!0,validateSubOnSilentRenew:p=!0,includeIdTokenInSilentRenew:f=!1,monitorSession:m=!1,monitorAnonymousSession:g=!1,checkSessionIntervalInSeconds:y=Ia,query_status_response_type:v="code",stopCheckSessionOnError:x=!0,revokeTokenTypes:b=["access_token","refresh_token"],revokeTokensOnSignout:w=!1,includeIdTokenInSilentSignout:S=!1,accessTokenExpiringNotificationTimeInSeconds:k=Ma,userStore:_}=e;if(super(e),this.popup_redirect_uri=t,this.popup_post_logout_redirect_uri=n,this.popupWindowFeatures=r,this.popupWindowTarget=s,this.redirectMethod=i,this.redirectTarget=o,this.iframeNotifyParentOrigin=a,this.iframeScriptOrigin=l,this.silent_redirect_uri=u,this.silentRequestTimeoutInSeconds=d||c||Ra,this.automaticSilentRenew=h,this.validateSubOnSilentRenew=p,this.includeIdTokenInSilentRenew=f,this.monitorSession=m,this.monitorAnonymousSession=g,this.checkSessionIntervalInSeconds=y,this.stopCheckSessionOnError=x,this.query_status_response_type=v,this.revokeTokenTypes=b,this.revokeTokensOnSignout=w,this.includeIdTokenInSilentSignout=S,this.accessTokenExpiringNotificationTimeInSeconds=k,_)this.userStore=_;else{const e="undefined"!==typeof window?window.sessionStorage:new ta;this.userStore=new ia({store:e})}}},Da=class e extends Na{constructor(t){let{silentRequestTimeoutInSeconds:n=Ra}=t;super(),this._logger=new Bo("IFrameWindow"),this._timeoutInSeconds=n,this._frame=e.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){const e=window.document.createElement("iframe");return e.style.visibility="hidden",e.style.position="fixed",e.style.left="-1000px",e.style.top="0",e.width="0",e.height="0",window.document.body.appendChild(e),e}async navigate(e){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);const t=setTimeout((()=>{this._abort.raise(new Jo("IFrame timed out without a response"))}),1e3*this._timeoutInSeconds);return this._disposeHandlers.add((()=>clearTimeout(t))),await super.navigate(e)}close(){var e;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",(e=>{var t;const n=e.target;null==(t=n.parentNode)||t.removeChild(n),this._abort.raise(new Error("IFrame removed from DOM"))}),!0),null==(e=this._frame.contentWindow)||e.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(e,t){return super._notifyParent(window.parent,e,!1,t)}},La=class{constructor(e){this._settings=e,this._logger=new Bo("IFrameNavigator")}async prepare(e){let{silentRequestTimeoutInSeconds:t=this._settings.silentRequestTimeoutInSeconds}=e;return new Da({silentRequestTimeoutInSeconds:t})}async callback(e){this._logger.create("callback"),Da.notifyParent(e,this._settings.iframeNotifyParentOrigin)}},Fa=class extends Na{constructor(e){let{popupWindowTarget:t=Pa,popupWindowFeatures:n={},popupSignal:r}=e;super(),this._logger=new Bo("PopupWindow");const s=Ko.center({...Aa,...n});this._window=window.open(void 0,t,Ko.serialize(s)),r&&r.addEventListener("abort",(()=>{var e;this._abort.raise(new Error(null!=(e=r.reason)?e:"Popup aborted"))})),n.closePopupWindowAfterInSeconds&&n.closePopupWindowAfterInSeconds>0&&setTimeout((()=>{this._window&&"boolean"===typeof this._window.closed&&!this._window.closed?this.close():this._abort.raise(new Error("Popup blocked by user"))}),1e3*n.closePopupWindowAfterInSeconds)}async navigate(e){var t;null==(t=this._window)||t.focus();const n=setInterval((()=>{this._window&&!this._window.closed||(this._logger.debug("Popup closed by user or isolated by redirect"),r(),this._disposeHandlers.delete(r))}),500),r=()=>clearInterval(n);return this._disposeHandlers.add(r),await super.navigate(e)}close(){this._window&&(this._window.closed||(this._window.close(),this._abort.raise(new Error("Popup closed")))),this._window=null}static notifyOpener(e,t){super._notifyParent(window.opener,e,t),t||window.opener||window.close()}},za=class{constructor(e){this._settings=e,this._logger=new Bo("PopupNavigator")}async prepare(e){let{popupWindowFeatures:t=this._settings.popupWindowFeatures,popupWindowTarget:n=this._settings.popupWindowTarget,popupSignal:r}=e;return new Fa({popupWindowFeatures:t,popupWindowTarget:n,popupSignal:r})}async callback(e,t){let{keepOpen:n=!1}=t;this._logger.create("callback"),Fa.notifyOpener(e,n)}},$a=class{constructor(e){this._settings=e,this._logger=new Bo("RedirectNavigator")}async prepare(e){let{redirectMethod:t=this._settings.redirectMethod,redirectTarget:n=this._settings.redirectTarget}=e;var r;this._logger.create("prepare");let s=window.self;"top"===n&&(s=null!=(r=window.top)?r:window.self);const i=s.location[t].bind(s.location);let o;return{navigate:async e=>{this._logger.create("navigate");const t=new Promise(((e,t)=>{o=t}));return i(e.url),await t},close:()=>{this._logger.create("close"),null==o||o(new Error("Redirect aborted")),s.stop()}}}async callback(){}},Ba=class extends Zo{constructor(e){super({expiringNotificationTimeInSeconds:e.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new Bo("UserManagerEvents"),this._userLoaded=new qo("User loaded"),this._userUnloaded=new qo("User unloaded"),this._silentRenewError=new qo("Silent renew error"),this._userSignedIn=new qo("User signed in"),this._userSignedOut=new qo("User signed out"),this._userSessionChanged=new qo("User session changed")}async load(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];await super.load(e),t&&await this._userLoaded.raise(e)}async unload(){await super.unload(),await this._userUnloaded.raise()}addUserLoaded(e){return this._userLoaded.addHandler(e)}removeUserLoaded(e){return this._userLoaded.removeHandler(e)}addUserUnloaded(e){return this._userUnloaded.addHandler(e)}removeUserUnloaded(e){return this._userUnloaded.removeHandler(e)}addSilentRenewError(e){return this._silentRenewError.addHandler(e)}removeSilentRenewError(e){return this._silentRenewError.removeHandler(e)}async _raiseSilentRenewError(e){await this._silentRenewError.raise(e)}addUserSignedIn(e){return this._userSignedIn.addHandler(e)}removeUserSignedIn(e){this._userSignedIn.removeHandler(e)}async _raiseUserSignedIn(){await this._userSignedIn.raise()}addUserSignedOut(e){return this._userSignedOut.addHandler(e)}removeUserSignedOut(e){this._userSignedOut.removeHandler(e)}async _raiseUserSignedOut(){await this._userSignedOut.raise()}addUserSessionChanged(e){return this._userSessionChanged.addHandler(e)}removeUserSessionChanged(e){this._userSessionChanged.removeHandler(e)}async _raiseUserSessionChanged(){await this._userSessionChanged.raise()}},Ua=class{constructor(e){this._userManager=e,this._logger=new Bo("SilentRenewService"),this._isStarted=!1,this._retryTimer=new Qo("Retry Silent Renew"),this._tokenExpiring=async()=>{const e=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),e.debug("silent token renewal successful")}catch(t){if(t instanceof Jo)return e.warn("ErrorTimeout from signinSilent:",t,"retry in 5s"),void this._retryTimer.init(5);e.error("Error from signinSilent:",t),await this._userManager.events._raiseSilentRenewError(t)}}}async start(){const e=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(t){e.error("getUser error",t)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},Wa=class{constructor(e){this.refresh_token=e.refresh_token,this.id_token=e.id_token,this.session_state=e.session_state,this.scope=e.scope,this.profile=e.profile,this.data=e.state}},Ha=class{constructor(e,t,n,r){this._logger=new Bo("UserManager"),this.settings=new Oa(e),this._client=new ja(e),this._redirectNavigator=null!=t?t:new $a(this.settings),this._popupNavigator=null!=n?n:new za(this.settings),this._iframeNavigator=null!=r?r:new La(this.settings),this._events=new Ba(this.settings),this._silentRenewService=new Ua(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new Ta(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this._logger.create("getUser"),n=await this._loadUser();return n?(t.info("user loaded"),await this._events.load(n,e),n):(t.info("user not found in storage"),null)}async removeUser(){const e=this._logger.create("removeUser");await this.storeUser(null),e.info("user removed from storage"),await this._events.unload()}async signinRedirect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;this._logger.create("signinRedirect");const{redirectMethod:n,...r}=e;let s;(null==(t=this.settings.dpop)?void 0:t.bind_authorization_code)&&(s=await this.generateDPoPJkt(this.settings.dpop));const i=await this._redirectNavigator.prepare({redirectMethod:n});await this._signinStart({request_type:"si:r",dpopJkt:s,...r},i)}async signinRedirectCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=this._logger.create("signinRedirectCallback"),n=await this._signinEnd(e);return n.profile&&n.profile.sub?t.info("success, signed in subject",n.profile.sub):t.info("no subject"),n}async signinResourceOwnerCredentials(e){let{username:t,password:n,skipUserInfo:r=!1}=e;const s=this._logger.create("signinResourceOwnerCredential"),i=await this._client.processResourceOwnerPasswordCredentials({username:t,password:n,skipUserInfo:r,extraTokenParams:this.settings.extraTokenParams});s.debug("got signin response");const o=await this._buildUser(i);return o.profile&&o.profile.sub?s.info("success, signed in subject",o.profile.sub):s.info("no subject"),o}async signinPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=this._logger.create("signinPopup");let r;(null==(t=this.settings.dpop)?void 0:t.bind_authorization_code)&&(r=await this.generateDPoPJkt(this.settings.dpop));const{popupWindowFeatures:s,popupWindowTarget:i,popupSignal:o,...a}=e,l=this.settings.popup_redirect_uri;l||n.throw(new Error("No popup_redirect_uri configured"));const c=await this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:i,popupSignal:o}),u=await this._signin({request_type:"si:p",redirect_uri:l,display:"popup",dpopJkt:r,...a},c);return u&&(u.profile&&u.profile.sub?n.info("success, signed in subject",u.profile.sub):n.info("no subject")),u}async signinPopupCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async signinSilent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const r=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:s,...i}=e;let o,a=await this._loadUser();if(null==a?void 0:a.refresh_token){r.debug("using refresh token");const e=new Wa(a);return await this._useRefreshToken({state:e,redirect_uri:i.redirect_uri,resource:i.resource,extraTokenParams:i.extraTokenParams,timeoutInSeconds:s})}(null==(t=this.settings.dpop)?void 0:t.bind_authorization_code)&&(o=await this.generateDPoPJkt(this.settings.dpop));const l=this.settings.silent_redirect_uri;let c;l||r.throw(new Error("No silent_redirect_uri configured")),a&&this.settings.validateSubOnSilentRenew&&(r.debug("subject prior to silent renew:",a.profile.sub),c=a.profile.sub);const u=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:s});return a=await this._signin({request_type:"si:s",redirect_uri:l,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==a?void 0:a.id_token:void 0,dpopJkt:o,...i},u,c),a&&((null==(n=a.profile)?void 0:n.sub)?r.info("success, signed in subject",a.profile.sub):r.info("no subject")),a}async _useRefreshToken(e){const t=await this._client.useRefreshToken({timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds,...e}),n=new Ca({...e.state,...t});return await this.storeUser(n),await this._events.load(n),n}async signinSilentCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async signinCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const{state:t}=await this._client.readSigninResponseState(e);switch(t.request_type){case"si:r":return await this.signinRedirectCallback(e);case"si:p":await this.signinPopupCallback(e);break;case"si:s":await this.signinSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async signoutCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{state:n}=await this._client.readSignoutResponseState(e);if(n)switch(n.request_type){case"so:r":return await this.signoutRedirectCallback(e);case"so:p":await this.signoutPopupCallback(e,t);break;case"so:s":await this.signoutSilentCallback(e);break;default:throw new Error("invalid response_type in state")}}async querySessionStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:n,...r}=e,s=this.settings.silent_redirect_uri;s||t.throw(new Error("No silent_redirect_uri configured"));const i=await this._loadUser(),o=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:n}),a=await this._signinStart({request_type:"si:s",redirect_uri:s,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==i?void 0:i.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...r},o);try{const e={},n=await this._client.processSigninResponse(a.url,e);return t.debug("got signin response"),n.session_state&&n.profile.sub?(t.info("success for subject",n.profile.sub),{session_state:n.session_state,sub:n.profile.sub}):(t.info("success, user not authenticated"),null)}catch(l){if(this.settings.monitorAnonymousSession&&l instanceof Xo)switch(l.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return t.info("success for anonymous user"),{session_state:l.session_state}}throw l}}async _signin(e,t,n){const r=await this._signinStart(e,t);return await this._signinEnd(r.url,n)}async _signinStart(e,t){const n=this._logger.create("_signinStart");try{const r=await this._client.createSigninRequest(e);return n.debug("got signin request"),await t.navigate({url:r.url,state:r.state.id,response_mode:r.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw n.debug("error after preparing navigator, closing navigator window"),t.close(),r}}async _signinEnd(e,t){const n=this._logger.create("_signinEnd"),r=await this._client.processSigninResponse(e,{});n.debug("got signin response");return await this._buildUser(r,t)}async _buildUser(e,t){const n=this._logger.create("_buildUser"),r=new Ca(e);if(t){if(t!==r.profile.sub)throw n.debug("current user does not match user returned from signin. sub from signin:",r.profile.sub),new Xo({...e,error:"login_required"});n.debug("current user matches user returned from signin")}return await this.storeUser(r),n.debug("user stored"),await this._events.load(r),r}async signoutRedirect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._logger.create("signoutRedirect"),{redirectMethod:n,...r}=e,s=await this._redirectNavigator.prepare({redirectMethod:n});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...r},s),t.info("success")}async signoutRedirectCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=this._logger.create("signoutRedirectCallback"),n=await this._signoutEnd(e);return t.info("success"),n}async signoutPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._logger.create("signoutPopup"),{popupWindowFeatures:n,popupWindowTarget:r,popupSignal:s,...i}=e,o=this.settings.popup_post_logout_redirect_uri,a=await this._popupNavigator.prepare({popupWindowFeatures:n,popupWindowTarget:r,popupSignal:s});await this._signout({request_type:"so:p",post_logout_redirect_uri:o,state:null==o?void 0:{},...i},a),t.info("success")}async signoutPopupCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(e,{keepOpen:t}),n.info("success")}async _signout(e,t){const n=await this._signoutStart(e,t);return await this._signoutEnd(n.url)}async _signoutStart(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;const r=this._logger.create("_signoutStart");try{const s=await this._loadUser();r.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(s);const i=e.id_token_hint||s&&s.id_token;i&&(r.debug("setting id_token_hint in signout request"),e.id_token_hint=i),await this.removeUser(),r.debug("user removed, creating signout request");const o=await this._client.createSignoutRequest(e);return r.debug("got signout request"),await t.navigate({url:o.url,state:null==(n=o.state)?void 0:n.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(s){throw r.debug("error after preparing navigator, closing navigator window"),t.close(),s}}async _signoutEnd(e){const t=this._logger.create("_signoutEnd"),n=await this._client.processSignoutResponse(e);return t.debug("got signout response"),n}async signoutSilent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const n=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:r,...s}=e,i=this.settings.includeIdTokenInSilentSignout?null==(t=await this._loadUser())?void 0:t.id_token:void 0,o=this.settings.popup_post_logout_redirect_uri,a=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:r});await this._signout({request_type:"so:s",post_logout_redirect_uri:o,id_token_hint:i,...s},a),n.info("success")}async signoutSilentCallback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(e),t.info("success")}async revokeTokens(e){const t=await this._loadUser();await this._revokeInternal(t,e)}async _revokeInternal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.settings.revokeTokenTypes;const n=this._logger.create("_revokeInternal");if(!e)return;const r=t.filter((t=>"string"===typeof e[t]));if(r.length){for(const t of r)await this._client.revokeToken(e[t],t),n.info(`${t} revoked successfully`),"access_token"!==t&&(e[t]=null);await this.storeUser(e),n.debug("user stored"),await this._events.load(e)}else n.debug("no need to revoke due to no token(s)")}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){const e=this._logger.create("_loadUser"),t=await this.settings.userStore.get(this._userStoreKey);return t?(e.debug("user storageString loaded"),Ca.fromStorageString(t)):(e.debug("no user storageString"),null)}async storeUser(e){const t=this._logger.create("storeUser");if(e){t.debug("storing user");const n=e.toStorageString();await this.settings.userStore.set(this._userStoreKey,n)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey),this.settings.dpop&&await this.settings.dpop.store.remove(this.settings.client_id)}async clearStaleState(){await this._client.clearStaleState()}async dpopProof(e,t,n,r){var s,i;const o=await(null==(i=null==(s=this.settings.dpop)?void 0:s.store)?void 0:i.get(this.settings.client_id));if(o)return await Vo.generateDPoPProof({url:e,accessToken:null==t?void 0:t.access_token,httpMethod:n,keyPair:o.keys,nonce:r})}async generateDPoPJkt(e){let t=await e.store.get(this.settings.client_id);if(!t){const n=await Vo.generateDPoPKeys();t=new _a(n),await e.store.set(this.settings.client_id,t)}return await Vo.generateDPoPJkt(t.keys)}};const Va={authority:"https://alpha-auth-production-idp.auth.us-west-2.amazoncognito.com",client_id:"69j692lr75ilemqek1hfe2rche",redirect_uri:`${window.location.origin}/auth/callback/cognito`,response_type:"code",scope:"email openid phone",automaticSilentRenew:!1,post_logout_redirect_uri:`${window.location.origin}/login`,client_secret:"18vk7e65k6r6v2bhgbq80f5imphu7ccsej3p3fdj1j29a0k6oveu",client_authentication:"client_secret_basic",metadata:{issuer:"https://alpha-auth-production-idp.auth.us-west-2.amazoncognito.com",authorization_endpoint:"https://alpha-auth-production-idp.auth.us-west-2.amazoncognito.com/oauth2/authorize",token_endpoint:"https://alpha-auth-production-idp.auth.us-west-2.amazoncognito.com/oauth2/token",userinfo_endpoint:"https://alpha-auth-production-idp.auth.us-west-2.amazoncognito.com/oauth2/userinfo",end_session_endpoint:"https://alpha-auth-production-idp.auth.us-west-2.amazoncognito.com/logout",jwks_uri:"https://alpha-auth-production-idp.auth.us-west-2.amazoncognito.com/.well-known/jwks.json"}},qa=(0,s.createContext)(void 0),Ka=()=>{const e=(0,s.useContext)(qa);if(void 0===e)throw new Error("useSSOAuth must be used within a SSOProvider");return e},Qa=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[i,o]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null),d=!0;(0,s.useEffect)((()=>{try{const e=new Ha(Va);r(e),e.events.addUserLoaded((e=>{o(e),u(null)})),e.events.addUserUnloaded((()=>{o(null)})),e.events.addAccessTokenExpiring((()=>{console.log("Access token expiring")})),e.events.addAccessTokenExpired((()=>{console.log("Access token expired"),o(null)})),e.events.addSilentRenewError((e=>{console.error("Silent renew error:",e),u("Session renewal failed")})),e.getUser().then((e=>{o(e),l(!1)})).catch((e=>{console.error("Error getting user:",e),u("Failed to check authentication status"),l(!1)}))}catch(e){console.error("Error initializing UserManager:",e),u("Failed to initialize SSO"),l(!1)}}),[d]);const h={userManager:n,user:i,isLoading:a,error:c,login:async()=>{if(!n)throw new Error("UserManager not initialized");try{u(null),await n.signinRedirect()}catch(e){throw console.error("Login error:",e),u("Failed to initiate login"),e}},logout:async()=>{if(!n)throw new Error("UserManager not initialized");try{u(null),await n.signoutRedirect()}catch(e){throw console.error("Logout error:",e),u("Failed to logout"),e}},isAuthenticated:!!i&&!i.expired,isConfigured:d};return(0,No.jsx)(qa.Provider,{value:h,children:t})};function Ya(e){let{className:t,...n}=e;return(0,No.jsx)("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm ${t}`,...n})}function Ga(e){let{className:t,...n}=e;return(0,No.jsx)("div",{className:`p-6 ${t}`,...n})}function Xa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach((t=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(t,e)))}var Ja=s.forwardRef(((e,t)=>{const{children:n,...r}=e,i=s.Children.toArray(n),o=i.find(tl);if(o){const e=o.props.children,n=i.map((t=>t===o?s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null:t));return(0,No.jsx)(Za,{...r,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,No.jsx)(Za,{...r,ref:t,children:n})}));Ja.displayName="Slot";var Za=s.forwardRef(((e,t)=>{const{children:n,...r}=e;if(s.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n);return s.cloneElement(n,{...nl(r,n.props),ref:t?Xa(t,e):e})}return s.Children.count(n)>1?s.Children.only(null):null}));Za.displayName="SlotClone";var el=e=>{let{children:t}=e;return(0,No.jsx)(No.Fragment,{children:t})};function tl(e){return s.isValidElement(e)&&e.type===el}function nl(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=function(){i(...arguments),s(...arguments)}:s&&(n[r]=s):"style"===r?n[r]={...s,...i}:"className"===r&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function rl(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=rl(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function sl(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=rl(e))&&(r&&(r+=" "),r+=t);return r}const il=e=>"boolean"===typeof e?"".concat(e):0===e?"0":e,ol=sl;var al=n(8387);const ll=e=>{const t=hl(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),cl(n,t)||dl(e)},getConflictingClassGroupIds:(e,t)=>{const s=n[e]||[];return t&&r[e]?[...s,...r[e]]:s}}},cl=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?cl(e.slice(1),r):void 0;if(s)return s;if(0===t.validators.length)return;const i=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(i)}))?.classGroupId},ul=/^\[(.+)\]$/,dl=e=>{if(ul.test(e)){const t=ul.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},hl=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return gl(Object.entries(e.classGroups),n).forEach((e=>{let[n,s]=e;pl(s,r,n,t)})),r},pl=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return ml(e)?void pl(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[s,i]=e;pl(i,fl(t,s),n,r)}))}else{(""===e?t:fl(t,e)).classGroupId=n}}))},fl=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},ml=e=>e.isThemeGetter,gl=(e,t)=>t?e.map((e=>{let[n,r]=e;return[n,r.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[t+n,r]}))):e))]})):e,yl=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(s(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):s(e,t)}}},vl=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,s=t[0],i=t.length,o=e=>{const n=[];let o,a=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===a){if(c===s&&(r||e.slice(d,d+i)===t)){n.push(e.slice(l,d)),l=d+i;continue}if("/"===c){o=d;continue}}"["===c?a++:"]"===c&&a--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:o&&o>l?o-l:void 0}};return n?e=>n({className:e,parseClassName:o}):o},xl=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},bl=/\s+/;function wl(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Sl(e))&&(r&&(r+=" "),r+=t);return r}const Sl=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Sl(e[r]))&&(n&&(n+=" "),n+=t);return n};function kl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let s,i,o,a=function(t){const r=n.reduce(((e,t)=>t(e)),e());return s=(e=>({cache:yl(e.cacheSize),parseClassName:vl(e),...ll(e)}))(r),i=s.cache.get,o=s.cache.set,a=l,l(t)};function l(e){const t=i(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(bl);let a="";for(let l=o.length-1;l>=0;l-=1){const e=o[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),p=r(h?u.substring(0,d):u);if(!p){if(!h){a=e+(a.length>0?" "+a:a);continue}if(p=r(u),!p){a=e+(a.length>0?" "+a:a);continue}h=!1}const f=xl(t).join(":"),m=c?f+"!":f,g=m+p;if(i.includes(g))continue;i.push(g);const y=s(p,h);for(let n=0;n<y.length;++n){const e=y[n];i.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,s);return o(e,n),n}return function(){return a(wl.apply(null,arguments))}}const _l=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},jl=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tl=/^\d+\/\d+$/,Cl=new Set(["px","full","screen"]),El=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Al=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ml=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Il=e=>Ol(e)||Cl.has(e)||Tl.test(e),Rl=e=>Ql(e,"length",Yl),Ol=e=>Boolean(e)&&!Number.isNaN(Number(e)),Dl=e=>Ql(e,"number",Ol),Ll=e=>Boolean(e)&&Number.isInteger(Number(e)),Fl=e=>e.endsWith("%")&&Ol(e.slice(0,-1)),zl=e=>jl.test(e),$l=e=>El.test(e),Bl=new Set(["length","size","percentage"]),Ul=e=>Ql(e,Bl,Gl),Wl=e=>Ql(e,"position",Gl),Hl=new Set(["image","url"]),Vl=e=>Ql(e,Hl,Jl),ql=e=>Ql(e,"",Xl),Kl=()=>!0,Ql=(e,t,n)=>{const r=jl.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},Yl=e=>Nl.test(e)&&!Al.test(e),Gl=()=>!1,Xl=e=>Pl.test(e),Jl=e=>Ml.test(e),Zl=(Symbol.toStringTag,()=>{const e=_l("colors"),t=_l("spacing"),n=_l("blur"),r=_l("brightness"),s=_l("borderColor"),i=_l("borderRadius"),o=_l("borderSpacing"),a=_l("borderWidth"),l=_l("contrast"),c=_l("grayscale"),u=_l("hueRotate"),d=_l("invert"),h=_l("gap"),p=_l("gradientColorStops"),f=_l("gradientColorStopPositions"),m=_l("inset"),g=_l("margin"),y=_l("opacity"),v=_l("padding"),x=_l("saturate"),b=_l("scale"),w=_l("sepia"),S=_l("skew"),k=_l("space"),_=_l("translate"),j=()=>["auto",zl,t],T=()=>[zl,t],C=()=>["",Il,Rl],E=()=>["auto",Ol,zl],N=()=>["","0",zl],A=()=>[Ol,zl];return{cacheSize:500,separator:":",theme:{colors:[Kl],spacing:[Il,Rl],blur:["none","",$l,zl],brightness:A(),borderColor:[e],borderRadius:["none","","full",$l,zl],borderSpacing:T(),borderWidth:C(),contrast:A(),grayscale:N(),hueRotate:A(),invert:N(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[Fl,Rl],inset:j(),margin:j(),opacity:A(),padding:T(),saturate:A(),scale:A(),sepia:N(),skew:A(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",zl]}],container:["container"],columns:[{columns:[$l]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",zl]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ll,zl]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zl]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Ll,zl]}],"grid-cols":[{"grid-cols":[Kl]}],"col-start-end":[{col:["auto",{span:["full",Ll,zl]},zl]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Kl]}],"row-start-end":[{row:["auto",{span:[Ll,zl]},zl]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zl]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zl]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zl,t]}],"min-w":[{"min-w":[zl,t,"min","max","fit"]}],"max-w":[{"max-w":[zl,t,"none","full","min","max","fit","prose",{screen:[$l]},$l]}],h:[{h:[zl,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zl,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zl,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zl,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$l,Rl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dl]}],"font-family":[{font:[Kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zl]}],"line-clamp":[{"line-clamp":["none",Ol,Dl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Il,zl]}],"list-image":[{"list-image":["none",zl]}],"list-style-type":[{list:["none","disc","decimal",zl]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Il,Rl]}],"underline-offset":[{"underline-offset":["auto",Il,zl]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zl]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zl]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Wl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ul]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Vl]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Il,zl]}],"outline-w":[{outline:[Il,Rl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Il,Rl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$l,ql]}],"shadow-color":[{shadow:[Kl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$l,zl]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zl]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",zl]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",zl]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ll,zl]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zl]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zl]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zl]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Il,Rl,Dl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),ec=kl(Zl);function tc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ec((0,al.$)(t))}const nc=(rc="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",sc={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if(null==(null===sc||void 0===sc?void 0:sc.variants))return ol(rc,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className);const{variants:n,defaultVariants:r}=sc,s=Object.keys(n).map((t=>{const s=null===e||void 0===e?void 0:e[t],i=null===r||void 0===r?void 0:r[t];if(null===s)return null;const o=il(s)||il(i);return n[t][o]})),i=e&&Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),o=null===sc||void 0===sc||null===(t=sc.compoundVariants)||void 0===t?void 0:t.reduce(((e,t)=>{let{class:n,className:s,...o}=t;return Object.entries(o).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...r,...i}[t]):{...r,...i}[t]===n}))?[...e,n,s]:e}),[]);return ol(rc,s,o,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className)});var rc,sc;const ic=s.forwardRef(((e,t)=>{let{className:n,variant:r,size:s,asChild:i=!1,...o}=e;const a=i?Ja:"button";return(0,No.jsx)(a,{className:tc(nc({variant:r,size:s,className:n})),ref:t,...o})}));ic.displayName="Button";const oc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var ac={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lc=(0,s.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...u}=e;return(0,s.createElement)("svg",{ref:t,...ac,width:r,height:r,stroke:n,strokeWidth:o?24*Number(i)/Number(r):i,className:oc("lucide",a),...u},[...c.map((e=>{let[t,n]=e;return(0,s.createElement)(t,n)})),...Array.isArray(l)?l:[l]])})),cc=(e,t)=>{const n=(0,s.forwardRef)(((n,r)=>{let{className:i,...o}=n;return(0,s.createElement)(lc,{ref:r,iconNode:t,className:oc(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...o});var a}));return n.displayName=`${e}`,n},uc=cc("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]),dc=s.forwardRef(((e,t)=>{let{value:n,onChange:r,disabled:s=!1,className:i,showFeedback:o=!1,wasCorrect:a=!1}=e;const l=e=>{if(s)return;const t=n+e;/^\d*$/.test(t)&&r(t)},c=tc("h-14 text-xl font-semibold transition-all duration-200 hover:scale-105 active:scale-95",o&&(a?"border-green-500 bg-green-50 text-green-700":"border-red-500 bg-red-50 text-red-700"));return(0,No.jsxs)("div",{ref:t,className:tc("grid grid-cols-3 gap-2 p-2 w-[280px]",i),children:[[1,2,3,4,5,6,7,8,9].map((e=>(0,No.jsx)(ic,{variant:"outline",className:c,onClick:()=>l(e.toString()),disabled:s||o,children:e},e))),(0,No.jsx)(ic,{variant:"outline",className:tc(c,"col-span-2"),onClick:()=>l("0"),disabled:s||o,children:"0"}),(0,No.jsx)(ic,{variant:"secondary",className:c,onClick:()=>{s||r(n.slice(0,-1))},disabled:s||o,children:(0,No.jsx)(uc,{className:"w-6 h-6"})})]})}));dc.displayName="TouchpadInput";const hc=s.forwardRef(((e,t)=>{let{className:n,type:r,...s}=e;return(0,No.jsx)("input",{type:r,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${n}`,ref:t,...s})}));hc.displayName="Input";const pc=e=>{let{question:t,onAnswer:n,showFeedback:r}=e;const[i,o]=(0,s.useState)(""),[a,l]=(0,s.useState)(null),[c,u]=(0,s.useState)(!1),d=(0,s.useRef)(null),h=(0,s.useRef)(null),p=(0,s.useRef)(null),f=e=>{if(!e||!h.current||!p.current)return;const n=t.answer.toString().length;if(n<=1)return;const r=p.current-h.current;return{count:1,time:3===n?r/2:r}};(0,s.useEffect)((()=>{o(""),l(null),u(!1),h.current=null,p.current=null}),[t]),(0,s.useEffect)((()=>{d.current&&!r&&d.current.focus()}),[r]);const m=e=>{if(t.answer.toString().length>1){const t=Date.now();1===e.length&&(h.current=t),e.length>0&&(p.current=t)}if(o(e),e.length===t.answer.toString().length){const r=parseInt(e);if(!isNaN(r)){const e=r===t.answer;l(t.answer),u(e),n(r,f(e))}}};return(0,No.jsxs)("div",{className:"flex justify-between",children:[(0,No.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1",children:[(0,No.jsxs)("p",{className:"text-6xl font-bold text-gray-800 mb-8",children:[t.num1," ",t.operator," ",t.num2," = ?"]}),(0,No.jsxs)("div",{className:"relative",children:[(0,No.jsx)("input",{ref:d,type:"text",inputMode:"numeric",pattern:"\\d*",value:i,onChange:e=>{const t=e.target.value.replace(/\D/g,"");m(t)},onKeyPress:e=>{"Enter"===e.key&&(e=>{if(null===e||void 0===e||e.preventDefault(),!i||r)return;const s=parseInt(i);if(!isNaN(s)){const e=s===t.answer;l(t.answer),u(e),n(s,f(e))}})()},disabled:r,className:`\n              w-48 \n              p-4 \n              text-4xl \n              font-bold \n              text-center \n              rounded-lg\n              border-4\n              outline-none\n              transition-all\n              duration-200\n              ${r?c?"border-green-500 bg-green-50 text-green-700":"border-red-500 bg-red-50 text-red-700":"border-gray-200 focus:border-gray-200 bg-white text-gray-700"}\n            `}),r&&!c&&null!==a&&(0,No.jsx)("div",{className:"absolute -right-20 top-1/2 -translate-y-1/2 text-green-500 font-bold text-2xl",children:a})]})]}),(0,No.jsx)(dc,{value:i,onChange:m,disabled:r,showFeedback:r,wasCorrect:c})]})};function fc(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function mc(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const gc=e=>Array.isArray(e);function yc(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function vc(e){return"string"===typeof e||Array.isArray(e)}function xc(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function bc(e,t,n,r){if("function"===typeof t){const[s,i]=xc(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,i]=xc(r);t=t(void 0!==n?n:e.custom,s,i)}return t}function wc(e,t,n){const r=e.getProps();return bc(r,t,void 0!==n?n:r.custom,e)}const Sc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kc=["initial",...Sc],_c=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jc=new Set(_c),Tc=e=>1e3*e,Cc=e=>e/1e3,Ec={type:"spring",stiffness:500,damping:25,restSpeed:10},Nc={type:"keyframes",duration:.8},Ac={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pc=(e,t)=>{let{keyframes:n}=t;return n.length>2?Nc:jc.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Ec:Ac};function Mc(e,t){return e?e[t]||e.default||e:void 0}const Ic=!1,Rc=!1,Oc=!1,Dc=e=>null!==e;function Lc(e,t,n){let{repeat:r,repeatType:s="loop"}=t;const i=e.filter(Dc),o=r&&"loop"!==s&&r%2===1?0:i.length-1;return o&&void 0!==n?n:i[o]}const Fc=e=>e;const zc=["read","resolveKeyframes","update","preRender","render","postRender"];function $c(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=zc.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){i.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:function(e){const s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&r?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),s.has(e)||s.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{o=e,r?s=!0:(r=!0,[t,n]=[n,t],n.clear(),t.forEach(a),r=!1,s&&(s=!1,l.process(e)))}};return l}(i),e)),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:h}=o,p=()=>{const i=Rc?s.timestamp:performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1),s.timestamp=i,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},f=zc.reduce(((t,i)=>{const a=o[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(p)),a.schedule(t,i,o)},t}),{});return{schedule:f,cancel:e=>{for(let t=0;t<zc.length;t++)o[zc[t]].cancel(e)},state:s,steps:o}}const{schedule:Bc,cancel:Uc,state:Wc,steps:Hc}=$c("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Fc,!0),Vc=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function qc(e,t,n,r){if(e===t&&n===r)return Fc;const s=t=>function(e,t,n,r,s){let i,o,a=0;do{o=t+(n-t)/2,i=Vc(o,r,s)-e,i>0?n=o:t=o}while(Math.abs(i)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:Vc(s(e),t,r)}const Kc=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qc=e=>t=>1-e(1-t),Yc=qc(.33,1.53,.69,.99),Gc=Qc(Yc),Xc=Kc(Gc),Jc=e=>(e*=2)<1?.5*Gc(e):.5*(2-Math.pow(2,-10*(e-1))),Zc=e=>1-Math.sin(Math.acos(e)),eu=Qc(Zc),tu=Kc(Zc),nu=e=>/^0[^.\s]+$/u.test(e);let ru=Fc,su=Fc;const iu=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ou=e=>t=>"string"===typeof t&&t.startsWith(e),au=ou("--"),lu=ou("var(--"),cu=e=>!!lu(e)&&uu.test(e.split("/*")[0].trim()),uu=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,du=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;su(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,s]=function(e){const t=du.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${null!==n&&void 0!==n?n:r}`,s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return iu(e)?parseFloat(e):e}return cu(s)?hu(s,t,n+1):s}const pu=(e,t,n)=>n>t?t:n<e?e:n,fu={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},mu={...fu,transform:e=>pu(0,1,e)},gu={...fu,default:1},yu=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),vu=yu("deg"),xu=yu("%"),bu=yu("px"),wu=yu("vh"),Su=yu("vw"),ku={...xu,parse:e=>xu.parse(e)/100,transform:e=>xu.transform(100*e)},_u=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ju=e=>e===fu||e===bu,Tu=(e,t)=>parseFloat(e.split(", ")[t]),Cu=(e,t)=>(n,r)=>{let{transform:s}=r;if("none"===s||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return Tu(i[1],t);{const t=s.match(/^matrix\((.+)\)$/u);return t?Tu(t[1],e):0}},Eu=new Set(["x","y","z"]),Nu=_c.filter((e=>!Eu.has(e)));const Au={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:Cu(4,13),y:Cu(5,14)};Au.translateX=Au.x,Au.translateY=Au.y;const Pu=e=>t=>t.test(e),Mu=[fu,bu,xu,vu,Su,wu,{test:e=>"auto"===e,parse:e=>e}],Iu=e=>Mu.find(Pu(e)),Ru=new Set;let Ou=!1,Du=!1;function Lu(){if(Du){const e=Array.from(Ru).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Nu.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;var s;null===(s=e.getValue(n))||void 0===s||s.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Du=!1,Ou=!1,Ru.forEach((e=>e.complete())),Ru.clear()}function Fu(){Ru.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Du=!0)}))}class zu{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ru.add(this),Ou||(Ou=!0,Bc.read(Fu),Bc.resolveKeyframes(Lu))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;for(let s=0;s<e.length;s++)if(null===e[s])if(0===s){const s=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ru.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ru.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $u=e=>Math.round(1e5*e)/1e5,Bu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Uu=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wu=(e,t)=>n=>Boolean("string"===typeof n&&Uu.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Hu=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[s,i,o,a]=r.match(Bu);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Vu={...fu,transform:e=>Math.round((e=>pu(0,255,e))(e))},qu={test:Wu("rgb","red"),parse:Hu("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+Vu.transform(t)+", "+Vu.transform(n)+", "+Vu.transform(r)+", "+$u(mu.transform(s))+")"}};const Ku={test:Wu("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:qu.transform},Qu={test:Wu("hsl","hue"),parse:Hu("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+xu.transform($u(n))+", "+xu.transform($u(r))+", "+$u(mu.transform(s))+")"}},Yu={test:e=>qu.test(e)||Ku.test(e)||Qu.test(e),parse:e=>qu.test(e)?qu.parse(e):Qu.test(e)?Qu.parse(e):Ku.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?qu.transform(e):Qu.transform(e)},Gu=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Xu="number",Ju="color",Zu=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ed(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(Zu,(e=>(Yu.test(e)?(r.color.push(i),s.push(Ju),n.push(Yu.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(Xu),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:o,indexes:r,types:s}}function td(e){return ed(e).values}function nd(e){const{split:t,types:n}=ed(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===Xu?$u(e[i]):t===Ju?Yu.transform(e[i]):e[i]}return s}}const rd=e=>"number"===typeof e?0:e;const sd={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(Bu))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Gu))||void 0===n?void 0:n.length)||0)>0},parse:td,createTransformer:nd,getAnimatableNone:function(e){const t=td(e);return nd(e)(t.map(rd))}},id=new Set(["brightness","contrast","saturate","opacity"]);function od(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Bu)||[];if(!r)return e;const s=n.replace(r,"");let i=id.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const ad=/\b([a-z-]*)\(.*?\)/gu,ld={...sd,getAnimatableNone:e=>{const t=e.match(ad);return t?t.map(od).join(" "):e}},cd={borderWidth:bu,borderTopWidth:bu,borderRightWidth:bu,borderBottomWidth:bu,borderLeftWidth:bu,borderRadius:bu,radius:bu,borderTopLeftRadius:bu,borderTopRightRadius:bu,borderBottomRightRadius:bu,borderBottomLeftRadius:bu,width:bu,maxWidth:bu,height:bu,maxHeight:bu,top:bu,right:bu,bottom:bu,left:bu,padding:bu,paddingTop:bu,paddingRight:bu,paddingBottom:bu,paddingLeft:bu,margin:bu,marginTop:bu,marginRight:bu,marginBottom:bu,marginLeft:bu,backgroundPositionX:bu,backgroundPositionY:bu},ud={rotate:vu,rotateX:vu,rotateY:vu,rotateZ:vu,scale:gu,scaleX:gu,scaleY:gu,scaleZ:gu,skew:vu,skewX:vu,skewY:vu,distance:bu,translateX:bu,translateY:bu,translateZ:bu,x:bu,y:bu,z:bu,perspective:bu,transformPerspective:bu,opacity:mu,originX:ku,originY:ku,originZ:bu},dd={...fu,transform:Math.round},hd={...cd,...ud,zIndex:dd,size:bu,fillOpacity:mu,strokeOpacity:mu,numOctaves:dd},pd={...hd,color:Yu,backgroundColor:Yu,outlineColor:Yu,fill:Yu,stroke:Yu,borderColor:Yu,borderTopColor:Yu,borderRightColor:Yu,borderBottomColor:Yu,borderLeftColor:Yu,filter:ld,WebkitFilter:ld},fd=e=>pd[e];function md(e,t){let n=fd(e);return n!==ld&&(n=sd),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const gd=new Set(["auto","none","0"]);class yd extends zu{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),cu(n))){const r=hu(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!_u.has(n)||2!==e.length)return;const[r,s]=e,i=Iu(r),o=Iu(s);if(i!==o)if(ju(i)&&ju(o))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)("number"===typeof(r=e[s])?0===r:null===r||"none"===r||"0"===r||nu(r))&&n.push(s);var r;n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"===typeof t&&!gd.has(t)&&ed(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=md(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Au[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Au[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}function vd(e){return"function"===typeof e}let xd;function bd(){xd=void 0}const wd={now:()=>(void 0===xd&&wd.set(Wc.isProcessing||Rc?Wc.timestamp:performance.now()),xd),set:e=>{xd=e,queueMicrotask(bd)}},Sd=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!sd.test(e)&&"0"!==e||e.startsWith("url(")));class kd{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}=e;this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=wd.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Fu(),Lu()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=wd.now(),this.hasAttemptedResolve=!0;const{name:n,type:r,velocity:s,delay:i,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!function(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],o=Sd(s,t),a=Sd(i,t);return ru(o===a,`You are trying to animate ${t} from "${s}" to "${i}". ${s} is not an animatable value - to enable this animation set ${s} to a value animatable to ${i} via the \`style\` property.`),!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||vd(n))&&r)}(e,n,r,s)){if(Oc||!i)return null===a||void 0===a||a(Lc(e,this.options,t)),null===o||void 0===o||o(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const _d=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},jd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(_d(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Td(e,t){return t?e*(1e3/t):0}function Cd(e,t,n){const r=Math.max(t-5,0);return Td(n-e(r),t-r)}const Ed={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nd=.001;function Ad(e){let t,n,{duration:r=Ed.duration,bounce:s=Ed.bounce,velocity:i=Ed.velocity,mass:o=Ed.mass}=e;ru(r<=Tc(Ed.maxDuration),"Spring duration must be 10 seconds or less");let a=1-s;a=pu(Ed.minDamping,Ed.maxDamping,a),r=pu(Ed.minDuration,Ed.maxDuration,Cc(r)),a<1?(t=e=>{const t=e*a,n=t*r,s=t-i,o=Md(e,a),l=Math.exp(-n);return Nd-s/o*l},n=e=>{const n=e*a*r,s=n*i+i,o=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Md(Math.pow(e,2),a);return(-t(e)+Nd>0?-1:1)*((s-o)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<Pd;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Tc(r),isNaN(l))return{stiffness:Ed.stiffness,damping:Ed.damping,duration:r};{const e=Math.pow(l,2)*o;return{stiffness:e,damping:2*a*Math.sqrt(o*e),duration:r}}}const Pd=12;function Md(e,t){return e*Math.sqrt(1-t*t)}const Id=2e4;function Rd(e){let t=0;let n=e.next(t);for(;!n.done&&t<Id;)t+=50,n=e.next(t);return t>=Id?1/0:t}const Od=["duration","bounce"],Dd=["stiffness","damping","mass"];function Ld(e,t){return t.some((t=>void 0!==e[t]))}function Fd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ed.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ed.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:Ed.velocity,stiffness:Ed.stiffness,damping:Ed.damping,mass:Ed.mass,isResolvedFromDuration:!1,...e};if(!Ld(e,Dd)&&Ld(e,Od))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*pu(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:Ed.mass,stiffness:s,damping:i}}else{const n=Ad(e);t={...t,...n,mass:Ed.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-Cc(n.velocity||0)}),f=h||0,m=c/(2*Math.sqrt(l*u)),g=o-i,y=Cc(Math.sqrt(l/u)),v=Math.abs(g)<5;let x;if(r||(r=v?Ed.restSpeed.granular:Ed.restSpeed.default),s||(s=v?Ed.restDelta.granular:Ed.restDelta.default),m<1){const e=Md(y,m);x=t=>{const n=Math.exp(-m*y*t);return o-n*((f+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)x=e=>o-Math.exp(-y*e)*(g+(f+y*g)*e);else{const e=y*Math.sqrt(m*m-1);x=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return o-n*((f+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const b={calculatedDuration:p&&d||null,next:e=>{const t=x(e);if(p)a.done=e>=d;else{let n=0;m<1&&(n=0===e?Tc(f):Cd(x,e,t));const i=Math.abs(n)<=r,l=Math.abs(o-t)<=s;a.done=i&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(Rd(b),Id),t=jd((t=>b.next(e*t).value),e,30);return e+"ms "+t}};return b}function zd(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],p={done:!1,value:h},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===a?g:a(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/s),x=e=>y+v(e),b=e=>{const t=v(e),n=x(e);p.done=Math.abs(t)<=u,p.value=p.done?y:n};let w,S;const k=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,S=Fd({keyframes:[p.value,f(p.value)],velocity:Cd(x,e,p.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==w||(t=!0,b(e),k(e)),void 0!==w&&e>=w?S.next(e-w):(!t&&b(e),p)}}}const $d=qc(.42,0,1,1),Bd=qc(0,0,.58,1),Ud=qc(.42,0,.58,1),Wd=e=>Array.isArray(e)&&"number"===typeof e[0],Hd={linear:Fc,easeIn:$d,easeInOut:Ud,easeOut:Bd,circIn:Zc,circInOut:tu,circOut:eu,backIn:Gc,backInOut:Xc,backOut:Yc,anticipate:Jc},Vd=e=>{if(Wd(e)){su(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,s]=e;return qc(t,n,r,s)}return"string"===typeof e?(su(void 0!==Hd[e],`Invalid easing type '${e}'`),Hd[e]):e},qd=(e,t)=>n=>t(e(n)),Kd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(qd)},Qd=(e,t,n)=>e+(t-e)*n;function Yd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Gd(e,t){return n=>n>0?t:e}const Xd=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Jd=[Ku,qu,Qu];function Zd(e){const t=(n=e,Jd.find((e=>e.test(n))));var n;if(ru(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let r=t.parse(e);return t===Qu&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,o=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=Yd(s,e,t+1/3),o=Yd(s,e,t),a=Yd(s,e,t-1/3)}else i=o=a=r;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:s}}(r)),r}const eh=(e,t)=>{const n=Zd(e),r=Zd(t);if(!n||!r)return Gd(e,t);const s={...n};return e=>(s.red=Xd(n.red,r.red,e),s.green=Xd(n.green,r.green,e),s.blue=Xd(n.blue,r.blue,e),s.alpha=Qd(n.alpha,r.alpha,e),qu.transform(s))},th=new Set(["none","hidden"]);function nh(e,t){return n=>Qd(e,t,n)}function rh(e){return"number"===typeof e?nh:"string"===typeof e?cu(e)?Gd:Yu.test(e)?eh:oh:Array.isArray(e)?sh:"object"===typeof e?Yu.test(e)?eh:ih:Gd}function sh(e,t){const n=[...e],r=n.length,s=e.map(((e,n)=>rh(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function ih(e,t){const n={...e,...t},r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=rh(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const oh=(e,t)=>{const n=sd.createTransformer(t),r=ed(e),s=ed(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?th.has(e)&&!s.values.length||th.has(t)&&!r.values.length?function(e,t){return th.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Kd(sh(function(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=null!==(n=e.values[a])&&void 0!==n?n:0;r[i]=l,s[o]++}return r}(r,s),s.values),n):(ru(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Gd(e,t))};function ah(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Qd(e,t,n);return rh(e)(e,t)}function lh(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(su(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];if(2===i&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],s=n||ah,i=e.length-1;for(let o=0;o<i;o++){let n=s(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Fc:t;n=Kd(e,n)}r.push(n)}return r}(t,r,s),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=_d(e[n],e[n+1],t);return o[n](r)};return n?t=>l(pu(e[0],e[i-1],t)):l}function ch(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=_d(0,t,r);e.push(Qd(n,1,s))}}(t,e.length-1),t}function uh(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(Vd):Vd(s),o={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:ch(n),t),l=lh(a,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map((()=>u||Ud)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(o.value=l(e),o.done=e>=t,o)}}const dh=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>Bc.update(t,!0),stop:()=>Uc(t),now:()=>Wc.isProcessing?Wc.timestamp:wd.now()}},hh={decay:zd,inertia:zd,tween:uh,keyframes:uh,spring:Fd},ph=e=>e/100;class fh extends kd{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:r,keyframes:s}=this.options,i=(null===r||void 0===r?void 0:r.KeyframeResolver)||zu;this.resolver=new i(s,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=this.options,o=vd(t)?t:hh[t]||uh;let a,l;o!==uh&&"number"!==typeof e[0]&&(a=Kd(ph,ah(e[0],e[1])),e=[0,100]);const c=o({...this.options,keyframes:e});"mirror"===s&&(l=o({...this.options,keyframes:[...e].reverse(),velocity:-i})),null===c.calculatedDuration&&(c.calculatedDuration=Rd(c));const{calculatedDuration:u}=c,d=u+r;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:u,resolvedDuration:d,totalDuration:d*(n+1)-r}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:i,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:u}=n;if(null===this.startTime)return s.next(0);const{delay:d,repeat:h,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,x=s;if(h){const e=Math.min(this.currentTime,c)/u;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===p?(n=1-n,f&&(n-=f/u)):"mirror"===p&&(x=i)),v=pu(0,1,n)*u}const b=y?{done:!1,value:a[0]}:x.next(v);o&&(b.value=o(b.value));let{done:w}=b;y||null===l||(w=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return S&&void 0!==r&&(b.value=Lc(a,this.options,r)),m&&m(b.value),S&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Cc(e.calculatedDuration):0}get time(){return Cc(this.currentTime)}set time(e){e=Tc(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Cc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=dh,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=r):this.startTime=null!==n&&void 0!==n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const mh=new Set(["opacity","clipPath","filter","transform"]);function gh(e){let t;return()=>(void 0===t&&(t=e()),t)}const yh={linearEasing:void 0};function vh(e,t){const n=gh(e);return()=>{var e;return null!==(e=yh[t])&&void 0!==e?e:n()}}const xh=vh((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(nU){return!1}return!0}),"linearEasing");function bh(e){return Boolean("function"===typeof e&&xh()||!e||"string"===typeof e&&(e in Sh||xh())||Wd(e)||Array.isArray(e)&&e.every(bh))}const wh=e=>{let[t,n,r,s]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${s})`},Sh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wh([0,.65,.55,1]),circOut:wh([.55,0,1,.45]),backIn:wh([.31,.01,.66,-.59]),backOut:wh([.33,1.53,.69,.99])};function kh(e,t){return e?"function"===typeof e&&xh()?jd(e,t):Wd(e)?wh(e):Array.isArray(e)?e.map((e=>kh(e,t)||Sh.easeOut)):Sh[e]:void 0}function _h(e,t,n){let{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=kh(a,s);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===o?"alternate":"normal"})}function jh(e,t){e.timeline=t,e.onfinish=null}const Th=gh((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Ch={anticipate:Jc,backInOut:Xc,circInOut:tu};class Eh extends kd{constructor(e){super(e);const{name:t,motionValue:n,element:r,keyframes:s}=this.options;this.resolver=new yd(s,((e,t)=>this.onKeyframesResolved(e,t)),t,n,r),this.resolver.scheduleResolve()}initPlayback(e,t){var n;let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!(null===(n=a.owner)||void 0===n?void 0:n.current))return!1;var u;if("string"===typeof i&&xh()&&i in Ch&&(i=Ch[i]),vd((u=this.options).type)||"spring"===u.type||!bh(u.ease)){const{onComplete:t,onUpdate:n,motionValue:a,element:l,...c}=this.options,u=function(e,t){const n=new fh({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<2e4;)r=n.sample(i),s.push(r.value),i+=10;return{times:void 0,keyframes:s,duration:i-10,ease:"linear"}}(e,c);1===(e=u.keyframes).length&&(e[1]=e[0]),r=u.duration,s=u.times,i=u.ease,o="keyframes"}const d=_h(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=null!==c&&void 0!==c?c:this.calcStartTime(),this.pendingTimeline?(jh(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:n}=this.options;a.set(Lc(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Cc(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Cc(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Tc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return Fc;const{animation:n}=t;jh(n,e)}else this.pendingTimeline=e;return Fc}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:r,type:s,ease:i,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:a,element:l,...c}=this.options,u=new fh({...c,keyframes:n,duration:r,type:s,ease:i,times:o,isGenerator:!0}),d=Tc(this.time);e.setWithVelocity(u.sample(d-10).value,u.sample(d).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;return Th()&&n&&mh.has(n)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!r&&"mirror"!==s&&0!==i&&"inertia"!==o}}const Nh=gh((()=>void 0!==window.ScrollTimeline));class Ah{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>Nh()&&n.attachTimeline?n.attachTimeline(e):t(n)));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Ph=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return o=>{const a=Mc(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=Tc(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}=e;return!!Object.keys(d).length})(a)||(u={...u,...Pc(e,u)}),u.duration&&(u.duration=Tc(u.duration)),u.repeatDelay&&(u.repeatDelay=Tc(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(Oc||Ic)&&(d=!0,u.duration=0,u.delay=0),d&&!i&&void 0!==t.get()){const e=Lc(u.keyframes,a);if(void 0!==e)return Bc.update((()=>{u.onUpdate(e),u.onComplete()})),new Ah([])}return!i&&Eh.supports(u)?new Eh(u):new fh(u)}};function Mh(e,t){-1===e.indexOf(t)&&e.push(t)}function Ih(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Rh{constructor(){this.subscriptions=[]}add(e){return Mh(this.subscriptions,e),()=>Ih(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oh={current:void 0};class Dh{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=wd.now();t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&t.events.change&&t.events.change.notify(t.current),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=wd.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Rh);const n=this.events[e].add(t);return"change"===e?()=>{n(),Bc.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Oh.current&&Oh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=wd.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Td(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lh(e,t){return new Dh(e,t)}function Fh(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lh(n))}const zh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$h="data-"+zh("framerAppearId");function Bh(e){return e.props[$h]}const Uh=e=>Boolean(e&&e.getVelocity);function Wh(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Uh(r)&&r.add))return n.add(t);var r}function Hh(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function Vh(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const t=e.getValue(d,null!==(i=e.latestValues[d])&&void 0!==i?i:null),r=l[d];if(void 0===r||u&&Hh(u,d))continue;const s={delay:n,...Mc(o||{},d)};let a=!1;if(window.MotionHandoffAnimation){const t=Bh(e);if(t){const e=window.MotionHandoffAnimation(t,d,Bc);null!==e&&(s.startTime=e,a=!0)}}Wh(e,d),t.start(Ph(d,t,r,e.shouldReduceMotion&&jc.has(d)?{type:!1}:s,e,a));const h=t.animation;h&&c.push(h)}return a&&Promise.all(c).then((()=>{Bc.update((()=>{a&&function(e,t){const n=wc(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i)Fh(e,a,(o=i[a],gc(o)?o[o.length-1]||0:o));var o}(e,a)}))})),c}function qh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;const s=wc(e,t,"exit"===n.type?null===(r=e.presenceContext)||void 0===r?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Vh(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const o=[],a=(e.variantChildren.size-1)*r,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return a-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Kh).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(qh(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,s+r,o,a,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then((()=>t()))}return Promise.all([o(),a(n.delay)])}function Kh(e,t){return e.sortNodePosition(t)}const Qh=kc.length;function Yh(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Yh(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Qh;n++){const r=kc[n],s=e.props[r];(vc(s)||!1===s)&&(t[r]=s)}return t}const Gh=[...Sc].reverse(),Xh=Sc.length;function Jh(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map((t=>qh(e,t,r)));n=Promise.all(s)}else if("string"===typeof t)n=qh(e,t,r);else{const s="function"===typeof t?wc(e,t,r.custom):t;n=Promise.all(Vh(e,s,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Zh(e){let t=Jh(e),n=np(),r=!0;const s=t=>(n,r)=>{var s;const i=wc(e,r,"exit"===t?null===(s=e.presenceContext)||void 0===s?void 0:s.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function i(i){const{props:o}=e,a=Yh(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<Xh;t++){const h=Gh[t],p=n[h],f=void 0!==o[h]?o[h]:a[h],m=vc(f),g=h===i?p.isActive:null;!1===g&&(d=t);let y=f===a[h]&&f!==o[h]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys={...u},!p.isActive&&null===g||!f&&!p.prevProp||mc(f)||"boolean"===typeof f)continue;const v=ep(p.prevProp,f);let x=v||h===i&&p.isActive&&!y&&m||t>d&&m,b=!1;const w=Array.isArray(f)?f:[f];let S=w.reduce(s(h),{});!1===g&&(S={});const{prevResolvedValues:k={}}=p,_={...k,...S},j=t=>{x=!0,c.has(t)&&(b=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in _){const t=S[e],n=k[e];if(u.hasOwnProperty(e))continue;let r=!1;r=gc(t)&&gc(n)?!yc(t,n):t!==n,r?void 0!==t&&null!==t?j(e):c.add(e):void 0!==t&&c.has(e)?j(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=S,p.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(x=!1);x&&(!(y&&v)||b)&&l.push(...w.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const o=i(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=np(),r=!0}}}function ep(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!yc(t,e)}function tp(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function np(){return{animate:tp(!0),whileInView:tp(),whileHover:tp(),whileTap:tp(),whileDrag:tp(),whileFocus:tp(),exit:tp()}}class rp{constructor(e){this.isMounted=!1,this.node=e}update(){}}let sp=0;const ip={animation:{Feature:class extends rp{constructor(e){super(e),e.animationState||(e.animationState=Zh(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends rp{constructor(){super(...arguments),this.id=sp++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};const op={x:!1,y:!1};function ap(){return op.x||op.y}function lp(e){return t=>{"touch"===t.pointerType||ap()||e(t)}}function cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new AbortController,s={passive:!0,...n,signal:r.signal},i=lp((e=>{const{target:n}=e,r=t(e);if(!r||!n)return;const i=lp((e=>{r(e),n.removeEventListener("pointerleave",i)}));n.addEventListener("pointerleave",i,s)}));return function(e,t,n){var r;if(e instanceof Element)return[e];if("string"===typeof e){let s=document;t&&(s=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e).forEach((e=>{e.addEventListener("pointerenter",i,s)})),()=>r.abort()}const up=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function dp(e){return{point:{x:e.pageX,y:e.pageY}}}function hp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function pp(e,t,n,r){return hp(e,t,(e=>t=>up(t)&&e(t,dp(t)))(n),r)}const fp=(e,t)=>Math.abs(e-t);class mp{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=vp(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=fp(e.x,t.x),r=fp(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=Wc;this.history.push({...r,timestamp:s});const{onStart:i,onMove:o}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=gp(t,this.transformPagePoint),Bc.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=vp("pointercancel"===e.type?this.lastMoveEventInfo:gp(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!up(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=gp(dp(e),this.transformPagePoint),{point:o}=i,{timestamp:a}=Wc;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,vp(i,this.history)),this.removeListeners=Kd(pp(this.contextWindow,"pointermove",this.handlePointerMove),pp(this.contextWindow,"pointerup",this.handlePointerUp),pp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uc(this.updatePoint)}}function gp(e,t){return t?{point:t(e.point)}:e}function yp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vp(e,t){let{point:n}=e;return{point:n,delta:yp(n,bp(t)),offset:yp(n,xp(t)),velocity:wp(t,.1)}}function xp(e){return e[0]}function bp(e){return e[e.length-1]}function wp(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=bp(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Tc(t)));)n--;if(!r)return{x:0,y:0};const i=Cc(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Sp(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function kp(e){return e.max-e.min}function _p(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Qd(t.min,t.max,e.origin),e.scale=kp(n)/kp(t),e.translate=Qd(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function jp(e,t,n,r){_p(e.x,t.x,n.x,r?r.originX:void 0),_p(e.y,t.y,n.y,r?r.originY:void 0)}function Tp(e,t,n){e.min=n.min+t.min,e.max=e.min+kp(t)}function Cp(e,t,n){e.min=t.min-n.min,e.max=e.min+kp(t)}function Ep(e,t,n){Cp(e.x,t.x,n.x),Cp(e.y,t.y,n.y)}function Np(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Ap(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Pp=.35;function Mp(e,t,n){return{min:Ip(e,t),max:Ip(e,n)}}function Ip(e,t){return"number"===typeof e?e:e[t]||0}const Rp=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Op(e){return[e("x"),e("y")]}function Dp(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function Lp(e){return void 0===e||1===e}function Fp(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Lp(t)||!Lp(n)||!Lp(r)}function zp(e){return Fp(e)||$p(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $p(e){return Bp(e.x)||Bp(e.y)}function Bp(e){return e&&"0%"!==e}function Up(e,t,n){return n+t*(e-n)}function Wp(e,t,n,r,s){return void 0!==s&&(e=Up(e,s,r)),Up(e,n,r)+t}function Hp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=Wp(e.min,t,n,r,s),e.max=Wp(e.max,t,n,r,s)}function Vp(e,t){let{x:n,y:r}=t;Hp(e.x,n.translate,n.scale,n.originPoint),Hp(e.y,r.translate,r.scale,r.originPoint)}const qp=.999999999999,Kp=1.0000000000001;function Qp(e,t){e.min=e.min+t,e.max=e.max+t}function Yp(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Hp(e,t,n,Qd(e.min,e.max,s),r)}function Gp(e,t){Yp(e.x,t.x,t.scaleX,t.scale,t.originX),Yp(e.y,t.y,t.scaleY,t.scale,t.originY)}function Xp(e,t){return Dp(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Jp=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Zp=new WeakMap;class ef{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new mp(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(dp(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?op[i]?null:(op[i]=!0,()=>{op[i]=!1}):op.x||op.y?null:(op.x=op.y=!0,()=>{op.x=op.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Op((e=>{let t=this.getAxisMotionValue(e).get()||0;if(xu.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=kp(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),s&&Bc.postRender((()=>s(e,t))),Wh(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Op((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Jp(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&Bc.postRender((()=>s(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!tf(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?Qd(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?Qd(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&Sp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:Np(e.x,r,i),y:Np(e.y,n,s)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp;return!1===e?e=0:!0===e&&(e=Pp),{x:Mp(e,"left","right"),y:Mp(e,"top","bottom")}}(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Op((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Sp(e))return!1;const n=e.current;su(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=Xp(e,n),{scroll:s}=t;return s&&(Qp(r.x,s.offset.x),Qp(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Ap(e.x,t.x),y:Ap(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Dp(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=Op((o=>{if(!tf(o,t,this.currentDirection))return;let l=a&&a[o]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(o,d)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Wh(this.visualElement,e),n.start(Ph(e,n,0,t,this.visualElement,!1))}stopAnimation(){Op((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Op((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Op((t=>{const{drag:n}=this.getProps();if(!tf(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-Qd(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Sp(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Op((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=kp(e),s=kp(t);return s>r?n=_d(t.min,t.max-r,e.min):r>s&&(n=_d(e.min,e.max-s,t.min)),pu(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Op((t=>{if(!tf(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(Qd(s,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Zp.set(this.visualElement,this);const e=pp(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Sp(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Bc.read(t);const s=hp(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Op((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=Pp,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:o}}}function tf(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const nf=e=>(t,n)=>{e&&Bc.postRender((()=>e(t,n)))};const rf=(0,s.createContext)(null);const sf=(0,s.createContext)({}),of=(0,s.createContext)({}),af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cf={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!bu.test(e))return e;e=parseFloat(e)}return`${lf(e,t.target.x)}% ${lf(e,t.target.y)}%`}},uf={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=sd.parse(e);if(i.length>5)return s;const o=sd.createTransformer(e),a="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+a]/=l,i[1+a]/=c;const u=Qd(l,c,.5);return"number"===typeof i[2+a]&&(i[2+a]/=u),"number"===typeof i[3+a]&&(i[3+a]/=u),o(i)}},df={};const{schedule:hf,cancel:pf}=$c(queueMicrotask,!1);class ff extends s.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;var i;i=gf,Object.assign(df,i),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(()=>{this.safeToRemove()})),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,i=n.projection;return i?(i.isPresent=s,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||Bc.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hf.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mf(e){const[t,n]=function(){const e=(0,s.useContext)(rf);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=(0,s.useId)();(0,s.useEffect)((()=>r(i)),[]);const o=(0,s.useCallback)((()=>n&&n(i)),[i,n]);return!t&&n?[!1,o]:[!0]}(),r=(0,s.useContext)(sf);return(0,No.jsx)(ff,{...e,layoutGroup:r,switchLayoutGroup:(0,s.useContext)(of),isPresent:t,safeToRemove:n})}const gf={borderRadius:{...cf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cf,borderTopRightRadius:cf,borderBottomLeftRadius:cf,borderBottomRightRadius:cf,boxShadow:uf},yf=["TopLeft","TopRight","BottomLeft","BottomRight"],vf=yf.length,xf=e=>"string"===typeof e?parseFloat(e):e,bf=e=>"number"===typeof e||bu.test(e);function wf(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Sf=_f(0,.5,eu),kf=_f(.5,.95,Fc);function _f(e,t,n){return r=>r<e?0:r>t?1:n(_d(e,t,r))}function jf(e,t){e.min=t.min,e.max=t.max}function Tf(e,t){jf(e.x,t.x),jf(e.y,t.y)}function Cf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ef(e,t,n,r,s){return e=Up(e-=t,1/n,r),void 0!==s&&(e=Up(e,1/s,r)),e}function Nf(e,t,n,r,s){let[i,o,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;xu.test(t)&&(t=parseFloat(t),t=Qd(o.min,o.max,t/100)-o.min);if("number"!==typeof t)return;let a=Qd(i.min,i.max,r);e===i&&(a-=t),e.min=Ef(e.min,t,n,a,s),e.max=Ef(e.max,t,n,a,s)}(e,t[i],t[o],t[a],t.scale,r,s)}const Af=["x","scaleX","originX"],Pf=["y","scaleY","originY"];function Mf(e,t,n,r){Nf(e.x,t,Af,n?n.x:void 0,r?r.x:void 0),Nf(e.y,t,Pf,n?n.y:void 0,r?r.y:void 0)}function If(e){return 0===e.translate&&1===e.scale}function Rf(e){return If(e.x)&&If(e.y)}function Of(e,t){return e.min===t.min&&e.max===t.max}function Df(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Lf(e,t){return Df(e.x,t.x)&&Df(e.y,t.y)}function Ff(e){return kp(e.x)/kp(e.y)}function zf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $f{constructor(){this.members=[]}add(e){Mh(this.members,e),e.scheduleRender()}remove(e){if(Ih(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Bf=(e,t)=>e.depth-t.depth;class Uf{constructor(){this.children=[],this.isDirty=!1}add(e){Mh(this.children,e),this.isDirty=!0}remove(e){Ih(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Bf),this.isDirty=!1,this.children.forEach(e)}}function Wf(e){const t=Uh(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}function Hf(e,t){const n=wd.now(),r=s=>{let{timestamp:i}=s;const o=i-n;o>=t&&(Uc(r),e(o-t))};return Bc.read(r,!0),()=>Uc(r)}const Vf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qf="undefined"!==typeof window&&void 0!==window.MotionDebug,Kf=["","X","Y","Z"],Qf={visibility:"hidden"};let Yf=0;function Gf(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Xf(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Bh(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Bc,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Xf(r)}function Jf(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Yf++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qf&&(Vf.totalNodes=Vf.resolvedTargetDeltas=Vf.recalculatedProjection=0),this.nodes.forEach(tm),this.nodes.forEach(lm),this.nodes.forEach(cm),this.nodes.forEach(nm),qf&&window.MotionDebug.record(Vf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Uf)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Rh),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:s,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||s)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Hf(r,250),af.hasAnimatedSinceResize&&(af.hasAnimatedSinceResize=!1,this.nodes.forEach(am))}))}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&o&&(s||i)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||mm,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!Lf(this.targetLayout,s)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e={...Mc(i,"layout"),onPlay:a,onComplete:l};(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||am(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Uc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(um),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Xf(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(sm);this.isUpdating||this.nodes.forEach(im),this.isUpdating=!1,this.nodes.forEach(om),this.nodes.forEach(Zf),this.nodes.forEach(em),this.clearAllSnapshots();const e=wd.now();Wc.delta=pu(0,1e3/60,e-Wc.timestamp),Wc.timestamp=e,Wc.isProcessing=!0,Hc.update.process(Wc),Hc.preRender.process(Wc),Hc.render.process(Wc),Wc.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rm),this.sharedNodes.forEach(dm)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bc.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bc.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Rf(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||zp(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),vm((r=n).x),vm(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(bm))){const{scroll:e}=this.root;e&&(Qp(n.x,e.offset.x),Qp(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(Tf(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:s,options:i}=t;t!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&Tf(n,e),Qp(n.x,s.offset.x),Qp(n.y,s.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};Tf(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Gp(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),zp(e.latestValues)&&Gp(n,e.latestValues)}return zp(this.latestValues)&&Gp(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Tf(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!zp(e.latestValues))continue;Fp(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};Tf(r,e.measurePageBox()),Mf(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return zp(this.latestValues)&&Mf(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wc.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:s,layoutId:i}=this.options;if(this.layout&&(s||i)){if(this.resolvedRelativeTargetAt=Wc.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ep(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),Tf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,Tp(o.x,a.x,l.x),Tp(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Tf(this.target,this.layout.layoutBox),Vp(this.target,this.targetDelta)):Tf(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ep(this.relativeTargetOrigin,this.target,e.target),Tf(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qf&&Vf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Fp(this.parent.latestValues)&&!$p(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===Wc.timestamp&&(r=!1),r)return;const{layout:s,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!i)return;Tf(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,o;t.x=t.y=1;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Gp(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Vp(e,o)),r&&zp(i.latestValues)&&Gp(e,i.latestValues))}t.x<Kp&&t.x>qp&&(t.x=1),t.y<Kp&&t.y>qp&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Cf(this.prevProjectionDelta.x,this.projectionDelta.x),Cf(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),jp(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&zf(this.projectionDelta.x,this.prevProjectionDelta.x)&&zf(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),qf&&Vf.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(fm));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h;hm(i.x,e.x,n),hm(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ep(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){pm(e.x,t.x,n.x,r),pm(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,o,n),d&&(l=this.relativeTarget,h=d,Of(l.x,h.x)&&Of(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),Tf(d,this.relativeTarget)),a&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=Qd(0,void 0!==n.opacity?n.opacity:1,Sf(r)),e.opacityExit=Qd(void 0!==t.opacity?t.opacity:1,0,kf(r))):i&&(e.opacity=Qd(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<vf;o++){const s=`border${yf[o]}Radius`;let i=wf(t,s),a=wf(n,s);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||bf(i)===bf(a)?(e[s]=Math.max(Qd(xf(i),xf(a),r),0),(xu.test(a)||xu.test(i))&&(e[s]+="%")):e[s]=a)}(t.rotate||n.rotate)&&(e.rotate=Qd(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Uc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bc.update((()=>{af.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=Uh(e)?e:Lh(e);return r.start(Ph("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&xm(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=kp(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=kp(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}Tf(t,n),Gp(t,s),jp(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new $f);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Gf("z",e,r,this.animationValues);for(let s=0;s<Kf.length;s++)Gf(`rotate${Kf[s]}`,e,r,this.animationValues),Gf(`skew${Kf[s]}`,e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qf;const r={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=Wf(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=s?s(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Wf(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!zp(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1),t}const o=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(null===n||void 0===n?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:o,skewY:a}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),i&&(r+=`rotateY(${i}deg) `),o&&(r+=`skewX(${o}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),s&&(r.transform=s(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,i.animationValues?r.opacity=i===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=i===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const c in df){if(void 0===o[c])continue;const{correct:e,applyTo:t}=df[c],n="none"===r.transform?o[c]:e(o[c],i);if(t){const e=t.length;for(let s=0;s<e;s++)r[t[s]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=i===this?Wf(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(sm),this.root.sharedNodes.clear()}}}function Zf(e){e.updateLayout()}function em(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;"size"===s?Op((e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],s=kp(r);r.min=t[e].min,r.max=r.min+s})):xm(s,n.layoutBox,t)&&Op((r=>{const s=i?n.measuredBox[r]:n.layoutBox[r],o=kp(t[r]);s.max=s.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};jp(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?jp(a,e.applyTransform(r,!0),n.measuredBox):jp(a,t,n.layoutBox);const l=!Rf(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const o={x:{min:0,max:0},y:{min:0,max:0}};Ep(o,n.layoutBox,s.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Ep(a,t,i.layoutBox),Lf(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function tm(e){qf&&Vf.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nm(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rm(e){e.clearSnapshot()}function sm(e){e.clearMeasurements()}function im(e){e.isLayoutDirty=!1}function om(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function am(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lm(e){e.resolveTargetDelta()}function cm(e){e.calcProjection()}function um(e){e.resetSkewAndRotation()}function dm(e){e.removeLeadSnapshot()}function hm(e,t,n){e.translate=Qd(t.translate,0,n),e.scale=Qd(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pm(e,t,n,r){e.min=Qd(t.min,n.min,r),e.max=Qd(t.max,n.max,r)}function fm(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const mm={duration:.45,ease:[.4,0,.1,1]},gm=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ym=gm("applewebkit/")&&!gm("chrome/")?Math.round:Fc;function vm(e){e.min=ym(e.min),e.max=ym(e.max)}function xm(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Ff(t),s=Ff(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function bm(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const wm=Jf({attachResizeListener:(e,t)=>hp(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sm={current:void 0},km=Jf({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sm.current){const e=new wm({});e.mount(window),e.setOptions({layoutScroll:!0}),Sm.current=e}return Sm.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),_m={pan:{Feature:class extends rp{constructor(){super(...arguments),this.removePointerDownListener=Fc}onPointerDown(e){this.session=new mp(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Jp(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:nf(e),onStart:nf(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Bc.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=pp(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends rp{constructor(e){super(e),this.removeGroupControls=Fc,this.removeListeners=Fc,this.controls=new ef(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fc}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:km,MeasureLayout:mf}};function jm(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const s=r[n?"onHoverStart":"onHoverEnd"];s&&Bc.postRender((()=>s(t,dp(t))))}const Tm=(e,t)=>!!t&&(e===t||Tm(e,t.parentElement));function Cm(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,dp(n))}const Em=new WeakMap,Nm=new WeakMap,Am=e=>{const t=Em.get(e.target);t&&t(e)},Pm=e=>{e.forEach(Am)};function Mm(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;Nm.has(r)||Nm.set(r,{});const s=Nm.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(Pm,{root:t,...n})),s[i]}(t);return Em.set(e,n),r.observe(e),()=>{Em.delete(e),r.unobserve(e)}}const Im={some:0,all:1};const Rm={inView:{Feature:class extends rp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Im[r]};return Mm(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends rp{constructor(){super(...arguments),this.removeStartListeners=Fc,this.removeEndListeners=Fc,this.removeAccessibleListeners=Fc,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=pp(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:s}=this.node.getProps(),i=s||Tm(this.node.current,e.target)?n:r;i&&Bc.update((()=>i(e,t)))}),{passive:!(n.onTap||n.onPointerUp)}),s=pp(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Kd(r,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=hp(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=hp(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&Cm("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&Bc.postRender((()=>n(e,t)))}))})),Cm("down",((e,t)=>{this.startPress(e,t)}))})),t=hp(this.node.current,"blur",(()=>{this.isPressing&&Cm("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Kd(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Bc.postRender((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ap()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Bc.postRender((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=pp(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=hp(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kd(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends rp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(nU){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kd(hp(this.node.current,"focus",(()=>this.onFocus())),hp(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends rp{mount(){const{current:e,props:t}=this.node;e&&(this.unmount=cp(e,(e=>(jm(this.node,e,!0),e=>jm(this.node,e,!1))),{passive:!t.onHoverStart&&!t.onHoverEnd}))}unmount(){}}}},Om={layout:{ProjectionNode:km,MeasureLayout:mf}},Dm=(0,s.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Lm=(0,s.createContext)({}),Fm="undefined"!==typeof window,zm=Fm?s.useLayoutEffect:s.useEffect,$m=(0,s.createContext)({strict:!1});function Bm(e,t,n,r,i){var o,a;const{visualElement:l}=(0,s.useContext)(Lm),c=(0,s.useContext)($m),u=(0,s.useContext)(rf),d=(0,s.useContext)(Dm).reducedMotion,h=(0,s.useRef)();r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));const p=h.current,f=(0,s.useContext)(of);!p||p.projection||!i||"html"!==p.type&&"svg"!==p.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Um(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(o)||a&&Sp(a),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}(h.current,n,i,f);const m=(0,s.useRef)(!1);(0,s.useInsertionEffect)((()=>{p&&m.current&&p.update(n,u)}));const g=n[$h],y=(0,s.useRef)(Boolean(g)&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,g))&&(null===(a=window.MotionHasOptimisedAnimation)||void 0===a?void 0:a.call(window,g)));return zm((()=>{p&&(m.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),hf.render(p.render),y.current&&p.animationState&&p.animationState.animateChanges())})),(0,s.useEffect)((()=>{p&&(!y.current&&p.animationState&&p.animationState.animateChanges(),y.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,g)})),y.current=!1))})),p}function Um(e){if(e)return!1!==e.options.allowProjection?e.projection:Um(e.parent)}function Wm(e,t,n){return(0,s.useCallback)((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Sp(n)&&(n.current=r))}),[t])}function Hm(e){return mc(e.animate)||kc.some((t=>vc(e[t])))}function Vm(e){return Boolean(Hm(e)||e.variants)}function qm(e){const{initial:t,animate:n}=function(e,t){if(Hm(e)){const{initial:t,animate:n}=e;return{initial:!1===t||vc(t)?t:void 0,animate:vc(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,s.useContext)(Lm));return(0,s.useMemo)((()=>({initial:t,animate:n})),[Km(t),Km(n)])}function Km(e){return Array.isArray(e)?e.join(" "):e}const Qm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ym={};for(const n in Qm)Ym[n]={isEnabled:e=>Qm[n].some((t=>!!e[t]))};const Gm=Symbol.for("motionComponentSymbol");function Xm(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:o}=e;t&&function(e){for(const t in e)Ym[t]={...Ym[t],...e[t]}}(t);const a=(0,s.forwardRef)((function(e,t){let a;const l={...(0,s.useContext)(Dm),...e,layoutId:Jm(e)},{isStatic:c}=l,u=qm(e),d=i(e,c);if(!c&&Fm){!function(){(0,s.useContext)($m).strict;0}();const e=function(e){const{drag:t,layout:n}=Ym;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:(null===t||void 0===t?void 0:t.isEnabled(e))||(null===n||void 0===n?void 0:n.isEnabled(e))?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=e.MeasureLayout,u.visualElement=Bm(o,d,l,n,e.ProjectionNode)}return(0,No.jsxs)(Lm.Provider,{value:u,children:[a&&u.visualElement?(0,No.jsx)(a,{visualElement:u.visualElement,...l}):null,r(o,e,Wm(d,u.visualElement,t),d,c,u.visualElement)]})}));return a[Gm]=o,a}function Jm(e){let{layoutId:t}=e;const n=(0,s.useContext)(sf).id;return n&&void 0!==t?n+"-"+t:t}const Zm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eg(e){return"string"===typeof e&&!e.includes("-")&&!!(Zm.indexOf(e)>-1||/[A-Z]/u.test(e))}function tg(e,t,n,r){let{style:s,vars:i}=t;Object.assign(e.style,s,r&&r.getProjectionStyles(n));for(const o in i)e.style.setProperty(o,i[o])}const ng=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rg(e,t,n,r){tg(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(ng.has(s)?s:zh(s),t.attrs[s])}function sg(e,t){let{layout:n,layoutId:r}=t;return jc.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!df[e]||"opacity"===e)}function ig(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Uh(s[o])||t.style&&Uh(t.style[o])||sg(o,e)||void 0!==(null===(r=null===n||void 0===n?void 0:n.getValue(o))||void 0===r?void 0:r.liveStyle))&&(i[o]=s[o]);return i}function og(e,t,n){const r=ig(e,t,n);for(const s in e)if(Uh(e[s])||Uh(t[s])){r[-1!==_c.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}function ag(e){const t=(0,s.useRef)(null);return null===t.current&&(t.current=e()),t.current}const lg=e=>(t,n)=>{const r=(0,s.useContext)(Lm),i=(0,s.useContext)(rf),o=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i,onMount:o}=e;const a={latestValues:cg(t,n,r,s),renderState:i()};return o&&(a.mount=e=>o(t,e,a)),a}(e,t,r,i);return n?o():ag(o)};function cg(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Wf(i[h]);let{initial:o,animate:a}=e;const l=Hm(e),c=Vm(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const d=u?a:o;if(d&&"boolean"!==typeof d&&!mc(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=bc(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}const ug=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),dg=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),hg=(e,t)=>t&&"number"===typeof e?t.transform(e):e,pg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fg=_c.length;function mg(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(jc.has(l))o=!0;else if(au(l))s[l]=e;else{const t=hg(e,hd[l]);l.startsWith("origin")?(a=!0,i[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<fg;i++){const o=_c[i],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=hg(a,hd[o]);l||(s=!1,r+=`${pg[o]||o}(${e}) `),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}function gg(e,t,n){return"string"===typeof e?e:bu.transform(t+n*e)}const yg={offset:"stroke-dashoffset",array:"stroke-dasharray"},vg={offset:"strokeDashoffset",array:"strokeDasharray"};function xg(e,t,n,r){let{attrX:s,attrY:i,attrScale:o,originX:a,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0,...h}=t;if(mg(e,h,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:f,dimensions:m}=e;p.transform&&(m&&(f.transform=p.transform),delete p.transform),m&&(void 0!==a||void 0!==l||f.transform)&&(f.transformOrigin=function(e,t,n){return`${gg(t,e.x,e.width)} ${gg(n,e.y,e.height)}`}(m,void 0!==a?a:.5,void 0!==l?l:.5)),void 0!==s&&(p.x=s),void 0!==i&&(p.y=i),void 0!==o&&(p.scale=o),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?yg:vg;e[i.offset]=bu.transform(-r);const o=bu.transform(t),a=bu.transform(n);e[i.array]=`${o} ${a}`}(p,c,u,d,!1)}const bg=e=>"string"===typeof e&&"svg"===e.toLowerCase(),wg={useVisualState:lg({scrapeMotionValuesFromProps:og,createRenderState:dg,onMount:(e,t,n)=>{let{renderState:r,latestValues:s}=n;Bc.read((()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(nU){r.dimensions={x:0,y:0,width:0,height:0}}})),Bc.render((()=>{xg(r,s,bg(t.tagName),e.transformTemplate),rg(t,r)}))}})},Sg={useVisualState:lg({scrapeMotionValuesFromProps:ig,createRenderState:ug})};function kg(e,t,n){for(const r in t)Uh(t[r])||sg(r,n)||(e[r]=t[r])}function _g(e,t){const n={};return kg(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,s.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return mg(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function jg(e,t){const n={},r=_g(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Tg=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cg(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Tg.has(e)}let Eg=e=>!Cg(e);try{(Ng=require("@emotion/is-prop-valid").default)&&(Eg=e=>e.startsWith("on")?!Cg(e):Ng(e))}catch(rU){}var Ng;function Ag(e,t,n,r){const i=(0,s.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return xg(n,t,bg(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};kg(t,e.style,e),i.style={...t,...i.style}}return i}function Pg(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,i,o)=>{let{latestValues:a}=i;const l=(eg(t)?Ag:jg)(n,a,o,t),c=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(Eg(s)||!0===n&&Cg(s)||!t&&!Cg(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(n,"string"===typeof t,e),u=t!==s.Fragment?{...c,...l,ref:r}:{},{children:d}=n,h=(0,s.useMemo)((()=>Uh(d)?d.get():d),[d]);return(0,s.createElement)(t,{...u,children:h})}}function Mg(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return Xm({...eg(n)?wg:Sg,preloadedFeatures:e,useRender:Pg(r),createVisualElement:t,Component:n})}}const Ig={current:null},Rg={current:!1};const Og=new WeakMap,Dg=[...Mu,Yu,sd],Lg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Fg{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=wd.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Bc.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Hm(n),this.isVariantNode=Vm(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const e=d[h];void 0!==l[h]&&Uh(e)&&e.set(l[h],!1)}}mount(e){this.current=e,Og.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Rg.current||function(){if(Rg.current=!0,Fm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ig.current=e.matches;e.addListener(t),t()}else Ig.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Ig.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Og.delete(this.current),this.projection&&this.projection.unmount(),Uc(this.notifyUpdate),Uc(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=jc.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Bc.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),s=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),s(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Ym){const t=Ym[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Lg.length;n++){const t=Lg[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Uh(s))e.addValue(r,s);else if(Uh(i))e.addValue(r,Lh(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,Lh(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Lh(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var s;return void 0!==r&&null!==r&&("string"===typeof r&&(iu(r)||nu(r))?r=parseFloat(r):(s=r,!Dg.find(Pu(s))&&sd.test(t)&&(r=md(e,t))),this.setBaseTarget(e,Uh(r)?r.get():r)),Uh(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let r;if("string"===typeof n||"object"===typeof n){const s=bc(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);s&&(r=s[e])}if(n&&void 0!==r)return r;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||Uh(s)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new Rh),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class zg extends Fg{constructor(){super(...arguments),this.KeyframeResolver=yd}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Uh(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class $g extends zg{constructor(){super(...arguments),this.type="html",this.renderInstance=tg}readValueFromInstance(e,t){if(jc.has(t)){const e=fd(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),s=(au(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Xp(e,n)}build(e,t,n){mg(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ig(e,t,n)}}class Bg extends zg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rp}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(jc.has(t)){const e=fd(t);return e&&e.default||0}return t=ng.has(t)?t:zh(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return og(e,t,n)}build(e,t,n){xg(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,r){rg(e,t,0,r)}mount(e){this.isSVGTag=bg(e.tagName),super.mount(e)}}const Ug=(e,t)=>eg(e)?new Bg(t):new $g(t,{allowProjection:e!==s.Fragment}),Wg=fc(Mg({...ip,...Rm,..._m,...Om},Ug)),Hg=e=>{let{size:t=36,className:n=""}=e;return(0,No.jsx)("img",{src:"/logo.png",alt:"Fast Math Logo",style:{width:t,height:t},className:n})},Vg=()=>{const{login:e}=Mo(),{login:t,isConfigured:n}=Ka(),r=re(),[i,o]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1);return(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:(0,No.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,No.jsxs)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:[(0,No.jsx)(Hg,{size:32}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Fast Math"})]}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,No.jsx)(Ya,{className:"space-y-6 p-6 bg-white rounded-lg shadow-md",children:(0,No.jsxs)(Ga,{className:"space-y-8",children:[(0,No.jsxs)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center space-y-2",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Welcome Back"}),(0,No.jsx)("p",{className:"text-base text-gray-600",children:"Login to continue your math journey"})]}),(0,No.jsxs)(Wg.form,{onSubmit:async t=>{t.preventDefault(),h(!0),u("");try{console.log("Attempting login with:",{email:i});const t=await fo.post("/auth/login",{email:i,password:a});if(console.log("Login response:",t),!t.data||!t.data.token)throw new Error("Invalid response from server");await e(t.data.token,t.data.user),r("/")}catch(c){var n,s,o,l;if(console.error("Login error:",c),rr.isAxiosError(c))if("ERR_NETWORK"===c.code)u("Unable to connect to server. Please check your connection.");else u((null===(n=c.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||(null===(o=c.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.details)||"Network error occurred");else u(c instanceof Error?c.message:"Login failed");localStorage.removeItem("token")}finally{h(!1)}},className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:[c&&(0,No.jsx)("div",{className:"p-4 rounded-lg bg-red-50 text-red-500 text-base text-center",children:c}),(0,No.jsxs)("div",{className:"space-y-4",children:[(0,No.jsxs)("div",{className:"space-y-2",children:[(0,No.jsx)("label",{htmlFor:"email",className:"text-gray-700 font-medium text-base",children:"Email"}),(0,No.jsx)(hc,{id:"email",type:"email",value:i,onChange:e=>o(e.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Enter your email",required:!0})]}),(0,No.jsxs)("div",{className:"space-y-2",children:[(0,No.jsx)("label",{htmlFor:"password",className:"text-gray-700 font-medium text-base",children:"Password"}),(0,No.jsx)(hc,{id:"password",type:"password",value:a,onChange:e=>l(e.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Enter your password",required:!0})]})]}),(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},type:"submit",disabled:d,className:`w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 \n                                        text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg \n                                        transition-all duration-300 flex items-center justify-center gap-2\n                                        ${d&&"opacity-50 cursor-not-allowed"}`,children:(0,No.jsx)("span",{children:d?"Logging in...":"Login"})}),n&&(0,No.jsxs)(No.Fragment,{children:[(0,No.jsxs)("div",{className:"relative",children:[(0,No.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,No.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,No.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,No.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},type:"button",onClick:async()=>{if(n){f(!0),u("");try{await t()}catch(e){console.error("SSO login error:",e),u("Failed to initiate SSO login"),f(!1)}}else u("SSO is not configured")},disabled:p,className:`w-full px-6 py-3 bg-white border-2 border-gray-300 \n                                                text-gray-700 rounded-lg font-bold text-base shadow-md hover:shadow-lg \n                                                hover:border-blue-400 transition-all duration-300 flex items-center justify-center gap-2\n                                                ${p&&"opacity-50 cursor-not-allowed"}`,children:(0,No.jsx)("span",{children:p?"Connecting...":"Sign in with Timeback SSO"})})]}),(0,No.jsx)("div",{className:"pt-4 border-t border-gray-100 text-center",children:(0,No.jsxs)("p",{className:"text-base text-gray-600",children:["Don't have an account?"," ",(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},type:"button",onClick:()=>r("/signup"),className:"inline-block font-semibold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text hover:opacity-80 transition-opacity",children:"Sign up"})]})})]})]})})})]})})},qg=()=>{const{login:e}=Mo(),t=re(),[n,r]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[p,f]=(0,s.useState)(!1);return(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:(0,No.jsxs)("div",{className:"max-w-3xl mx-auto space-y-8 w-full",children:[(0,No.jsxs)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:[(0,No.jsx)(Hg,{size:32}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Fast Math"})]}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"w-full",children:(0,No.jsx)(Ya,{className:"w-full space-y-6 p-6 bg-white rounded-lg shadow-md",children:(0,No.jsxs)(Ga,{className:"w-full space-y-8",children:[(0,No.jsxs)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center space-y-2",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Create Account"}),(0,No.jsx)("p",{className:"text-base text-gray-600",children:"Start your math journey today"})]}),(0,No.jsxs)(Wg.form,{onSubmit:async r=>{r.preventDefault(),f(!0);try{const r=await fo.post("/auth/signup",{email:n,password:i,name:a,ageGrade:parseInt(c)});if(await e(r.data.token,r.data.user),!localStorage.getItem("token"))throw new Error("Token storage failed");t("/")}catch(s){h(s instanceof Error?s.message:"Signup failed"),localStorage.removeItem("token")}finally{f(!1)}},className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:[d&&(0,No.jsx)("div",{className:"p-4 rounded-lg bg-red-50 text-red-500 text-base text-center",children:d}),(0,No.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,No.jsxs)("div",{className:"space-y-2",children:[(0,No.jsx)("label",{htmlFor:"name",className:"text-gray-700 font-medium text-base",children:"Name"}),(0,No.jsx)(hc,{id:"name",type:"text",value:a,onChange:e=>l(e.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Enter your name",required:!0})]}),(0,No.jsxs)("div",{className:"space-y-2",children:[(0,No.jsx)("label",{htmlFor:"email",className:"text-gray-700 font-medium text-base",children:"Email"}),(0,No.jsx)(hc,{id:"email",type:"email",value:n,onChange:e=>r(e.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Enter your email",required:!0})]}),(0,No.jsxs)("div",{className:"space-y-2",children:[(0,No.jsx)("label",{htmlFor:"password",className:"text-gray-700 font-medium text-base",children:"Password"}),(0,No.jsx)(hc,{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Choose a password",required:!0})]}),(0,No.jsxs)("div",{className:"space-y-2",children:[(0,No.jsx)("label",{htmlFor:"grade",className:"text-gray-700 font-medium text-base",children:"Grade Level"}),(0,No.jsx)(hc,{id:"grade",type:"number",min:"0",max:"12",value:c,onChange:e=>u(e.target.value),className:"w-full p-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all",placeholder:"Enter your grade (0-12)",required:!0})]})]}),(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},type:"submit",disabled:p,className:`w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 \n                                        text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg \n                                        transition-all duration-300 flex items-center justify-center gap-2\n                                        ${p&&"opacity-50 cursor-not-allowed"}`,children:(0,No.jsx)("span",{children:p?"Creating Account...":"Sign Up"})}),(0,No.jsx)("div",{className:"pt-4 border-t border-gray-100 text-center",children:(0,No.jsxs)("p",{className:"text-base text-gray-600",children:["Already have an account?"," ",(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},type:"button",onClick:()=>t("/login"),className:"inline-block font-semibold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text hover:opacity-80 transition-opacity",children:"Login"})]})})]})]})})})]})})},Kg=()=>{const e=re(),{userManager:t}=Ka(),{login:n}=Mo(),[r,i]=(0,s.useState)(null),[o,a]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{if(!t)return;(async()=>{try{const r=await t.signinRedirectCallback();if(!r||!r.id_token)throw new Error("No valid token received from SSO provider");const s=await fo.post("/auth/sso-login",{id_token:r.id_token});if(!s.data||!s.data.token)throw new Error("Invalid response from server");await n(s.data.token,s.data.user),e("/")}catch(r){console.error("SSO callback error:",r);let t="SSO login failed";r instanceof Error&&(r.message.includes("No FastMath account found")?t="No FastMath account found for this email. Please sign up first.":r.message.includes("Token expired")?t="Login session expired. Please try again.":r.message.includes("Invalid token")?t="Invalid login token. Please try again.":r.message.includes("Email not verified")&&(t="Email not verified. Please verify your email with Timeback first.")),i(t),a(!1),setTimeout((()=>{e("/login")}),3e3)}})()}),[t,n,e]),r?(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center items-center p-6",children:(0,No.jsxs)("div",{className:"max-w-md mx-auto text-center space-y-6",children:[(0,No.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-8",children:[(0,No.jsx)(Hg,{size:32}),(0,No.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Fast Math"})]}),(0,No.jsxs)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6 space-y-4",children:[(0,No.jsx)("div",{className:"text-red-500 text-xl",children:"\u26a0\ufe0f"}),(0,No.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"SSO Login Failed"}),(0,No.jsx)("p",{className:"text-gray-600",children:r}),(0,No.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting to login page in a few seconds..."})]})]})}):(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center items-center p-6",children:(0,No.jsxs)("div",{className:"max-w-md mx-auto text-center space-y-6",children:[(0,No.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-8",children:[(0,No.jsx)(Hg,{size:32}),(0,No.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Fast Math"})]}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6 space-y-4",children:o?(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)(Wg.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto"}),(0,No.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Completing SSO Login"}),(0,No.jsx)("p",{className:"text-gray-600",children:"Please wait while we verify your credentials..."})]}):(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("div",{className:"text-green-500 text-xl",children:"\u2705"}),(0,No.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Login Successful"}),(0,No.jsx)("p",{className:"text-gray-600",children:"Redirecting to your dashboard..."})]})})]})})},Qg=e=>{let{children:t}=e;const{login:n}=Mo(),r=re(),i=(0,s.useRef)(!1);return(0,s.useEffect)((()=>{(async()=>{const e=new URLSearchParams(window.location.search).get("token");if(e&&!i.current){i.current=!0;try{const t=await(async e=>{const t=Date.now();console.log("[API] Starting magic link token processing");try{const n=await fo.post("/auth/magic-link",{token:e});return console.log(`[API] Magic link token processing completed in ${Date.now()-t}ms, status: ${n.status}`),n.data}catch(r){var n;if(console.error(`[API] Magic link token processing failed in ${Date.now()-t}ms:`,r instanceof Error?r.message:"Unknown error"),rr.isAxiosError(r)&&r.response)throw console.error("[API] Error response:",r.response.status,r.response.data),new Error((null===(n=r.response.data)||void 0===n?void 0:n.message)||"Magic link authentication failed");throw r instanceof Error?r:new Error("Magic link authentication failed")}})(e);t.trackId&&sessionStorage.setItem("activeTrackId",t.trackId),n(t.token,t.user),t.takeAssessment?r("/progress-assessment"):r("/")}catch(t){console.error("Magic link token processing error:",t),r("/login")}finally{i.current=!1}}})()}),[n,r]),t?(0,No.jsx)(No.Fragment,{children:t}):(0,No.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,No.jsx)("div",{className:"text-xl",children:"Checking authentication..."})})};function Yg(e){let{children:t,requireAuth:n}=e;const r=Mo(),s=te();return r.loading?null:(console.log("ProtectedRoute state:",{isAuthenticated:null===r||void 0===r?void 0:r.isAuthenticated,currentPath:s.pathname}),n?null!==r&&void 0!==r&&r.isAuthenticated?(0,No.jsx)(No.Fragment,{children:t}):(console.log("[ProtectedRoute] User not authenticated, redirecting to login",{currentPath:s.pathname}),(0,No.jsx)(be,{to:"/login",state:{from:s},replace:!0})):null!==r&&void 0!==r&&r.isAuthenticated?(console.log("[ProtectedRoute] User is authenticated, redirecting away from login/signup"),(0,No.jsx)(be,{to:"/",replace:!0})):(0,No.jsx)(No.Fragment,{children:t}))}const Gg=(0,s.createContext)(void 0),Xg=e=>{let{children:t}=e;const[n,r]=(0,s.useState)({}),[i,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)(0);(0,s.useEffect)((()=>{const e=Object.values(n).filter((e=>e)).length;if(l(e),e>0&&!i)o(!0);else if(0===e&&i){const e=setTimeout((()=>{o(!1)}),300);return()=>clearTimeout(e)}}),[n,i]);const c=(0,s.useCallback)((e=>{r((t=>({...t,[e]:!0})))}),[]),u=(0,s.useCallback)((e=>{r((t=>{const n={...t};return delete n[e],n}))}),[]),d=(0,s.useCallback)(((e,t)=>{r((n=>({...n,[e]:t})))}),[]);return(0,No.jsx)(Gg.Provider,{value:{isLoading:i,registerLoadingComponent:c,unregisterLoadingComponent:u,setComponentLoading:d,loadingComponentsCount:a},children:t})},Jg=()=>{const e=(0,s.useContext)(Gg);if(void 0===e)throw new Error("useLoading must be used within a LoadingProvider");return e},Zg=e=>{var t,n,r,i,o,a;let{onStartClick:l,onMasteredFactsCount:c,trackId:u,targetFluency:d=1.5}=e;const[h,p]=(0,s.useState)([]),[f,m]=(0,s.useState)(null),[g,y]=(0,s.useState)(null),[v,x]=(0,s.useState)(0),[b,w]=(0,s.useState)(0),[S,k]=(0,s.useState)(0),[_,j]=(0,s.useState)(null),{user:T}=Mo(),C=(0,s.useRef)(0),{registerLoadingComponent:E,setComponentLoading:N}=Jg(),A=(0,s.useCallback)(((e,t)=>!!t&&("mastered"===t.status||(1.5===d?"fluency1Practice"===t.status||"automatic"===t.status:"fluency1_5Practice"===t.status||"fluency1Practice"===t.status||"automatic"===t.status))),[d]);(0,s.useEffect)((()=>{const e="progress-grid";E(e);(async()=>{if(null!==T&&void 0!==T&&T.userId)try{sessionStorage.setItem("activeTrackId",u);const[e,t]=await Promise.all([yo(),go(T.userId)]);p(e),k(e.length);const n=t.tracks.find((e=>e.trackId===u));n&&j(n)}catch(g){y("Failed to load facts"),console.error("Error fetching data:",g)}finally{N(e,!1)}else N(e,!1)})()}),[null===T||void 0===T?void 0:T.userId,u,E,N]),(0,s.useEffect)((()=>{if(!h||!_)return;let e=0,t=h.length;h.forEach((t=>{const n=_.facts[t.factId];A(t,n)&&e++})),w(e),x(e/t*100),e!==C.current&&(C.current=e,c&&c(e))}),[h,_,A,c]);const P=(e,t,n,r)=>{if(((e,t,n,r)=>{switch(e){case"TRACK6":case"TRACK8":case"TRACK12":return t+n>r;case"TRACK10":return t<n;default:return!1}})(u,t,n,r))return"bg-gray-50 hover:bg-gray-100";if(!e||0===e.length)return"bg-gray-200 hover:bg-gray-300";if(!_)return"bg-gray-200 hover:bg-gray-300";let s=e.length>0;for(const a of e){const e=_.facts[a.factId];if(!A(a,e)){s=!1;break}}if(s)return"bg-green-500 hover:bg-green-600";let i="notStarted";const o={notStarted:0,learning:1,accuracyPractice:2,fluency6Practice:3,fluency3Practice:4,fluency2Practice:5,fluency1_5Practice:6,fluency1Practice:7,automatic:8,mastered:9};for(const a of e){const e=_.facts[a.factId];if(!e)continue;const t=e.status;o[t]>o[i]&&(i=t)}switch(i){case"notStarted":default:return"bg-gray-200 hover:bg-gray-300";case"learning":return"bg-blue-200 hover:bg-blue-300";case"accuracyPractice":return"bg-orange-400 hover:bg-orange-500";case"fluency6Practice":return"bg-yellow-400 hover:bg-yellow-500";case"fluency3Practice":case"fluency2Practice":case"fluency1_5Practice":case"fluency1Practice":case"automatic":return"bg-lime-400 hover:bg-lime-500"}};if(g)return(0,No.jsx)("div",{className:"p-4 bg-white rounded-lg shadow-md",children:(0,No.jsx)("div",{className:"text-center text-red-500",children:g})});const{rowNumbers:M,colNumbers:I,factGrid:R,operator:O,isSubtractionOrDivision:D}=(()=>{const e=new Set,t=new Set,n={};let r="+";const s="TRACK2"===u||"TRACK4"===u||"TRACK5"===u||"TRACK8"===u;return h.forEach((i=>{s?(e.add(i.result),t.add(i.operand2),n[i.result]||(n[i.result]={}),n[i.result][i.operand2]||(n[i.result][i.operand2]=[]),n[i.result][i.operand2].push(i)):(e.add(i.operand1),t.add(i.operand2),n[i.operand1]||(n[i.operand1]={}),n[i.operand1][i.operand2]||(n[i.operand1][i.operand2]=[]),n[i.operand1][i.operand2].push(i)),r="addition"===i.operation?"+":"subtraction"===i.operation?"\u2212":"multiplication"===i.operation?"\xd7":"\xf7"})),{rowNumbers:Array.from(e).sort(((e,t)=>e-t)),colNumbers:Array.from(t).sort(((e,t)=>e-t)),factGrid:n,operator:r,isSubtractionOrDivision:s}})();return(0,No.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[(0,No.jsxs)("div",{className:"mb-3",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text mb-2",children:"Track Progress"}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,No.jsx)("div",{className:"h-full bg-green-500",style:{width:`${v}%`,transition:"width 0.5s ease-in-out"}})}),(0,No.jsxs)("span",{className:"text-sm text-gray-500 min-w-[5rem] text-right",children:[b,"/",S," facts"]})]})]}),(0,No.jsxs)("div",{className:"flex flex-row items-start gap-4",children:[(0,No.jsxs)("div",{className:"flex flex-col gap-2 mr-4",children:[(0,No.jsx)("h2",{className:"text-lg font-bold text-gray-700 mb-2",children:"Facts Grid"}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-200 border border-gray-300"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Not Started"})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-blue-200 border border-blue-300"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Learning"})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-orange-400 border border-orange-500"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Accuracy"})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-yellow-400 border border-yellow-500"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Fluency 6s"})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-lime-400 border border-lime-500"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:1===d?"Fluency 3s-1.5s":1.5===d?"Fluency 3s-2s":2===d?"Fluency 3s":`Fluency 3s-${d}s`})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-500 border border-green-600"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Mastered"})]})]}),(0,No.jsx)("div",{className:"flex-1",children:(0,No.jsx)("div",{className:"relative w-full aspect-square max-w-[55vh] max-h-[55vh] mx-auto",children:(0,No.jsx)("div",{className:"w-full h-full",children:(0,No.jsxs)("div",{className:"grid gap-1 h-full",style:{gridTemplateColumns:`1.5rem repeat(${I.length}, minmax(${Math.max(.5,1.8-.05*I.length)}rem, 1fr))`,gridTemplateRows:`1.5rem repeat(${M.length}, minmax(${Math.max(.5,1.8-.05*M.length)}rem, 1fr))`,fontSize:Math.max(.65,.9-.01*Math.max(M.length,I.length))+"rem"},children:[(0,No.jsx)("div",{className:"flex items-center justify-center text-xs font-medium text-gray-500",children:O}),I.map((e=>(0,No.jsx)("div",{className:"flex items-center justify-center text-xs font-medium text-gray-500",style:{fontSize:Math.max(.65,.85-.01*I.length)+"rem"},children:e},e))),M.map((e=>(0,No.jsxs)(s.Fragment,{children:[(0,No.jsx)("div",{className:"flex items-center justify-center text-xs font-medium text-gray-500",style:{fontSize:Math.max(.65,.85-.01*M.length)+"rem"},children:e}),I.map((t=>{var n;const r=null===(n=R[e])||void 0===n?void 0:n[t],s=r&&r.length>0,i=Math.max(...M);return(0,No.jsx)("button",{className:`\n                            w-full\n                            h-full\n                            rounded\n                            text-white\n                            font-medium\n                            transition-all\n                            duration-200\n                            transform\n                            ${P(r,e,t,i)}\n                            ${s?"hover:shadow-sm hover:scale-105 active:scale-95 cursor-pointer":"cursor-default"}\n                          `,onClick:s?()=>m({i:e,j:t}):void 0,"aria-disabled":!s},t)}))]},e)))]})})})})]}),f&&(0,No.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 transition-opacity duration-200 ease-in-out z-50",onClick:()=>m(null),children:(0,No.jsx)(Wg.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg shadow-md p-6",onClick:e=>e.stopPropagation(),children:(0,No.jsx)("div",{className:"text-4xl font-bold flex items-center space-x-4",children:D?(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("span",{className:"text-gray-800",children:(null===(t=R[f.i])||void 0===t||null===(n=t[f.j])||void 0===n||null===(r=n[0])||void 0===r?void 0:r.operand1)||"?"}),(0,No.jsx)("span",{className:"text-blue-500",children:O}),(0,No.jsx)("span",{className:"text-gray-800",children:f.j}),(0,No.jsx)("span",{className:"text-blue-500",children:"="}),(0,No.jsx)("span",{className:"text-gray-800",children:f.i})]}):(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("span",{className:"text-gray-800",children:f.i}),(0,No.jsx)("span",{className:"text-blue-500",children:O}),(0,No.jsx)("span",{className:"text-gray-800",children:f.j}),(0,No.jsx)("span",{className:"text-blue-500",children:"="}),(0,No.jsx)("span",{className:"text-gray-800",children:(null===(i=R[f.i])||void 0===i||null===(o=i[f.j])||void 0===o||null===(a=o[0])||void 0===a?void 0:a.result)||"?"})]})})})})]})};var ey={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ty=s.createContext&&s.createContext(ey),ny=["attr","size","title"];function ry(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(this,arguments)}function iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iy(Object(n),!0).forEach((function(t){ay(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ay(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ly(e){return e&&e.map(((e,t)=>s.createElement(e.tag,oy({key:t},e.attr),ly(e.child))))}function cy(e){return t=>s.createElement(uy,sy({attr:oy({},e.attr)},t),ly(e.child))}function uy(e){var t=t=>{var n,{attr:r,size:i,title:o}=e,a=ry(e,ny),l=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),s.createElement("svg",sy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:oy(oy({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&s.createElement("title",null,o),e.children)};return void 0!==ty?s.createElement(ty.Consumer,null,(e=>t(e))):t(ey)}function dy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function hy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function py(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function fy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function my(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function gy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function yy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(e)}function vy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function xy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(e)}function by(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function wy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Sy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function ky(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function _y(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function jy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Ty(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Cy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function Ey(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function Ny(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function Ay(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Py(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function My(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function Iy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Ry(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Oy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Dy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function Ly(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function Fy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function zy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function $y(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function By(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Uy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Wy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Hy(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}const Vy={placement:{icon:function(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"},child:[]}]})(e)},iconColor:"text-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200",titleColor:"text-blue-900",textColor:"text-blue-700",buttonGradient:"from-blue-500 to-blue-600",title:"Assessment Required",description:e=>`Take a quick assessment to help us personalize your learning experience in ${e}.`,route:"/assessment"},progress:{icon:function(e){return cy({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)},iconColor:"text-amber-500",bgColor:"bg-amber-50",borderColor:"border-amber-200",titleColor:"text-amber-900",textColor:"text-amber-700",buttonGradient:"from-amber-500 to-yellow-500",title:"Progress Assessment Available",description:"You have a new assessment to complete for this track.",route:"/progress-assessment"},targeted:{icon:Ly,iconColor:"text-amber-500",bgColor:"bg-amber-50",borderColor:"border-amber-200",titleColor:"text-amber-900",textColor:"text-amber-700",buttonGradient:"from-amber-500 to-yellow-500",title:"Targeted Assessment Available",description:"Take this assessment to practice specific skills.",route:"/assessment"}},qy=e=>{let{type:t,trackName:n}=e;const r=re(),s=Vy[t],i=s.icon;return(0,No.jsxs)("div",{className:`${s.bgColor} border ${s.borderColor} rounded-lg p-6 text-center`,children:[(0,No.jsx)(i,{className:`${s.iconColor} w-12 h-12 mx-auto mb-4`}),(0,No.jsx)("h3",{className:`text-xl font-semibold ${s.titleColor} mb-2`,children:s.title}),(0,No.jsx)("p",{className:`text-base ${s.textColor} mb-4`,children:"function"===typeof s.description?s.description(n):s.description}),(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},onClick:()=>{"progress"===t?r(s.route):r(s.route,{state:{assessmentType:t}})},className:`px-6 py-3 bg-gradient-to-r ${s.buttonGradient} text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300`,children:"Start Assessment"})]})},Ky=e=>{let{userId:t,targetCQPM:n,onProgressAssessment:r,isActive:i=!1,preloadedData:o=null,showRetakeButton:a=!0,onTargetAchieved:l,assessmentAvailable:c=!0,assessmentMessage:u="Ready to test-out to the next track? Take an assessment."}=e;const[d,h]=(0,s.useState)(null),[p,f]=(0,s.useState)(null),[m,g]=(0,s.useState)(null),{registerLoadingComponent:y,setComponentLoading:v}=Jg(),{user:x}=Mo(),[b,w]=(0,s.useState)(!1),S=async()=>{try{r()}catch(e){console.error("Error starting assessment:",e),g("Failed to start assessment")}};(0,s.useEffect)((()=>{if(o)return h(o.currentCQPM),void f(o.changeCQPM);const e="progress-metrics";if(y(e),!i||!t)return void v(e,!1);(async()=>{try{const e=await _o(t);h(e.currentCQPM),f(e.changeCQPM)}catch(n){g("Failed to load progress data"),console.error("Error fetching progress data:",n)}finally{v(e,!1)}})()}),[t,i,y,v,o]),(0,s.useEffect)((()=>{null!==d&&void 0!==n&&d>=n&&d>0&&l&&!b&&(l(),w(!0))}),[d,n,l,b]);const k=null!==d&&void 0!==n?d-n:-1;return i?m?(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,No.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-3",children:(0,No.jsx)("div",{className:"text-red-500 text-center text-sm",children:m})})}):(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,No.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[(0,No.jsx)("div",{className:"px-3 pt-3",children:(0,No.jsx)("h3",{className:"text-sm font-semibold text-gray-700",children:"Progress Metrics"})}),(0,No.jsxs)("div",{className:"px-3 py-3",children:[(0,No.jsxs)("div",{className:"flex items-center gap-2 text-blue-600 mb-2",children:[(0,No.jsx)(dy,{className:"text-sm"}),(0,No.jsx)("span",{className:"text-xs font-medium",children:"Current Speed Score"})]}),(0,No.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,No.jsxs)("div",{className:"flex items-baseline",children:[(0,No.jsx)("div",{className:"text-xl font-bold text-blue-700 tracking-tight",children:(null===d||void 0===d?void 0:d.toFixed(1))||"0.0"}),null!==p&&(0,No.jsxs)("div",{className:"ml-2 flex items-baseline "+(p>=0?"text-green-600":"text-red-600"),children:[(0,No.jsxs)("span",{className:"text-sm font-medium",children:[p>=0?"\u2191":"\u2193",Math.abs(p).toFixed(1)]}),(0,No.jsxs)("span",{className:"text-[10px] ml-1 opacity-80",children:[p>=0?"higher":"lower"," than last test"]})]})]}),n&&null!==d&&(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"flex-1 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:(0,No.jsx)("div",{className:"h-full transition-all duration-500 ease-out "+(k>=0?"bg-green-500":"bg-yellow-500"),style:{width:`${Math.min(d/n*100,100)}%`}})}),(0,No.jsx)("div",{className:"text-xs font-medium whitespace-nowrap "+(k>=0?"text-green-600":"text-yellow-600"),children:k>=0?(0,No.jsxs)(No.Fragment,{children:[k.toFixed(1)," higher than target!"]}):(0,No.jsxs)(No.Fragment,{children:[Math.abs(k).toFixed(1)," to go"]})})]})]})]}),(0,No.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-t border-b border-gray-100",children:(0,No.jsxs)("div",{className:"flex items-center justify-between",children:[(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)(Ly,{className:"text-blue-600 text-sm"}),(0,No.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Target Speed Score"})]}),(0,No.jsx)("span",{className:"text-xs font-bold text-gray-700",children:(null===n||void 0===n?void 0:n.toFixed(1))||"0.0"})]})}),k>=0&&null!==d&&d>0&&n&&n>0&&(0,No.jsx)("div",{className:"px-3 py-3 bg-green-50 border-t border-b border-green-100",children:(0,No.jsx)("p",{className:"text-xs text-green-700 font-medium",children:"\ud83c\udf89 Congratulations, you have proved fluency in this operation! Track completion unlocked!"})}),a&&c&&(0,No.jsx)("div",{className:"p-2 bg-gray-50 border-t border-gray-100",children:(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:S,className:"w-full flex items-center justify-center gap-2 px-3 py-1.5 rounded-lg bg-gradient-to-r from-amber-500 to-yellow-500 text-white shadow-sm hover:shadow transition-all duration-300",children:[(0,No.jsx)(fy,{size:12}),(0,No.jsx)("span",{className:"text-xs font-medium",children:"Retake Test"})]})}),i&&!a&&c&&(0,No.jsx)("div",{className:"p-2 bg-gray-50 border-t border-gray-100",children:(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:S,className:"w-full flex items-center justify-center gap-2 px-3 py-1.5 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm hover:shadow transition-all duration-300",children:[(0,No.jsx)(fy,{size:12}),(0,No.jsx)("span",{className:"text-xs font-medium",children:"Take Assessment"})]})}),i&&!c&&(0,No.jsx)("div",{className:"p-2 bg-gray-50 border-t border-gray-100",children:(0,No.jsx)("div",{className:"w-full px-3 py-1.5 rounded-lg bg-gray-100 text-gray-600 text-center",children:(0,No.jsx)("span",{className:"text-xs",children:u})})})]})}):(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,No.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:(0,No.jsxs)("div",{className:"p-3 flex flex-col items-center text-center",children:[(0,No.jsx)("div",{className:"w-8 h-8 bg-amber-50 rounded-full flex items-center justify-center mb-2",children:(0,No.jsx)(gy,{className:"text-amber-500 text-sm"})}),(0,No.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-1",children:c?"Get your Speed Score":"Progress Assessment"}),(0,No.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:u}),c?(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:S,className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-gradient-to-r from-amber-500 to-yellow-500 text-white shadow-sm hover:shadow transition-all duration-300",children:[(0,No.jsx)(fy,{size:12}),(0,No.jsx)("span",{className:"text-xs font-medium",children:"Start Assessment"})]}):(0,No.jsx)("div",{className:"w-full px-3 py-2 rounded-lg bg-gray-100 text-gray-500 text-center",children:(0,No.jsx)("span",{className:"text-xs font-medium",children:"Assessment Not Available"})})]})})})},Qy=e=>{let{userId:t,isActive:n=!0,preloadedData:r=null}=e;const[i,o]=(0,s.useState)(10),[a,l]=(0,s.useState)(0),[c,u]=(0,s.useState)(null),{registerLoadingComponent:d,setComponentLoading:h}=Jg();(0,s.useEffect)((()=>{if(r)return void l(r.totalMinutes);const e="time-to-completion";if(d(e),!n||!t)return void h(e,!1);(async()=>{try{const e=await To(t);l(e.totalMinutes)}catch(n){u("Failed to load time estimation data"),console.error("Error fetching time estimation data:",n)}finally{h(e,!1)}})()}),[t,n,d,h,r]);const p=e=>{const t=Math.max(5,Math.min(60,i+e));o(t)},f=Math.ceil(a/i);return c?(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,No.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:(0,No.jsx)("div",{className:"text-red-500 text-center",children:c})})}):(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,No.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[(0,No.jsx)("div",{className:"px-4 pt-4",children:(0,No.jsx)("h3",{className:"text-base font-semibold text-gray-700",children:"Time to Completion"})}),(0,No.jsx)("div",{className:"p-3",children:(0,No.jsxs)("div",{className:"space-y-3",children:[(0,No.jsxs)("div",{children:[(0,No.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[(0,No.jsx)(_y,{className:"text-base"}),(0,No.jsx)("span",{className:"text-sm font-medium",children:"Daily Practice Goal"})]}),(0,No.jsxs)("div",{className:"flex items-center gap-3 bg-gray-50 p-2 rounded-lg",children:[(0,No.jsx)("button",{onClick:()=>p(-5),className:"p-1 rounded-full bg-white text-gray-600 hover:bg-gray-100 border border-gray-200",children:(0,No.jsx)(Py,{size:12})}),(0,No.jsxs)("span",{className:"flex-1 text-center font-bold text-gray-700",children:[i," min"]}),(0,No.jsx)("button",{onClick:()=>p(5),className:"p-1 rounded-full bg-white text-gray-600 hover:bg-gray-100 border border-gray-200",children:(0,No.jsx)(Iy,{size:12})})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[(0,No.jsx)(by,{className:"text-base"}),(0,No.jsx)("span",{className:"text-sm font-medium",children:"Estimated Completion"})]}),(0,No.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsxs)("div",{className:"text-lg font-bold text-blue-700 mb-1",children:[f," days"]}),(0,No.jsxs)("div",{className:"text-xs text-gray-500",children:["at ",i," minutes per day"]})]})})]})]})}),(0,No.jsx)("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100",children:(0,No.jsxs)("div",{className:"flex items-center justify-between",children:[(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)(_y,{className:"text-blue-600 text-sm"}),(0,No.jsx)("span",{className:"text-xs font-medium text-gray-600",children:"Total Practice Time"})]}),(0,No.jsxs)("span",{className:"text-xs font-bold text-gray-700",children:[Math.floor(a/60)>0?`${Math.floor(a/60)}h `:"",a%60,"m"]})]})})]})})};class Yy extends s.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Gy(e){let{children:t,isPresent:n}=e;const r=(0,s.useId)(),i=(0,s.useRef)(null),o=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,s.useContext)(Dm);return(0,s.useInsertionEffect)((()=>{const{width:e,height:t,top:s,left:l}=o.current;if(n||!i.current||!e||!t)return;i.current.dataset.motionPopId=r;const c=document.createElement("style");return a&&(c.nonce=a),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${s}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[n]),(0,No.jsx)(Yy,{isPresent:n,childRef:i,sizeRef:o,children:s.cloneElement(t,{ref:i})})}const Xy=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:l}=e;const c=ag(Jy),u=(0,s.useId)(),d=(0,s.useCallback)((e=>{c.set(e,!0);for(const t of c.values())if(!t)return;i&&i()}),[c,i]),h=(0,s.useMemo)((()=>({id:u,initial:n,isPresent:r,custom:o,onExitComplete:d,register:e=>(c.set(e,!1),()=>c.delete(e))})),a?[Math.random(),d]:[r,d]);return(0,s.useMemo)((()=>{c.forEach(((e,t)=>c.set(t,!1)))}),[r]),s.useEffect((()=>{!r&&!c.size&&i&&i()}),[r]),"popLayout"===l&&(t=(0,No.jsx)(Gy,{isPresent:r,children:t})),(0,No.jsx)(rf.Provider,{value:h,children:t})};function Jy(){return new Map}const Zy=e=>e.key||"";function ev(e){const t=[];return s.Children.forEach(e,(e=>{(0,s.isValidElement)(e)&&t.push(e)})),t}const tv=e=>{let{children:t,exitBeforeEnter:n,custom:r,initial:i=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:l="sync"}=e;su(!n,"Replace exitBeforeEnter with mode='wait'");const c=(0,s.useMemo)((()=>ev(t)),[t]),u=c.map(Zy),d=(0,s.useRef)(!0),h=(0,s.useRef)(c),p=ag((()=>new Map)),[f,m]=(0,s.useState)(c),[g,y]=(0,s.useState)(c);zm((()=>{d.current=!1,h.current=c;for(let e=0;e<g.length;e++){const t=Zy(g[e]);u.includes(t)?p.delete(t):!0!==p.get(t)&&p.set(t,!1)}}),[g,u.length,u.join("-")]);const v=[];if(c!==f){let e=[...c];for(let t=0;t<g.length;t++){const n=g[t],r=Zy(n);u.includes(r)||(e.splice(t,0,n),v.push(n))}return"wait"===l&&v.length&&(e=v),y(ev(e)),void m(c)}const{forceRender:x}=(0,s.useContext)(sf);return(0,No.jsx)(No.Fragment,{children:g.map((e=>{const t=Zy(e),n=c===g||u.includes(t);return(0,No.jsx)(Xy,{isPresent:n,initial:!(d.current&&!i)&&void 0,custom:n?void 0:r,presenceAffectsLayout:a,mode:l,onExitComplete:n?void 0:()=>{if(!p.has(t))return;p.set(t,!0);let e=!0;p.forEach((t=>{t||(e=!1)})),e&&(null===x||void 0===x||x(),y(h.current),o&&o())},children:e},t)}))})},nv=e=>{let{trackName:t,onContinue:n,currentTrackId:r,triggerType:i}=e;const{user:o}=Mo(),[a,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),d="facts_mastered"===i?{title:"Track Completed! \ud83c\udf89",message:`Congratulations! You've mastered all the facts in ${t}. Keep up the great work!`}:{title:"Target Speed Achieved! \ud83d\ude80",message:`Amazing! You've achieved the target speed for ${t}. You're ready for the next challenge!`};return(0,No.jsx)(tv,{children:(0,No.jsx)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,No.jsx)(Wg.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full",style:{width:"inherit"},children:(0,No.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-6 text-center",children:[(0,No.jsx)(Wg.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:(0,No.jsx)(my,{className:"text-emerald-500 w-12 h-12 mx-auto mb-4"})}),(0,No.jsx)(Wg.h3,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-xl font-semibold text-emerald-900 mb-2",children:d.title}),(0,No.jsx)(Wg.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-base text-emerald-700 mb-4",children:d.message}),c&&(0,No.jsx)(Wg.p,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 mb-3 text-sm",children:c}),(0,No.jsxs)("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3 justify-center",children:[(0,No.jsx)(Wg.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},whileHover:{scale:a?1:1.02},whileTap:{scale:a?1:.98},onClick:async()=>{if(null!==o&&void 0!==o&&o.userId)try{l(!0),u(null);const e=await Eo(o.userId);e.success?window.location.href="/":u(e.message||"Failed to unlock next track. Please try again.")}catch(e){console.error("Error unlocking next track:",e),u("An error occurred. Please try again later.")}finally{l(!1)}else u("User not found. Please try again later.")},disabled:a,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300 "+(a?"opacity-70 cursor-not-allowed":""),children:a?(0,No.jsxs)("span",{className:"flex items-center justify-center",children:[(0,No.jsx)("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Unlocking..."]}):"Unlock Next Track"}),"facts_mastered"===i&&(0,No.jsx)(Wg.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-white border border-emerald-300 text-emerald-600 rounded-lg font-bold text-base shadow-sm hover:shadow-md transition-all duration-300",onClick:n,children:"Take Speed Assessment"})]})]})})})})},rv={ALL:"All Tracks",TRACK1:"Addition Facts",TRACK2:"Subtraction Facts",TRACK3:"Multiplication Facts",TRACK4:"Division Facts",TRACK5:"Division Facts (Up to 12)",TRACK6:"Addition Facts (Sums up to 20)",TRACK7:"Multiplication Facts (Factors up to 12)",TRACK8:"Subtraction Facts (Up to 20)",TRACK9:"Addition (Single-Digit)",TRACK10:"Subtraction (Single-Digit)",TRACK11:"Multiplication (Single-digit)",TRACK12:"Addition Within 10 (Sums up to 10)"},sv=["TRACK12","TRACK9","TRACK10","TRACK6","TRACK8","TRACK11","TRACK7","TRACK5"],iv={TRACK1:99,TRACK2:96,TRACK3:84,TRACK4:88,TRACK5:144,TRACK6:231,TRACK7:169,TRACK8:231,TRACK9:100,TRACK10:165,TRACK11:100,TRACK12:66},ov={0:30,1:30,2:30,3:30,4:35,5:40,6:40,7:40,8:40,9:40,10:40,11:40,12:40},av={0:2,1:2,2:2,3:2,4:1.5,5:1.5,6:1.5,7:1.5,8:1.5,9:1.5,10:1.5,11:1.5,12:1.5},lv=e=>{let{expandedTrackId:t,userProgress:n=[],isLoading:r=!1,setDailyGoalsData:i}=e;const{user:o}=Mo(),[a,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[m,g]=(0,s.useState)(0);(0,s.useEffect)((()=>{const e=()=>{const e=new Date,t=e.getHours(),n=e.getMinutes();if(23===t&&n>=50){g(60-n),f(!0)}else f(!1)};e();const t=setInterval(e,6e4);return()=>clearInterval(t)}),[]),(0,s.useEffect)((()=>{const e=(new Date).toLocaleDateString("en-CA");for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith("celebration_")&&!n.includes(e)&&localStorage.removeItem(n)}}),[]),(0,s.useEffect)((()=>{if(!t||r)return;(async()=>{try{h(!0),console.log(`[DailyGoals] Fetching goals for track: ${t}`);const e=await(async e=>{try{console.log(`[API] Fetching daily goals for track: ${e}`);const t=localStorage.getItem("token"),n=t?ze(t):null,r=null===n||void 0===n?void 0:n.userId;if(!r)throw new Error("User ID not found in token");const s=Intl.DateTimeFormat().resolvedOptions().timeZone,i=(new Date).toLocaleDateString("en-CA"),o=await rr.get(`${po}/dailyGoals/${e}`,{params:{userId:r},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json","X-User-Timezone":s,"X-User-Date":i}});if(console.log("[API] Daily goals response:",o.data),!o.data)throw new Error("No daily goals data received");return o.data}catch(i){var t,n;const o=localStorage.getItem("token"),a=o?null===(t=ze(o))||void 0===t?void 0:t.userId:void 0;var r,s;return i instanceof ir&&404===(null===(n=i.response)||void 0===n?void 0:n.status)?console.log(`[API] No daily goals found for track ${e} (404) - This is expected for new tracks`):ho(i,{component:"API-getDailyGoals",trackId:e,userId:a,errorMsg:i instanceof Error?i.message:"Unknown error",responseData:i instanceof ir?JSON.stringify((null===(r=i.response)||void 0===r?void 0:r.data)||{}):void 0,status:i instanceof ir?null===(s=i.response)||void 0===s?void 0:s.status:void 0}),{date:(new Date).toISOString().split("T")[0],trackId:e,goals:{},allCompleted:!1}}})(t);if(console.log("[DailyGoals] Received goals data:",e),e&&"object"===typeof e){const n="success"in e&&e.data?e.data:e;if(u(n),i&&i(n),n.allCompleted){const e=`celebration_${(new Date).toLocaleDateString("en-CA")}_${t}`;if(!localStorage.getItem(e)&&!r){const t=setTimeout((()=>{l(!0),localStorage.setItem(e,"true")}),800);return()=>clearTimeout(t)}}}else console.error("[DailyGoals] Invalid goals data format:",e),ho(new Error("Invalid goals data format"),{component:"DailyGoals",trackId:t})}catch(e){console.error("[DailyGoals] Failed to fetch daily goals:",e),ho(e,{component:"DailyGoals",trackId:t})}finally{h(!1)}})()}),[t,n,r,i]),(0,s.useEffect)((()=>{if(a){const e=setTimeout((()=>{l(!1)}),6e3);return()=>clearTimeout(e)}}),[a]);const y=c?[...c.goals.learning?[{title:`Learn ${c.goals.learning.total} new facts`,completed:c.goals.learning.completed,total:c.goals.learning.total,type:"learning"}]:[],...c.goals.accuracy?[{title:`Prove 100% accuracy in ${c.goals.accuracy.total} facts`,completed:c.goals.accuracy.completed,total:c.goals.accuracy.total,type:"accuracy"}]:[],...c.goals.fluency?[{title:`Prove 100% fluency in ${c.goals.fluency.total} facts`,completed:c.goals.fluency.completed,total:c.goals.fluency.total,type:"fluency"}]:[],...c.goals.assessment?[{title:`Complete ${c.goals.assessment.total} assessment${c.goals.assessment.total>1?"s":""}`,completed:c.goals.assessment.completed,total:c.goals.assessment.total,type:"assessment"}]:[]]:[];if(0===y.length&&!d)return null;const v=(null===c||void 0===c?void 0:c.allCompleted)||!1;return(0,No.jsxs)("div",{className:"px-1",children:[(0,No.jsx)("div",{className:"p-4",children:(0,No.jsxs)("h2",{className:"text-lg font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,No.jsx)(Ly,{className:"text-green-500"}),"Today's Goals"]})}),p&&(0,No.jsx)("div",{className:"mx-2 mb-3",children:(0,No.jsx)(Wg.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-orange-50 border border-orange-200 rounded-lg px-3 py-2",children:(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)(hy,{className:"text-orange-500 text-sm flex-shrink-0"}),(0,No.jsxs)("p",{className:"text-xs text-orange-700",children:[(0,No.jsx)("span",{className:"font-medium",children:"Heads up!"})," Daily goals reset in ",m," minute",1!==m?"s":""," (midnight local time). Complete your goals now to earn today's star!"]})]})})}),(0,No.jsx)("nav",{className:"px-2 space-y-1 mb-2",children:d?(0,No.jsx)("div",{className:"w-full text-center p-3",children:(0,No.jsx)("span",{className:"text-sm text-gray-500",children:"Loading goals..."})}):y.map(((e,t)=>{const n=e.completed===e.total;return(0,No.jsx)("div",{className:"w-full text-left p-3 rounded-lg transition-all duration-300 "+(n?"bg-gray-50":""),style:{cursor:"default"},children:(0,No.jsxs)("div",{className:"font-medium flex items-center justify-between",children:[(0,No.jsx)("span",{className:"text-sm "+(n?"text-gray-400 line-through":"text-gray-700"),children:e.title}),(0,No.jsx)("div",{className:"flex items-center gap-1",children:Array(e.total).fill(0).map(((t,n)=>(0,No.jsx)("div",{className:"w-3 h-3 rounded-full "+(n<e.completed?"bg-green-500":"bg-gray-200")},n)))})]})},t)}))}),(0,No.jsx)("div",{className:"mx-2 my-3",children:v?(0,No.jsx)(Wg.div,{initial:{opacity:.8,y:5},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg px-3 py-2",children:(0,No.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,No.jsx)(Wg.div,{animate:{rotate:[0,10,-10,10,0],scale:[1,1.1,1,1.1,1]},transition:{duration:2,repeat:1/0},children:(0,No.jsx)(Dy,{className:"text-yellow-400 text-lg"})}),(0,No.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Congratulations, you completed a star session!"})]})}):(0,No.jsx)("p",{className:"text-xs text-gray-500 italic text-center",children:"Complete all to win a star session!"})}),(0,No.jsx)(tv,{children:a&&!r&&(0,No.jsxs)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:[(0,No.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,No.jsxs)(Wg.div,{initial:{scale:.5,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:10,opacity:0},transition:{type:"spring",stiffness:300,damping:15},className:"z-10 bg-white rounded-2xl shadow-2xl border-4 border-green-500 p-8 max-w-md w-full mx-4",children:[(0,No.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,No.jsxs)(Wg.div,{animate:{rotate:[0,15,-15,15,0],scale:[1,1.1,1,1.1,1]},transition:{duration:3,repeat:1/0},className:"relative mb-6",children:[(0,No.jsx)("div",{className:"absolute inset-0 rounded-full bg-yellow-300 filter blur-xl opacity-50 scale-150"}),(0,No.jsx)(Dy,{className:"text-yellow-400 text-8xl relative z-10"})]}),(0,No.jsx)(Wg.h2,{className:"text-3xl font-bold mb-3 text-center bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #10b981, #3b82f6, #ec4899, #10b981)",backgroundSize:"300% 100%"},animate:{backgroundPosition:["0% 0%","100% 0%","0% 0%"]},transition:{duration:5,repeat:1/0},children:"Congratulations!"}),(0,No.jsx)("p",{className:"text-gray-700 text-xl text-center font-medium mb-4",children:"You've completed all of today's goals!"}),(0,No.jsx)("p",{className:"text-gray-500 text-sm text-center",children:"Keep up the great work to maintain your learning streak!"})]}),(0,No.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:100}).map(((e,t)=>(0,No.jsx)(Wg.div,{className:"absolute",style:{top:"-5%",left:100*Math.random()+"%",width:8*Math.random()+4+"px",height:8*Math.random()+4+"px",backgroundColor:["#10b981","#3b82f6","#ec4899","#f59e0b","#8b5cf6","#f43f5e","#fbbf24"][t%7],borderRadius:Math.random()>.5?"50%":"0",rotate:360*Math.random()+"deg"},animate:{y:["0vh","120vh"],x:[0,100*Math.random()-50],rotate:["0deg",360*Math.random()*(Math.random()>.5?1:-1)+"deg"]},transition:{duration:3+5*Math.random(),ease:"easeOut",delay:.5*Math.random()}},t)))})]})]})})]})},cv=e=>{let{trackName:t,onContinue:n,isAllTracks:r=!1}=e;return(0,No.jsx)(tv,{children:(0,No.jsx)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,No.jsx)(Wg.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full",style:{width:"inherit"},children:(0,No.jsxs)("div",{className:(r?"bg-gradient-to-br from-yellow-50 to-orange-50 border border-yellow-200":"bg-emerald-50 border border-emerald-200")+" rounded-lg p-6 text-center",children:[(0,No.jsx)(Wg.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:r?(0,No.jsx)(Dy,{className:"text-yellow-500 w-12 h-12 mx-auto mb-4"}):(0,No.jsx)(my,{className:"text-emerald-500 w-12 h-12 mx-auto mb-4"})}),(0,No.jsx)(Wg.h3,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:`text-xl font-semibold ${r?"text-yellow-900":"text-emerald-900"} mb-2`,children:r?"Congratulations! \ud83c\udf1f":"Ready to Practice! \ud83c\udf89"}),(0,No.jsx)(Wg.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:`text-base ${r?"text-yellow-700":"text-emerald-700"} mb-4`,children:r?"Amazing work! You've mastered all math fact tracks and now have access to practice any track you want!":`Great! Let's start practicing math facts for ${t}`}),(0,No.jsx)(Wg.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-6 py-3 ${r?"bg-gradient-to-r from-yellow-500 to-orange-600":"bg-gradient-to-r from-emerald-500 to-green-600"} text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300`,onClick:n,children:"Continue"})]})})})})},uv=e=>{let{loadingComponentsCount:t}=e;return(0,No.jsxs)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),(0,No.jsx)("p",{className:"text-lg text-gray-600",children:"Loading..."})]})},dv=()=>{const{user:e}=Mo(),{recordPageTransition:t}=Oo(),[n,r]=(0,s.useState)([]),[i,o]=(0,s.useState)((()=>{if(null!==e&&void 0!==e&&e.focusTrack&&"ALL"!==e.focusTrack&&Object.keys(rv).includes(e.focusTrack))return e.focusTrack;const t=sessionStorage.getItem("activeTrackId");if(t&&Object.keys(rv).includes(t))return t;if(void 0!==(null===e||void 0===e?void 0:e.ageGrade))switch(e.ageGrade){case 0:case 1:return"TRACK12";case 2:return"TRACK9";case 3:return"TRACK11";default:return"TRACK5"}return"TRACK5"})),[a,l]=(0,s.useState)(null),[c,u]=(0,s.useState)({}),[d,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[m,g]=(0,s.useState)(null),[y,v]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1),[w,S]=(0,s.useState)(!1),[k,_]=(0,s.useState)("facts_mastered"),j=re(),T=te(),{isLoading:C,registerLoadingComponent:E,setComponentLoading:N,loadingComponentsCount:A}=Jg(),[P,M]=(0,s.useState)(null),[I,R]=(0,s.useState)(null),[O,D]=(0,s.useState)(null),L=()=>{f(!1),b(!1)},F=()=>{b(!0),f(!0)},z=(0,s.useCallback)((()=>{if(null===e||void 0===e||!e.userId||null===e||void 0===e||!e.focusTrack)return;const t=`focusTrackAlert_${e.userId}`;localStorage.getItem(t)||S(!0)}),[null===e||void 0===e?void 0:e.userId,null===e||void 0===e?void 0:e.focusTrack]);(0,s.useEffect)((()=>{const t="dashboard-main";E(t),i&&(console.log(`[Dashboard] Setting activeTrackId in sessionStorage: ${i}`),sessionStorage.setItem("activeTrackId",i));(async()=>{if(null!==e&&void 0!==e&&e.userId){if(!e.focusTrack)return console.log("[Dashboard] User has no focus track, redirecting to onboarding"),void j("/onboarding");z();try{var n;if(null!==(n=T.state)&&void 0!==n&&n.preserveTrackId){const e=T.state.preserveTrackId;console.log(`[Dashboard] Preserving track ID from navigation: ${e}`),sessionStorage.setItem("activeTrackId",e),e!==i&&o(e),j(T.pathname,{replace:!0,state:{...T.state,preserveTrackId:void 0}})}const t=await go(e.userId);r(t.tracks);const s=await(async e=>{try{var t;const n=await fo.get(`/progressAssessment/${e}/assessments`);if(null===(t=n.data)||void 0===t||!t.success)throw new Error("Failed to fetch user assessments");return n.data.assessments}catch(a){throw a instanceof Error?a:new Error("Failed to fetch user assessments")}})(e.userId),l=s.filter((e=>e.trackId===i));h(l.some((e=>"completed"===e.status)));const c=sessionStorage.getItem("activeTrackId");c&&Object.keys(rv).includes(c)&&o(c)}catch(c){var s;c instanceof ir&&404===(null===(s=c.response)||void 0===s?void 0:s.status)||(console.error("Error fetching data:",c),l("Failed to load data. Please try again later."))}finally{N(t,!1)}}else N(t,!1)})()}),[null===e||void 0===e?void 0:e.userId,i,j,E,N,T.key,T.state,z]),(0,s.useEffect)((()=>{(async()=>{if(null!==e&&void 0!==e&&e.userId)try{v(!0);const t=await vo(e.userId,"learn");g(t)}catch(t){console.error("Error fetching session data:",t)}finally{v(!1)}})()}),[i,null===e||void 0===e?void 0:e.userId,T.key]),(0,s.useEffect)((()=>{i?"ALL"===(null===e||void 0===e?void 0:e.focusTrack)?f(!1):H(i)?(_("facts_mastered"),f(!0)):x?(_("cqpm_achieved"),f(!0)):f(!1):f(!1)}),[i,c,x,null===e||void 0===e?void 0:e.focusTrack]);const $=async()=>{try{var t,n;if(!m||y){console.log("[Dashboard] Session data not loaded yet, fetching before starting..."),v(!0);try{if(null!==e&&void 0!==e&&e.userId){var r,s,i,o,c;const t=await vo(e.userId,"learn");if(g(t),console.log("[Dashboard] Session data loaded on demand:","fluencyAssessment:",t.fluencyAssessment,"availableActivities:",(null===(r=t.availableActivities)||void 0===r||null===(s=r.learn)||void 0===s||null===(i=s.facts)||void 0===i?void 0:i.length)||0),null!==t&&void 0!==t&&null!==(o=t.availableActivities)&&void 0!==o&&null!==(c=o.learn)&&void 0!==c&&c.facts&&t.availableActivities.learn.facts.length>0)return void j("/learn",{state:{facts:t.availableActivities.learn.facts}});l("No learning activities available at this time.")}else l("User not logged in. Please log in again.")}catch(u){console.error("Error fetching session data on demand:",u),l("Failed to load activities. Please try again.")}finally{v(!1)}return}null!==m&&void 0!==m&&null!==(t=m.availableActivities)&&void 0!==t&&null!==(n=t.learn)&&void 0!==n&&n.facts&&m.availableActivities.learn.facts.length>0?j("/learn",{state:{facts:m.availableActivities.learn.facts}}):l("No learning activities available at this time.")}catch(a){console.error("Error in handleStartClick:",a),l("Failed to load facts. Please try again.")}},B=(0,s.useCallback)((e=>{i&&u((t=>({...t,[i]:e})))}),[i]),U=()=>{j("/assessment",{state:{assessmentType:"placement"}})},W=()=>{j("/progress-assessment",{state:{returnTo:"dashboard"}})},H=e=>{const{totalFacts:t,masteredFacts:n}=(e=>({totalFacts:iv[e]||0,masteredFacts:c[e]||0}))(e);return n===t&&t>0},V=()=>null!==e&&void 0!==e&&e.ageGrade&&ov[e.ageGrade]||30,q=(0,s.useCallback)((async()=>{if(null===e||void 0===e||!e.userId)return;const t="progress-and-time-data";E(t),N(t,!0);try{const[t,n]=await Promise.all([_o(e.userId),To(e.userId)]);M(t),R(n)}catch(n){console.error("Error fetching progress and time data:",n)}finally{N(t,!1)}}),[null===e||void 0===e?void 0:e.userId,E,N,T.key]);(0,s.useEffect)((()=>{i&&q()}),[i,q,T.key]),(0,s.useEffect)((()=>{null!==e&&void 0!==e&&e.focusTrack&&"ALL"!==e.focusTrack&&Object.keys(rv).includes(e.focusTrack)&&(o(e.focusTrack),sessionStorage.setItem("activeTrackId",e.focusTrack))}),[null===e||void 0===e?void 0:e.focusTrack]);const K=()=>{if(null===m||void 0===m||!m.progressAssessment)return{available:!1,message:"No assessments available at this time."};const e=null===O||void 0===O?void 0:O.allCompleted,t=(null===O||void 0===O?void 0:O.goals)&&0===Object.keys(O.goals).length,n=0===(null===m||void 0===m?void 0:m.dailyAssessmentCount);return e||t?{available:!0,message:"You can take unlimited assessments! Your daily goals are complete."}:n?{available:!0,message:"Take your free daily assessment! Complete goals for unlimited access."}:{available:!1,message:"Complete your daily goals to unlock more attempts, or try again tomorrow."}};return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[(0,No.jsx)(tv,{children:C&&(0,No.jsx)(uv,{loadingComponentsCount:A})}),w&&(0,No.jsx)(cv,{trackName:"ALL"===(null===e||void 0===e?void 0:e.focusTrack)?null:i?rv[i]:null,onContinue:()=>{null!==e&&void 0!==e&&e.userId&&localStorage.setItem(`focusTrackAlert_${e.userId}`,"true"),S(!1)},isAllTracks:"ALL"===(null===e||void 0===e?void 0:e.focusTrack)}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"h-16 px-4 flex items-center justify-center border-b bg-white/50 backdrop-blur-sm",children:(0,No.jsxs)("h1",{className:"text-4xl font-bold animate-fade-in flex items-center gap-3",children:[(0,No.jsx)(Hg,{size:36}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Fast Math"})]})}),(0,No.jsxs)("div",{className:"flex h-[calc(100vh-4rem)]",children:[(0,No.jsxs)(Wg.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"w-64 border-r bg-white/50 backdrop-blur-sm overflow-y-auto",children:[(0,No.jsx)(lv,{expandedTrackId:i,userProgress:n,isLoading:C,setDailyGoalsData:D}),(!(null!==e&&void 0!==e&&e.focusTrack)||"ALL"===e.focusTrack)&&(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("div",{className:"border-t"}),(0,No.jsx)("div",{className:"p-4",children:(0,No.jsxs)("h2",{className:"text-lg font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,No.jsx)(xy,{className:"text-blue-500"}),"Learning Tracks"]})}),(0,No.jsx)("nav",{className:"px-2 space-y-1",children:Object.entries(rv).filter((e=>{let[t]=e;return["TRACK5","TRACK6","TRACK7","TRACK8"].includes(t)})).map((t=>{let[n,r]=t;const s=i===n,a=(t=>!(null===e||void 0===e||!e.focusTrack||"ALL"===e.focusTrack)&&e.focusTrack!==t)(n);return(0,No.jsx)(Wg.button,{whileHover:{scale:a?1:1.02},whileTap:{scale:a?1:.98},onClick:()=>{a||(o(s?null:n),sessionStorage.setItem("activeTrackId",n))},className:`w-full text-left p-3 rounded-lg transition-all duration-300\n                        ${s?"bg-blue-50 text-blue-600 shadow-sm":"hover:bg-gray-50"}\n                        ${a?"opacity-60 cursor-not-allowed":""}`,title:a?"This track is locked.":"",children:(0,No.jsxs)("div",{className:"font-medium flex items-center justify-between",children:[(0,No.jsx)("span",{children:r}),a&&(0,No.jsx)(Ay,{className:"text-gray-500",size:16})]})},n)}))})]})]}),(0,No.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,No.jsx)("div",{className:"h-full flex items-start",children:(0,No.jsx)(tv,{mode:"wait",children:i?(0,No.jsxs)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"w-full max-w-4xl mx-auto p-4 md:p-6",children:[a&&(0,No.jsxs)(Wg.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg flex items-center justify-between",children:[(0,No.jsx)("span",{children:a}),(0,No.jsx)("button",{onClick:()=>l(null),className:"ml-2 text-red-800 hover:text-red-900 p-1 rounded-full hover:bg-red-100 transition-colors",children:"\xd7"})]}),(()=>{var t;return"placement"===(t=i,n.find((e=>e.trackId===t))?null:"placement")?(0,No.jsx)(qy,{type:"placement",trackName:rv[i]}):H(i)?(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("div",{className:"w-[230px] mx-auto",children:(0,No.jsxs)("div",{className:"space-y-4",children:[!(P&&null!==P.currentCQPM&&P.currentCQPM>0&&V()&&P.currentCQPM>=V())&&(0,No.jsx)(Qy,{userId:(null===e||void 0===e?void 0:e.userId)||"",isActive:!0,preloadedData:I}),(0,No.jsx)(Ky,{userId:(null===e||void 0===e?void 0:e.userId)||"",targetCQPM:V(),onProgressAssessment:W,isActive:d,preloadedData:P,showRetakeButton:!(null===m||void 0===m||!m.progressAssessment||!(null!==O&&void 0!==O&&O.allCompleted||null!==O&&void 0!==O&&O.goals&&0===Object.keys(O.goals).length)),onTargetAchieved:F,assessmentAvailable:K().available,assessmentMessage:K().message})]})}),p&&(0,No.jsx)(nv,{trackName:rv[i],onContinue:L,currentTrackId:i,triggerType:k})]}):(0,No.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,No.jsx)("div",{className:"flex-1",children:(0,No.jsxs)("div",{className:"space-y-6",children:[(0,No.jsx)(Zg,{onStartClick:$,onMasteredFactsCount:B,trackId:i,targetFluency:null!==e&&void 0!==e&&e.ageGrade&&av[e.ageGrade]||1.5}),(0,No.jsx)("div",{className:"flex gap-4",children:((e,t,n,r,s,i)=>{const o=null===m||void 0===m?void 0:m.fluencyAssessment,a=!!(null!==m&&void 0!==m&&null!==(e=m.availableActivities)&&void 0!==e&&null!==(t=e.learn)&&void 0!==t&&t.facts&&m.availableActivities.learn.facts.length>0),l=(null===O||void 0===O||null===(n=O.goals)||void 0===n?void 0:n.learning)&&O.goals.learning.completed<O.goals.learning.total||(null===O||void 0===O||null===(r=O.goals)||void 0===r?void 0:r.accuracy)&&O.goals.accuracy.completed<O.goals.accuracy.total||(null===O||void 0===O||null===(s=O.goals)||void 0===s?void 0:s.fluency)&&O.goals.fluency.completed<O.goals.fluency.total,c=void 0!==(null===O||void 0===O||null===(i=O.goals)||void 0===i?void 0:i.assessment)&&O.goals.assessment.completed<O.goals.assessment.total;return!l&&(c||o||!a)?(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:U,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg shadow-md transition-all duration-300 bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:shadow-lg cursor-pointer",children:[(0,No.jsx)(Hy,{className:"text-white",size:20}),(0,No.jsx)("span",{className:"font-medium",children:"Start Next Assessment"})]}):(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a?$:()=>j("/accuracy-practice"),disabled:y,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:[y?(0,No.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,No.jsx)(My,{className:"text-white",size:20}),(0,No.jsx)("span",{className:"font-medium",children:y?"Loading...":"Start"})]})})()})]})}),(0,No.jsx)("div",{className:"w-full lg:w-[230px]",children:y?(0,No.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md animate-pulse",children:[(0,No.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),(0,No.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full mb-3"}),(0,No.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6 mb-3"}),(0,No.jsx)("div",{className:"h-10 bg-gray-200 rounded w-full mt-4"})]}):(0,No.jsxs)("div",{className:"space-y-4",children:[!(P&&null!==P.currentCQPM&&P.currentCQPM>0&&V()&&P.currentCQPM>=V())&&(0,No.jsx)(Qy,{userId:(null===e||void 0===e?void 0:e.userId)||"",isActive:!0,preloadedData:I}),(0,No.jsx)(Ky,{userId:(null===e||void 0===e?void 0:e.userId)||"",targetCQPM:V(),onProgressAssessment:W,isActive:d,preloadedData:P,showRetakeButton:!(null===m||void 0===m||!m.progressAssessment||!(null!==O&&void 0!==O&&O.allCompleted||null!==O&&void 0!==O&&O.goals&&0===Object.keys(O.goals).length)),onTargetAchieved:F,assessmentAvailable:K().available,assessmentMessage:K().message})]})})]})})(),p&&(0,No.jsx)(nv,{trackName:rv[i],onContinue:L,currentTrackId:i,triggerType:k})]},i):(0,No.jsxs)(Wg.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full h-full flex flex-col items-center justify-center text-gray-500 gap-4",children:[(0,No.jsx)(xy,{size:48,className:"text-gray-400"}),(0,No.jsx)("p",{className:"text-lg",children:"Select a track to view progress"})]})})})})]})]})},hv=()=>(0,No.jsx)(Xg,{children:(0,No.jsx)(dv,{})});function pv(e){let{onBack:t,className:n="",fixed:r=!0,size:s=24}=e;const i=r?"fixed top-6 left-6":"";return(0,No.jsx)(Wg.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:t,className:`p-2 rounded-full hover:bg-blue-50 transition-colors ${i} ${n}`,"aria-label":"Go back",children:(0,No.jsx)(py,{className:"text-blue-600",size:s})})}function fv(){var e;const{user:t}=Mo(),{recordPageTransition:n}=Oo(),r=te(),i=re(),[o,a]=(0,s.useState)(0),l=(null===(e=r.state)||void 0===e?void 0:e.facts)||[],[c,u]=(0,s.useState)("teach"),d=(0,s.useRef)(null),[h,p]=(0,s.useState)(""),[f,m]=(0,s.useState)(null);(0,s.useEffect)((()=>{if(l.length>0){const e=l.map((e=>e.factId));n("learn",{learning:e})}else n("learn")}),[l,n]);(0,s.useEffect)((()=>{"practice"===c&&d.current&&d.current.focus()}),[c]);const g=l[o],y=e=>{switch(e){case"addition":return"+";case"subtraction":return"\u2212";case"multiplication":return"\xd7";case"division":return"\xf7"}},v=()=>{if(!h||isNaN(parseInt(h,10)))return void m(!1);const e=parseInt(h,10)===g.result;m(e)},x=()=>{o<l.length-1?(a(o+1),u("teach"),p(""),m(null)):i("/practice",{state:{facts:l}})};(0,s.useEffect)((()=>{const e=e=>{"Enter"===e.key&&(e.preventDefault(),"teach"===c?u("practice"):null===f?v():f?x():(m(null),p("")))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[c,f,v,x]);const b=e=>{if(p(e),e.length===(t=g.result,Math.abs(t).toString().length)){const t=parseInt(e,10)===g.result;m(t),t&&setTimeout((()=>{x()}),500)}var t};return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:[(0,No.jsx)(pv,{onBack:()=>i("/")}),(0,No.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,No.jsxs)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:[(0,No.jsx)(Hy,{className:"text-yellow-400",size:32}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Learn Math Facts"})]}),(0,No.jsxs)("div",{className:"flex gap-6",children:[(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex-1 space-y-6 p-6 bg-white rounded-lg shadow-md",children:"teach"===c?(0,No.jsxs)("div",{className:"text-center space-y-6",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Let's learn this fact:"}),(0,No.jsxs)("div",{className:"text-4xl font-bold text-gray-900 py-8",children:[g.operand1," ",y(g.operation)," ",g.operand2," = ",g.result]}),(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:()=>u("practice"),translate:"no",className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300",children:"I understand, let me try!"})]}):(0,No.jsxs)("div",{className:"text-center space-y-6",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"What is:"}),(0,No.jsxs)("div",{className:"text-4xl font-bold text-gray-900 py-8",children:[g.operand1," ",y(g.operation)," ",g.operand2," =",(0,No.jsx)("input",{ref:d,type:"text",inputMode:"numeric",pattern:"\\d*",value:h,onChange:e=>b(e.target.value.replace(/\D/g,"")),className:"ml-4 w-32 text-center border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",autoFocus:!0})]}),null===f?(0,No.jsx)("div",{className:"h-12"}):f?(0,No.jsxs)("div",{className:"space-y-4",children:[(0,No.jsx)("div",{className:"text-xl font-bold text-green-500",children:"Correct! Well done!"}),(0,No.jsx)("div",{className:"h-1 w-full bg-gray-100 rounded overflow-hidden",children:(0,No.jsx)(Wg.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:.5,ease:"linear"},className:"h-full bg-green-500"})})]}):(0,No.jsxs)("div",{className:"space-y-4",children:[(0,No.jsx)("div",{className:"text-xl font-bold text-red-500",children:"Try again!"}),(0,No.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:()=>{m(null),p("")},className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300",children:"Try Again"}),(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:()=>{u("teach"),p(""),m(null)},className:"w-full px-6 py-3 text-blue-500 hover:text-blue-600 font-medium bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:"Show me again"})]})]})]})}),"practice"===c&&(0,No.jsx)(Wg.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-6 bg-white rounded-lg shadow-md",children:(0,No.jsx)(dc,{value:h,onChange:b,disabled:null!==f,showFeedback:null!==f,wasCorrect:!0===f})})]})]})]})}const mv=e=>{switch(e){case"addition":return"+";case"subtraction":return"\u2212";case"multiplication":return"\xd7";case"division":return"\xf7"}},gv=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{operand1:n,operand2:r,operation:s}=e;return t?`${r}-${n}-${s}`:`${n}-${r}-${s}`},yv=e=>{const t=e.PK.split("FACT#")[1];return e.operand1>e.operand2?`${t}i`:t},vv=e=>e.flatMap((e=>{const t=[];var n;return"addition"===(n=e.operation)||"multiplication"===n?t.push({...e,id:gv(e),correctAnswers:0},{...e,operand1:e.operand2,operand2:e.operand1,id:gv(e,!0),correctAnswers:0}):t.push({...e,id:gv(e),correctAnswers:0}),t})),xv=e=>{let{fact:t}=e;return(0,No.jsx)("div",{className:tc("w-20 h-12 rounded-lg border-2 flex items-center justify-center transition-colors duration-300",(n=t.correctAnswers,n>=2?"bg-green-100 border-green-500":1===n?"bg-yellow-100 border-yellow-500":n<0?"bg-red-100 border-red-400":"bg-white border-gray-200")),children:(0,No.jsxs)("span",{className:"text-sm font-medium",children:[t.operand1," ",mv(t.operation)," ",t.operand2]})});var n};function bv(){var e;const{user:t}=Mo(),n=te(),r=re(),i=(null===(e=n.state)||void 0===e?void 0:e.facts)||[],o=(0,s.useRef)(null),[a,l]=(sessionStorage.getItem("activeTrackId"),(0,s.useState)("")),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)(null),[p,f]=(0,s.useState)([]),[m,g]=(0,s.useState)(!1),[y,v]=(0,s.useState)(Date.now()),{factProgress:x,masteredQuestions:b,updateProgress:w,factAttempts:S}=((e,t)=>{const[n,r]=(0,s.useState)({}),[i,o]=(0,s.useState)({}),[a,l]=(0,s.useState)(new Set);return(0,s.useEffect)((()=>{const t={},n={};vv(e).forEach((e=>{const r=yv(e);t[r]={attempts:0,correct:0,timeSpent:0},n[e.id]=0})),r(t),o(n)}),[e]),{factAttempts:n,factProgress:i,masteredQuestions:a,updateProgress:async(e,s,c)=>{if(!t)return void console.error("Missing user ID");const u=yv(e),d=n[u]||{attempts:0,correct:0,timeSpent:0},h={attempts:d.attempts+1,correct:d.correct+(s?1:0),timeSpent:d.timeSpent+c};r((e=>({...e,[u]:{attempts:h.attempts,correct:h.correct,timeSpent:h.timeSpent}})));const p=((e,t)=>e+(t?1:-2))(i[e.id]||0,s);o((t=>({...t,[e.id]:p}))),p>=2?l((t=>new Set(t).add(e.id))):a.has(e.id)&&l((t=>{const n=new Set(t);return n.delete(e.id),n}))}}})(i,null===t||void 0===t?void 0:t.userId);(0,s.useEffect)((()=>{let e;return!0===c&&(e=setTimeout((()=>{_()}),500)),()=>clearTimeout(e)}),[c]);(0,s.useEffect)((()=>{const e=vv(i),t=Math.floor(Math.random()*e.length),n=e[t],r=e.filter(((e,n)=>n!==t));h(n),f(r)}),[]),(0,s.useEffect)((()=>{o.current&&o.current.focus()}),[d]);const k=e=>{if(l(e),d&&e.length===(t=d.result,Math.abs(t).toString().length)){if(!e||isNaN(parseInt(e,10)))return void u(!1);const t=parseInt(e,10)===d.result,n=Date.now()-y;u(t),w(d,t,n),t||g(!0)}var t},_=()=>{if(d){l(""),u(null),g(!1),v(Date.now()),b.has(d.id)||f((e=>[...e,d]));const e=(()=>{if(0===p.length){const e=vv(i).filter((e=>(x[e.id]||0)<2));if(0===e.length)return null;const t=Math.floor(Math.random()*e.length),n=e[t];return f(e.filter(((e,n)=>n!==t))),n}const e=Math.floor(Math.random()*p.length),t=p[e];return f((t=>t.filter(((t,n)=>n!==e)))),t})();e?h(e):0===p.length&&j()}},j=()=>{r("/timedpractice",{state:{facts:i}})};return d?(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:[(0,No.jsx)(pv,{onBack:()=>r("/learn",{state:{facts:i}})}),(0,No.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,No.jsxs)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:[(0,No.jsx)(Hy,{className:"text-yellow-400",size:32}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Practice Time!"})]}),(0,No.jsx)("div",{className:"flex flex-wrap justify-center gap-3 mb-8 max-w-[640px] mx-auto",children:vv(i).map((e=>(0,No.jsx)(xv,{fact:{...e,correctAnswers:x[e.id]||0}},e.id)))}),(0,No.jsxs)("div",{className:"flex gap-6",children:[(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex-1 p-6 bg-white rounded-lg shadow-md flex items-center",children:(0,No.jsxs)("div",{className:"w-full text-center",children:[(0,No.jsxs)("div",{className:"text-4xl font-bold text-gray-900",children:[d.operand1," ",mv(d.operation)," ",d.operand2," =",(0,No.jsx)("input",{ref:o,type:"text",inputMode:"numeric",pattern:"\\d*",value:a,onChange:e=>k(e.target.value.replace(/\D/g,"")),onKeyDown:e=>"Enter"===e.key&&(null===c?k(a):_()),className:"ml-4 w-32 text-center border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none bg-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none transition-all"})]}),null===c?(0,No.jsx)("div",{className:"h-12"}):(0,No.jsxs)("div",{className:"mt-8 space-y-4",children:[(0,No.jsx)("div",{className:"text-xl font-bold "+(c?"text-green-500":"text-red-500"),children:c?"Correct!":"Incorrect!"}),c&&(0,No.jsx)("div",{className:"h-1 w-full bg-gray-100 rounded overflow-hidden",children:(0,No.jsx)(Wg.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:.5,ease:"linear"},className:"h-full bg-green-500"})}),m&&(0,No.jsxs)("div",{className:"text-lg font-medium text-gray-700 py-4",children:["The correct fact is: ",d.operand1," ",mv(d.operation)," ",d.operand2," = ",d.result]}),!c&&(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:()=>{l(""),u(null),g(!1)},className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300",children:"Try Again"})]})]})}),(0,No.jsx)(Wg.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-6 bg-white rounded-lg shadow-md",children:(0,No.jsx)(dc,{value:a,onChange:k,disabled:m,showFeedback:null!==c,wasCorrect:!0===c})})]})]})]}):(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:(0,No.jsx)("div",{className:"text-center animate-pulse",children:"Loading..."})})}const wv=e=>{let{duration:t,onTimeout:n,onZoneChange:r,isActive:i=!0}=e;const[o,a]=(0,s.useState)(0),[l,c]=(0,s.useState)(!1),u=(0,s.useRef)(n),d=(0,s.useRef)(r),h=3*t;(0,s.useEffect)((()=>{c(!1),d.current&&d.current("green")}),[]),(0,s.useEffect)((()=>{u.current=n,d.current=r}),[n,r]);const p="\n    @keyframes shrinkBar {\n      0% {\n        transform: scaleX(1);\n      }\n      100% {\n        transform: scaleX(0);\n      }\n    }\n  ";return(0,s.useEffect)((()=>{const e=document.createElement("style");return e.innerText=p,document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[p]),(0,s.useEffect)((()=>{if(!i)return;c(!1),a((e=>e+1));let e=!0;const n=setTimeout((()=>{e&&(c(!0),d.current&&d.current("yellow"))}),1e3*t),r=setTimeout((()=>{e&&u.current()}),1e3*h);return()=>{e=!1,clearTimeout(n),clearTimeout(r)}}),[i,t,h]),(0,No.jsx)("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden opacity-60",children:(0,No.jsx)("div",{className:"h-full w-full origin-right "+(l?"bg-amber-400":"bg-emerald-400"),style:{animation:`shrinkBar ${h}s linear forwards`,transformOrigin:"right",animationPlayState:i?"running":"paused"}})},o)},Sv=e=>{switch(e){case"addition":return"+";case"subtraction":return"\u2212";case"multiplication":return"\xd7";case"division":return"\xf7"}},kv=e=>"addition"===e||"multiplication"===e,_v=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{operand1:n,operand2:r,operation:s}=e;return t?`${r}-${n}-${s}`:`${n}-${r}-${s}`},jv=e=>{const t=e.PK.split("FACT#")[1];return e.operand1>e.operand2?`${t}i`:t},Tv=e=>e>=3,Cv=(e,t)=>{const n=e+(t?1:-2);return Math.min(Math.max(n,-4),3)},Ev=e=>e.flatMap((e=>{const t=[];return kv(e.operation)?t.push({...e,id:_v(e),correctAnswers:0},{...e,operand1:e.operand2,operand2:e.operand1,id:_v(e,!0),correctAnswers:0}):t.push({...e,id:_v(e),correctAnswers:0}),t})),Nv=e=>{let{fact:t}=e;return(0,No.jsx)("div",{className:tc("w-20 h-12 rounded-lg border-2 flex items-center justify-center transition-colors duration-300",(n=t.correctAnswers,n>=3?"bg-green-100 border-green-500":2===n?"bg-green-50 border-green-300":1===n?"bg-yellow-100 border-yellow-500":0===n?"bg-white border-gray-200":"bg-red-100 border-red-400")),children:(0,No.jsxs)("span",{className:"text-sm font-medium",children:[t.operand1," ",Sv(t.operation)," ",t.operand2]})});var n};function Av(){var e;const{user:t}=Mo(),n=te(),r=re(),i=(null===(e=n.state)||void 0===e?void 0:e.facts)||[],o=(0,s.useRef)(null),[a,l]=(sessionStorage.getItem("activeTrackId"),(0,s.useState)("")),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)(null),[p,f]=(0,s.useState)([]),[m,g]=(0,s.useState)(new Set),[y,v]=(0,s.useState)(!1),[x,b]=(0,s.useState)(Date.now()),[w,S]=(0,s.useState)({}),[k,_]=(0,s.useState)({}),[j,T]=(0,s.useState)(0),[C,E]=((0,s.useRef)(!1),(0,s.useState)(!1)),[N,A]=(0,s.useState)(!1),[P,M]=(0,s.useState)(!0),[I,R]=(0,s.useState)("green");(0,s.useEffect)((()=>{const e=Ev(i),t=Math.floor(Math.random()*e.length),n=e[t],r=e.filter(((e,n)=>n!==t));h(n),f(r),M(!0)}),[]),(0,s.useEffect)((()=>{o.current&&o.current.focus()}),[d]);const O=async(e,n,r)=>{if(null===t||void 0===t||!t.userId||!d)return;const s=k[d.id]||0,i=Cv(s,n);_((n=>{const r={...n,[d.id]:i};if(3===i&&s<3){const n=e;(!kv(d.operation)||((e,t)=>{const n=_v(e,!1),r=_v({...e,operand1:e.operand2,operand2:e.operand1},!0),s=t[n]||0,i=t[r]||0;return s>=3&&i>=3})(d,r))&&setTimeout((async()=>{try{const e={facts:{[n]:{status:"accuracyPractice"}}};await mo(t.userId,e)}catch(e){console.error("Failed to update fact status to accuracyPractice:",e)}}),0)}return r}))},D=()=>{if(!Ev(i).every((e=>(k[e.id]||0)>=3))){const e=Ev(i).filter((e=>(k[e.id]||0)<3));f(e);const t=Math.floor(Math.random()*e.length),n={...e[t],correctAnswers:k[e[t].id]||0};return h(n),l(""),u(null),v(!1),E(!1),b(Date.now()),void T((e=>e+1))}r("/accuracy-practice",{state:{facts:i}})};(0,s.useEffect)((()=>{const e={},t={};Ev(i).forEach((n=>{const r=jv(n);e[r]={attempts:0,correct:0,timeSpent:0},t[n.id]=0})),S(e),_(t)}),[i]);const L=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!d)return;const r=d.PK.split("FACT#")[1],s=jv(d);S((n=>{var r,i,o;return{...n,[s]:{attempts:((null===(r=n[s])||void 0===r?void 0:r.attempts)||0)+1,correct:((null===(i=n[s])||void 0===i?void 0:i.correct)||0)+(e?1:0),timeSpent:((null===(o=n[s])||void 0===o?void 0:o.timeSpent)||0)+t}}}));const i=k[d.id]||0,o=Cv(i,e&&n);_((e=>({...e,[d.id]:o}))),setTimeout((()=>{O(r,e&&n)}),0)},F=()=>{if(0===p.length)return null;const e=Math.floor(Math.random()*p.length),t=p[e];return f((t=>t.filter(((t,n)=>n!==e)))),{...t,correctAnswers:k[t.id]||0}},z=()=>{l(""),u(null),v(!1),E(!1),b(Date.now()),T((e=>e+1)),setTimeout((()=>{o.current&&o.current.focus()}),0)};(0,s.useEffect)((()=>{const e=e=>{"Enter"===e.key&&!c&&y&&z()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[c,y]);const $=e=>{if(null===c&&!C&&(l(e),e.length===(null===d||void 0===d?void 0:d.result.toString().length))){const t=parseInt(e,10);if(!isNaN(t)&&null===c&&!C){const e=t===d.result;u(e);const n=Date.now()-x;L(e,n,"green"===I);const r=Cv(k[d.id]||0,e&&"green"===I);_((e=>({...e,[d.id]:r}))),e?(h((e=>({...e,correctAnswers:r}))),Tv(r)&&g((e=>new Set(e).add(d.id))),A(!0),setTimeout((()=>{const e=F();l(""),u(null),v(!1),E(!1),b(Date.now()),T((e=>e+1)),A(!1),R("green"),e?h(e):0===p.length&&D()}),300)):(h((e=>({...e,correctAnswers:r}))),m.has(d.id)&&g((e=>{const t=new Set(e);return t.delete(d.id),t})),v(!0),f((e=>[...e,d])))}}};return d?(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:[(0,No.jsx)(pv,{onBack:()=>r("/practice",{state:{facts:i}})}),(0,No.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[P&&(0,No.jsx)(wv,{duration:(B=k[(null===d||void 0===d?void 0:d.id)||""]||0,B<=0?6:1===B?4.5:B>=2?3:6),onTimeout:()=>{E(!0),u(!1),v(!0),d&&O(d.id,!1,Date.now())},onZoneChange:e=>R(e),isActive:null===c&&!y&&!C},j),(0,No.jsxs)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:[(0,No.jsx)(Hy,{className:"text-yellow-400",size:32}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Practice Time!"})]}),(0,No.jsx)("div",{className:"flex flex-wrap justify-center gap-3 mb-8 max-w-[640px] mx-auto",children:Ev(i).map((e=>(0,No.jsx)(Nv,{fact:{...e,correctAnswers:k[e.id]||0}},e.id)))}),(0,No.jsxs)("div",{className:"flex gap-6",children:[(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex-1 space-y-6 p-6 bg-white rounded-lg shadow-md",children:(0,No.jsxs)("div",{className:"text-center space-y-6",children:[(0,No.jsxs)("div",{className:"text-4xl font-bold text-gray-900 py-8",children:[d.operand1," ",Sv(d.operation)," ",d.operand2," =",(0,No.jsx)("input",{ref:o,type:"text",inputMode:"numeric",pattern:"\\d*",value:a,onChange:e=>$(e.target.value.replace(/\D/g,"")),onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},className:"ml-4 w-32 text-center border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none bg-transparent [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none transition-all",disabled:null!==c||C})]}),!c&&null!==c&&(0,No.jsxs)("div",{className:"space-y-4",children:[(0,No.jsx)("div",{className:"text-xl font-bold text-red-500",children:"Incorrect!"}),y&&(0,No.jsxs)("div",{className:"text-lg font-medium text-gray-700 py-4",children:["The correct fact is: ",d.operand1," ",Sv(d.operation)," ",d.operand2," = ",d.result]}),(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:z,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300",children:"Try Again"})]}),c&&(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("div",{className:"text-xl font-bold text-green-500",children:"Correct!"}),(0,No.jsx)("div",{className:"h-1 w-full bg-gray-100 rounded overflow-hidden",children:(0,No.jsx)(Wg.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:.3,ease:"linear"},className:"h-full bg-green-500"})})]})]})}),(0,No.jsx)(Wg.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"p-6 bg-white rounded-lg shadow-md",children:(0,No.jsx)(dc,{value:a,onChange:$,disabled:null!==c||C,showFeedback:null!==c,wasCorrect:!0===c})})]})]})]}):(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:(0,No.jsx)("div",{className:"text-center animate-pulse",children:"Loading..."})});var B}const Pv=cc("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Mv=e=>{let{onComplete:t}=e;const[n,r]=(0,s.useState)(3);return(0,s.useEffect)((()=>{if(0===n)return void t();const e=setTimeout((()=>{r(n-1)}),1e3);return()=>clearTimeout(e)}),[n,t]),(0,No.jsx)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50",children:(0,No.jsx)(tv,{mode:"wait",children:n>0&&(0,No.jsx)(Wg.div,{initial:{scale:.5,opacity:0},animate:{scale:[.5,1.2,1],opacity:[0,1,0]},transition:{duration:1,times:[0,.3,1],ease:"easeInOut"},className:"text-[8rem] font-bold text-white",children:n},n)})})},Iv=e=>{var t;let{onStart:n}=e;const{user:r}=Mo(),i=te(),[o,a]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!0),[u,d]=(0,s.useState)(null),[h,p]=(0,s.useState)(null),[f,m]=(0,s.useState)([]),[g,y]=(0,s.useState)(!1),v=(sessionStorage.getItem("activeTrackId"),null===(t=i.state)||void 0===t?void 0:t.facts);(0,s.useEffect)((()=>{(async()=>{if(null!==r&&void 0!==r&&r.userId){c(!0);try{const[e,t]=await Promise.all([xo(r.userId),wo(r.userId,"placement")]);d(e.targetTime),p(e.timePerDigit);const n=((e,t)=>[...e].sort((()=>.5-Math.random())).slice(0,t))(t.data.questions,5);if(v){const e=v.map((e=>({id:e.PK,num1:e.operand1,num2:e.operand2,operator:"addition"===e.operation?"+":"subtraction"===e.operation?"-":"multiplication"===e.operation?"x":"\xf7",answer:e.result}))),t=[...[...n,...e]].sort((()=>.5-Math.random()));m(t)}else m(n)}catch(e){console.error("Failed to fetch assessment data:",e)}finally{c(!1)}}})()}),[null===r||void 0===r?void 0:r.userId,v]);const x=(0,s.useMemo)((()=>o?"Starting...":l?"Loading Questions...":"Start Practice"),[o,l]);return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:[g&&(0,No.jsx)(Mv,{onComplete:()=>{try{if(null===u||null===h)throw new Error("Target time or time per digit is not set");n({inputMethod:"typing",questions:f,baseTime:u,timePerDigit:h,assessmentType:"placement",practicedFactIds:v?v.map((e=>e.PK.split("FACT#")[1])):[]})}catch(e){console.error("Failed to start placement assessment:",e),a(!1),y(!1)}}}),(0,No.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,No.jsx)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Mixed Practice"})}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 p-8 bg-white rounded-lg shadow-md flex flex-col justify-center",children:l?(0,No.jsxs)("div",{className:"text-center py-8",children:[(0,No.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-base text-gray-600",children:"Loading assessment..."})]}):(0,No.jsxs)(No.Fragment,{children:[(0,No.jsxs)("div",{className:"text-center space-y-6",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Instructions"}),null!==u&&null!==h&&(0,No.jsxs)("ul",{className:"space-y-3 text-base text-gray-600 max-w-2xl mx-auto text-left",children:[(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"1."}),(0,No.jsx)("span",{children:"Practice the facts you just learnt mixed with other facts"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"2."}),(0,No.jsxs)("span",{children:["You will have ",u," seconds to answer each question"]})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"3."}),(0,No.jsxs)("span",{children:["A question is only scored correctly if you answer it within the first ",u," seconds"]})]})]})]}),(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:()=>{0!==f.length&&(a(!0),y(!0))},disabled:o||l||null===u,className:`w-full max-w-md mx-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 \n                  text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg \n                  transition-all duration-300 flex items-center justify-center gap-2\n                  ${(o||l||null===u)&&"opacity-50 cursor-not-allowed"}`,children:[(0,No.jsx)("span",{children:x}),!o&&!l&&(0,No.jsx)(Pv,{className:"w-5 h-5"}),(o||l)&&(0,No.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})]})]})})]})]})},Rv=pc,Ov=e=>{let{isVisible:t,isCorrect:n,value:r}=e;if(!t)return null;const s=n?"border-green-500 bg-green-50 text-green-700":"border-red-500 bg-red-50 text-red-700";return(0,No.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,No.jsx)("div",{className:`\n        w-48 \n        p-4 \n        text-4xl \n        font-bold \n        text-center \n        rounded-lg\n        border-4\n        outline-none\n        transition-all\n        duration-200\n        ${s}\n      `,children:r})})},Dv=e=>{let{correctAnswer:t,onCorrectInput:n,question:r}=e;const[i,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)(0),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)(!1),p=(0,s.useRef)(null);(0,s.useEffect)((()=>()=>{p.current&&clearTimeout(p.current)}),[]);const f={...r,answer:t};return(0,No.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-6",children:[(0,No.jsx)("div",{className:"w-full text-center",children:(0,No.jsxs)("div",{className:"text-5xl font-bold text-gray-800 flex items-center justify-center gap-4",children:[(0,No.jsx)("span",{children:r.num1}),(0,No.jsx)("span",{children:r.operator}),(0,No.jsx)("span",{children:r.num2}),(0,No.jsx)("span",{children:"="}),(0,No.jsx)("span",{className:"text-blue-600",children:t})]})}),(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("p",{className:"text-red-600 font-semibold text-xl mb-2",children:"Your answer is incorrect"}),(0,No.jsx)("p",{className:"text-gray-600 text-lg",children:"Type the correct answer to continue"})]}),(0,No.jsxs)("div",{className:"w-full rounded-lg bg-gray-50 p-6 border border-gray-100 relative",children:[(0,No.jsx)("div",{className:i?"opacity-0":"",children:(0,No.jsx)(pc,{question:f,onAnswer:e=>{u(e);const r=e===t;h(r),p.current&&clearTimeout(p.current),o(!0),p.current=r?setTimeout((()=>{o(!1),n()}),200):setTimeout((()=>{o(!1),l((e=>e+1))}),200)},showFeedback:!1},a)}),null!==c&&(0,No.jsx)(Ov,{isVisible:i,isCorrect:d,value:c.toString()})]})]})},Lv=e=>{let{settings:t,questions:n}=e;const r=re(),[i,o]=(sessionStorage.getItem("activeTrackId"),(0,s.useState)(0)),[a,l]=(0,s.useState)(0),[c,u]=(0,s.useState)(0),[d,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[m,g]=((0,s.useRef)(crypto.randomUUID()),(0,s.useState)({})),{user:y}=Mo(),v=(0,s.useRef)(a),x=(0,s.useRef)(c);(0,s.useEffect)((()=>{v.current=a}),[a]),(0,s.useEffect)((()=>{x.current=c}),[c]),(0,s.useEffect)((()=>{const e={};n.forEach((t=>{const n=t.id.split("FACT#")[1];e[n]={attempts:0,correct:0,timeSpent:0}})),g(e)}),[n]);const[b,w]=(0,s.useState)(Date.now()),S=((0,s.useRef)(0),(0,s.useRef)(!1)),[k,_]=(0,s.useState)(0),[j,T]=(0,s.useState)([]),[C,E]=(0,s.useState)(!1),[N,A]=(0,s.useState)(n),[P,M]=(0,s.useState)(0),[I,R]=(0,s.useState)(0),[O,D]=(0,s.useState)(!1),[L,F]=(0,s.useState)("green"),z=(0,s.useRef)([]),$=(0,s.useRef)(!0),B=(0,s.useRef)([]);(0,s.useEffect)((()=>()=>{$.current=!1,z.current.length>0&&Promise.all(z.current).catch((e=>{console.error("[Cleanup Error]:",e)}))}),[]);const U=(0,s.useMemo)((()=>{if(!N[i])return t.baseTime;const e=N[i].answer.toString().length;return t.baseTime+e*t.timePerDigit}),[i,N,t.baseTime,t.timePerDigit]),W=(e,n)=>{if(!N[i])return void console.warn("No current question found");const r=N[i],s=e===r.answer,a=Date.now()-b,c=r.answer.toString().length*t.timePerDigit*1e3,u=Math.max(100,a-c);if(n&&s&&B.current.push(n),s?"green"===L?(C?R((e=>e+1)):M((e=>e+1)),h(!0),setTimeout((()=>{h(!1),F("green");o(i+1)}),200)):(C||T((e=>[...e,r])),h(!0),setTimeout((()=>{h(!1),F("green");o(i+1)}),200)):C?(D(!0),l((e=>e+1))):(T((e=>[...e,r])),h(!0),setTimeout((()=>{h(!1),F("green");o(i+1)}),200)),null!==y&&void 0!==y&&y.userId){(async()=>{try{const e=r.id.split("FACT#")[1];if(!e)return void console.error("Invalid fact ID format");g((t=>{var n,r,i;return{...t,[e]:{attempts:((null===(n=t[e])||void 0===n?void 0:n.attempts)||0)+1,correct:((null===(r=t[e])||void 0===r?void 0:r.correct)||0)+(s?1:0),timeSpent:((null===(i=t[e])||void 0===i?void 0:i.timeSpent)||0)+u}}}));const t={facts:{[e]:{attempts:1,correct:s?1:0,timeSpent:u}}},n=mo(y.userId,t);z.current.push(n),i<N.length-1&&await n}catch(e){console.error("[Progress Update Error]:",e)}})()}},H=()=>{D(!1),l((e=>e+1));o(i+1)},V=N[i];if((0,s.useEffect)((()=>{i>=N.length&&!p&&(!C&&j.length>0?(E(!0),o(0),h(!1),A(j),T([])):(async()=>{try{if(p)return;if(f(!0),z.current.length>0&&await Promise.all(z.current),B.current.length>0&&null!==y&&void 0!==y&&y.userId)try{const e=B.current.reduce(((e,t)=>e+t.count),0),t=B.current.reduce(((e,t)=>e+t.time),0);await jo(y.userId,{count:e,time:t/e})}catch(e){console.error("Error updating typing speed analytics:",e)}const n=JSON.parse(localStorage.getItem("practicedFacts")||"{}"),s=t.practicedFactIds.reduce(((e,t)=>{var n;return{...e,[t]:(null===(n=m[t])||void 0===n?void 0:n.correct)>0}}),n);localStorage.setItem("practicedFacts",JSON.stringify(s)),f(!1),r("/")}catch(e){console.error("[QuestionScreen] Error handling practice end:",e),f(!1),alert("Error processing results. Please try again.")}})())}),[i,N.length,C,j,p]),(0,s.useEffect)((()=>{V&&w(Date.now())}),[i,V]),!N||0===N.length)return(0,No.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,No.jsx)("div",{children:"No questions available"})});if(!V)return null;if(p)return(0,No.jsx)(tv,{children:(0,No.jsxs)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),(0,No.jsx)("p",{className:"text-lg text-gray-600",children:"Processing final results..."})]})});return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 flex items-center",children:[C&&(0,No.jsx)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:(0,No.jsx)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-2 rounded-md text-base",children:"Second attempt for previously incorrect questions"})}),(0,No.jsxs)("div",{className:"max-w-4xl w-full mx-auto space-y-6",children:[!O&&(0,No.jsx)(wv,{duration:U,onTimeout:()=>W(-1),onZoneChange:e=>{F(e)},isActive:!S.current},i),(0,No.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(()=>{if(O)return(0,No.jsx)(Dv,{correctAnswer:V.answer,onCorrectInput:H,question:{num1:V.num1,num2:V.num2,operator:V.operator}});const e={question:V,onAnswer:W,showFeedback:d,currentQuestionIndex:i};return(0,No.jsx)(Rv,{...e})})()})]})]})},Fv=()=>{var e;const[t,n]=(0,s.useState)("selection"),[r,i]=(0,s.useState)(null),o=te(),a=re(),l=(null===(e=o.state)||void 0===e?void 0:e.facts)||[];return(0,No.jsxs)("div",{children:[(0,No.jsx)(pv,{onBack:()=>a("/timedpractice",{state:{facts:l}})}),"selection"===t&&(0,No.jsx)(Iv,{onStart:e=>{i(e),n("question")}}),"question"===t&&r&&(0,No.jsx)(Lv,{settings:r,questions:r.questions})]})},zv={placement:"Fluency Assessment",fluency:"Fluency Assessment",targeted:"Targeted Assessment"},$v=e=>{let{onStart:t,assessmentType:n}=e;const{user:r}=Mo(),[i,o]=(te(),(0,s.useState)(!1)),[a,l]=(0,s.useState)(!0),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)(null),[p,f]=(0,s.useState)([]),[m,g]=(0,s.useState)(!1),y=sessionStorage.getItem("activeTrackId")||"TRACK1";(0,s.useEffect)((()=>{(async()=>{if(null!==r&&void 0!==r&&r.userId){l(!0);try{const[e,t]=await Promise.all([xo(r.userId),wo(r.userId,"placement",{trackId:y})]);u(e.targetTime),h(e.timePerDigit),f(t.data.questions)}catch(e){console.error("Failed to fetch assessment data:",e)}finally{l(!1)}}})()}),[null===r||void 0===r?void 0:r.userId,n,y]),(0,s.useEffect)((()=>{const e=e=>{"Enter"===e.key&&!i&&!a&&p.length>0&&null!==c&&v()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[p,i,a,c]);const v=()=>{0!==p.length&&(o(!0),g(!0))},x=(0,s.useMemo)((()=>i?"Starting...":a?"Loading Questions...":"Start Assessment"),[i,a]);return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:[m&&(0,No.jsx)(Mv,{onComplete:()=>{try{if(null===c||null===d)throw new Error("Target time or time per digit not loaded");t({inputMethod:"typing",questions:p,baseTime:c,timePerDigit:d,assessmentType:n})}catch(e){console.error(`Failed to start ${n} assessment:`,e),o(!1),g(!1)}}}),(0,No.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,No.jsx)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:zv[n]})}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 p-6 bg-white rounded-lg shadow-md",children:a?(0,No.jsxs)("div",{className:"text-center py-8",children:[(0,No.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-base text-gray-600",children:"Loading assessment..."})]}):(0,No.jsxs)(No.Fragment,{children:[(0,No.jsxs)("div",{className:"text-center space-y-6",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Instructions"}),null!==c&&null!==d&&(0,No.jsxs)("ul",{className:"space-y-3 text-base text-gray-600 max-w-2xl mx-auto text-left",children:[(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"1."}),(0,No.jsx)("span",{children:"This test will measure your fact fluency in all facts in this track"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"2."}),(0,No.jsx)("span",{children:"To pass this test you need to get all the questions asked right"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"3."}),(0,No.jsx)("span",{children:"Answers will be auto-submitted once you type them"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"4."}),(0,No.jsxs)("span",{children:["A question is only scored if you answer it within the first ",c," seconds"]})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"5."}),(0,No.jsx)("span",{children:"If you make a typing mistake, you will get another chance"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"6."}),(0,No.jsx)("span",{children:"If you answer a question incorrectly 2 times, the correct answer will be shown"})]})]})]}),(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:v,disabled:i||a||null===c,className:`w-full max-w-md mx-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 \n                  text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg \n                  transition-all duration-300 flex items-center justify-center gap-2\n                  ${(i||a||null===c)&&"opacity-50 cursor-not-allowed"}`,children:[(0,No.jsx)("span",{children:x}),!i&&!a&&(0,No.jsx)(Pv,{className:"w-5 h-5"}),(i||a)&&(0,No.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})]})]})})]})]})},Bv=pc;const Uv=new class{constructor(){this.queue=[],this.isProcessing=!1,this.storageKey="progress_update_queue",this.networkRetryTimeout=null,this.maxRetries=5,this.isOnline=navigator.onLine,this.isSortNeeded=!1,this.saveDebounceTimer=null,this.PRIORITY={PROGRESS:3,TYPING:1,ASSESSMENT:4},this.BATCH_SIZE=5,this.SAVE_DEBOUNCE_TIME=300,this.handleNetworkChange=()=>{this.isOnline=navigator.onLine,this.isOnline?(console.log("[ProgressQueue] Network connection restored, processing queue..."),this.processQueue()):console.log("[ProgressQueue] Network connection lost, pausing queue processing")},this.loadFromStorage(),window.addEventListener("online",this.handleNetworkChange),window.addEventListener("offline",this.handleNetworkChange),setTimeout((()=>{console.log("[ProgressQueue] Initiating delayed queue processing."),this.processQueue()}),3e3)}enqueueProgressUpdate(e,t){const n={id:`progress-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"progress",userId:e,payload:t,attempts:0,timestamp:Date.now(),priority:this.PRIORITY.PROGRESS};this.queue.push(n),this.isSortNeeded=!0,this.debouncedSaveToStorage(),this.processQueue()}enqueueProgressAssessmentUpdate(e,t,n){const r={id:`assessment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"progressAssessment",userId:e,assessmentId:t,payload:n,attempts:0,timestamp:Date.now(),priority:this.PRIORITY.ASSESSMENT};this.queue.push(r),this.isSortNeeded=!0,this.debouncedSaveToStorage(),this.processQueue()}enqueueTypingUpdate(e,t){const n={id:`typing-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:"typing",userId:e,payload:t,attempts:0,timestamp:Date.now(),priority:this.PRIORITY.TYPING};this.queue.push(n),this.isSortNeeded=!0,this.debouncedSaveToStorage(),this.processQueue()}debouncedSaveToStorage(){this.saveDebounceTimer&&clearTimeout(this.saveDebounceTimer),this.saveDebounceTimer=window.setTimeout((()=>{this.saveToStorage(),this.saveDebounceTimer=null}),this.SAVE_DEBOUNCE_TIME)}async processQueue(){if(!this.isProcessing&&this.isOnline){this.isProcessing=!0;try{for(this.isSortNeeded&&this.queue.length>1&&(this.queue.sort(((e,t)=>t.priority!==e.priority?t.priority-e.priority:e.timestamp-t.timestamp)),this.isSortNeeded=!1);this.queue.length>0;){if(!navigator.onLine){console.log("[ProgressQueue] Network is offline, pausing queue processing");break}const e=Math.min(this.BATCH_SIZE,this.queue.length);let t=[],n=[];for(let a=0;a<e&&a<this.queue.length;a++){const r=this.queue[a];if("progress"===r.type?n.push(r):t.push(r),t.length>=e)break}const r=e-t.length;r>0&&n.length>0&&(t=t.concat(n.slice(0,r))),0===t.length&&n.length>0&&(t=n.slice(0,e));const s=await Promise.allSettled(t.map((e=>this.processItem(e))));let i=!1,o=!1;if(s.forEach(((e,n)=>{const r=t[n];var s,a;"fulfilled"===e.status?(this.queue=this.queue.filter((e=>e.id!==r.id)),i=!0):(r.attempts++,r.attempts>=this.maxRetries?(console.error(`[ProgressQueue] Max retries (${this.maxRetries}) reached for item:`,r),ho(e.reason,{component:"ProgressQueueService",userId:r.userId,queueItemType:r.type,attempts:r.attempts,errorMessage:e.reason.message,status:null===(s=e.reason.response)||void 0===s?void 0:s.status,networkConnected:navigator.onLine,connectionType:(null===(a=navigator.connection)||void 0===a?void 0:a.effectiveType)||"unknown"}),this.queue=this.queue.filter((e=>e.id!==r.id)),i=!0):(this.isSortNeeded=!0,i=!0,e.reason.response||(o=!0)))})),i&&this.saveToStorage(),o){console.log("[ProgressQueue] Network error, will retry later"),this.networkRetryTimeout&&clearTimeout(this.networkRetryTimeout);const e=Math.max(...t.map((e=>e.attempts))),n=Math.min(1e3*Math.pow(2,e),3e4);this.networkRetryTimeout=window.setTimeout((()=>{this.networkRetryTimeout=null,this.processQueue()}),n);break}}}finally{this.isProcessing=!1}}}async processItem(e){switch(window.location.pathname.includes("accuracy-practice")&&console.log("[ProgressQueue] Processing item during accuracy practice:",{type:e.type,userId:e.userId,timestamp:(new Date).toISOString(),attempts:e.attempts}),e.type){case"progress":return mo(e.userId,e.payload);case"typing":return jo(e.userId,e.payload);case"progressAssessment":if(e.assessmentId)return(async(e,t,n)=>{try{var r;const s=sessionStorage.getItem("activeTrackId")||"TRACK1",i=await fo.post(`/progressAssessment/${t}/update/${s}/${e}`,{facts:n});if(null===(r=i.data)||void 0===r||!r.success)throw new Error("Failed to update progress assessment");return i.data.assessment}catch(s){throw s instanceof Error?s:new Error("Failed to update progress assessment")}})(e.userId,e.assessmentId,e.payload);throw new Error("Missing assessmentId for progressAssessment item");default:throw new Error(`Unknown queue item type: ${e.type}`)}}saveToStorage(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.queue))}catch(e){console.error("[ProgressQueue] Error saving queue to localStorage:",e)}}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);e&&(this.queue=JSON.parse(e),this.isSortNeeded=!0)}catch(e){console.error("[ProgressQueue] Error loading queue from localStorage:",e),this.queue=[]}}getStats(){return{queueLength:this.queue.length,isProcessing:this.isProcessing,isOnline:navigator.onLine,batchSize:this.BATCH_SIZE}}cleanup(){window.removeEventListener("online",this.handleNetworkChange),window.removeEventListener("offline",this.handleNetworkChange),this.networkRetryTimeout&&clearTimeout(this.networkRetryTimeout),this.saveDebounceTimer&&clearTimeout(this.saveDebounceTimer)}},Wv=e=>{let{settings:t,questions:n}=e;const r=re(),i=sessionStorage.getItem("activeTrackId")||"TRACK1",{setComponentLoading:o}=Jg(),a=(0,s.useMemo)((()=>"question-screen-end-processing"),[]),[l,c]=(0,s.useState)(0),[u,d]=(0,s.useState)(0),[h,p]=(0,s.useState)(0),[f,m]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1),[v,x]=((0,s.useRef)(crypto.randomUUID()),(0,s.useState)({})),{user:b}=Mo(),w=(0,s.useRef)(u),S=(0,s.useRef)(h);(0,s.useEffect)((()=>{w.current=u}),[u]),(0,s.useEffect)((()=>{S.current=h}),[h]),(0,s.useEffect)((()=>{const e={};n.forEach((t=>{const n=t.id.split("FACT#")[1];e[n]={attempts:0,correct:0,timeSpent:0}})),x(e)}),[n]);const[k,_]=(0,s.useState)(Date.now()),j=((0,s.useRef)(0),(0,s.useRef)(!1)),[T,C]=(0,s.useState)(0),[E,N]=(0,s.useState)([]),[A,P]=(0,s.useState)(!1),[M,I]=(0,s.useState)(n),[R,O]=(0,s.useState)(0),[D,L]=(0,s.useState)(0),[F,z]=(0,s.useState)(!1),[$,B]=(0,s.useState)("green"),[U,W]=(0,s.useState)(0),H=(0,s.useRef)([]),V=(0,s.useRef)(!0),q=(0,s.useRef)([]),K=(0,s.useRef)({});(0,s.useEffect)((()=>()=>{V.current=!1,H.current.length>0&&Promise.all(H.current).catch((e=>{console.error("[Cleanup Error]:",e)}))}),[]);const Q=(0,s.useMemo)((()=>{if(!M[l])return t.baseTime;const e=M[l].answer.toString().length;return 1===e?t.baseTime:t.baseTime+(e-1)*t.timePerDigit}),[l,M,t.baseTime,t.timePerDigit]),Y=async()=>{try{if(g)return;if(y(!0),o(a,!0),Object.keys(K.current).length>0&&console.error("[PracticeEnd] Fact update errors summary:",{failedFacts:K.current}),null!==b&&void 0!==b&&b.userId)try{console.log("[QuestionScreen] Updating assessment goal progress"),await Co(i,"assessment")}catch(s){console.error("[QuestionScreen] Failed to update assessment goal progress:",s)}const n=setTimeout((()=>{console.error("[PracticeEnd] Safety timeout triggered - forcing navigation"),y(!1),o(a,!1),r("/",{state:{preserveTrackId:i}})}),5e3);try{if(q.current.length>0&&null!==b&&void 0!==b&&b.userId)try{const t=q.current.reduce(((e,t)=>e+t.count),0),n=q.current.reduce(((e,t)=>e+t.time),0);if(t>0&&n>0)try{await jo(b.userId,{count:t,time:n/t})}catch(s){var e;console.error("[Typing] Error sending typing data:",s instanceof Error?s.message:"Unknown error"),ho(s,{component:"Assessment-QuestionScreen-TypingSpeed",userId:null===b||void 0===b?void 0:b.userId,data:{count:t,time:n/t},networkConnected:navigator.onLine,connectionType:(null===(e=navigator.connection)||void 0===e?void 0:e.effectiveType)||"unknown"})}}catch(s){var t;console.error("[Typing] Error processing typing data:",s instanceof Error?s.message:"Unknown error"),ho(s,{component:"Assessment-QuestionScreen-TypingData",userId:null===b||void 0===b?void 0:b.userId,networkConnected:navigator.onLine,connectionType:(null===(t=navigator.connection)||void 0===t?void 0:t.effectiveType)||"unknown"})}try{localStorage.removeItem("practicedFacts")}catch(s){ho(s,{component:"Assessment-QuestionScreen-LocalStorage",userId:null===b||void 0===b?void 0:b.userId})}}finally{clearTimeout(n),y(!1),o(a,!1),r("/",{state:{preserveTrackId:i}})}}catch(s){var n;ho(s,{component:"Assessment-QuestionScreen",trackId:i,userId:null===b||void 0===b?void 0:b.userId,networkConnected:navigator.onLine,connectionType:(null===(n=navigator.connection)||void 0===n?void 0:n.effectiveType)||"unknown"}),y(!1),o(a,!1),r("/",{state:{preserveTrackId:i}})}},G=async(e,n)=>{if(!M[l])return void console.warn("No current question found");const r=M[l],s=e===r.answer,i=Date.now()-k,o=r.answer.toString().length,a=o>1?(o-1)*t.timePerDigit*1e3:0,u=Math.max(100,i-a);if(n&&s&&q.current.push(n),!s&&!A){const e=U+1;if(W(e),e>=10)return void Y()}if(s?(A?L((e=>e+1)):O((e=>e+1)),m(!0),setTimeout((()=>{m(!1),B("green");c(l+1)}),200)):A?(z(!0),d((e=>e+1))):(N((e=>[...e,r])),m(!0),setTimeout((()=>{m(!1),B("green");c(l+1)}),200)),null!==b&&void 0!==b&&b.userId)try{const e=r.id.split("FACT#")[1];if(!e)throw new Error("Invalid fact ID format");x((t=>{var n,r,i;return{...t,[e]:{attempts:((null===(n=t[e])||void 0===n?void 0:n.attempts)||0)+1,correct:((null===(r=t[e])||void 0===r?void 0:r.correct)||0)+(s?1:0),timeSpent:((null===(i=t[e])||void 0===i?void 0:i.timeSpent)||0)+u}}}));const t=X(s,u);Uv.enqueueProgressUpdate(b.userId,{facts:{[e]:{attempts:1,correct:s?1:0,timeSpent:u,status:t}}})}catch(p){var h;console.error("[Progress] Update failed:",p instanceof Error?p.message:"Unknown error"),ho(p,{component:"Assessment-QuestionScreen-UpdateProgress",userId:null===b||void 0===b?void 0:b.userId,factId:null===r||void 0===r?void 0:r.id,isCorrect:s,timeSpent:u,networkConnected:navigator.onLine,connectionType:(null===(h=navigator.connection)||void 0===h?void 0:h.effectiveType)||"unknown"})}},X=(e,t)=>{if(!e)return"learning";const n=t/1e3;return n>6?"accuracyPractice":n>3?"fluency6Practice":n>2?"fluency3Practice":n>1.5?"fluency2Practice":"mastered"},J=()=>{z(!1),d((e=>e+1));c(l+1)},Z=M[l];if((0,s.useEffect)((()=>{l>=M.length&&!g&&(!A&&E.length>0&&U<10?(P(!0),c(0),m(!1),I(E),N([])):Y())}),[l,M.length,A,E,g,U]),(0,s.useEffect)((()=>{Z&&_(Date.now())}),[l,Z]),(0,s.useEffect)((()=>()=>{o(a,!1)}),[a,o]),!M||0===M.length)return(0,No.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,No.jsx)("div",{children:"No questions available"})});if(!Z)return null;if(g)return(0,No.jsx)(tv,{children:(0,No.jsxs)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),(0,No.jsx)("p",{className:"text-lg text-gray-600",children:"Processing final results..."})]})});return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 flex items-center",children:[A&&(0,No.jsx)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:(0,No.jsx)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-2 rounded-md text-base",children:"Second attempt for previously incorrect questions"})}),(0,No.jsxs)("div",{className:"max-w-4xl w-full mx-auto space-y-6",children:[!F&&(0,No.jsx)(wv,{duration:Q,onTimeout:()=>G(-1),onZoneChange:e=>{B(e)},isActive:!j.current},l),(0,No.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",translate:"no",children:(()=>{if(F)return(0,No.jsx)(Dv,{correctAnswer:Z.answer,onCorrectInput:J,question:{num1:Z.num1,num2:Z.num2,operator:Z.operator}});const e={question:Z,onAnswer:G,showFeedback:f,currentQuestionIndex:l};return(0,No.jsx)(Bv,{...e})})()})]})]})},Hv=()=>{const{isLoading:e}=Jg();return(0,No.jsx)(tv,{children:e&&(0,No.jsxs)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),(0,No.jsx)("p",{className:"text-lg text-gray-600",children:"Processing..."})]})})},Vv=()=>{var e;const{user:t}=Mo(),{recordPageTransition:n}=Oo(),[r,i]=(0,s.useState)("selection"),[o,a]=(0,s.useState)(null),l=null===(e=te().state)||void 0===e?void 0:e.assessmentType;if(!l)return(0,No.jsx)(be,{to:"/dashboard",replace:!0});return(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)(Hv,{}),"selection"===r&&(0,No.jsx)($v,{onStart:e=>{a(e),i("question")},assessmentType:l}),"question"===r&&o&&(0,No.jsx)(Wv,{settings:o,questions:o.questions})]})},qv=()=>(0,No.jsx)(Xg,{children:(0,No.jsx)(Vv,{})}),Kv=e=>{let{onStart:t}=e;const{user:n}=Mo(),[r,i]=(0,s.useState)(!1),[o,a]=(0,s.useState)(!0),[l,c]=(0,s.useState)([]),[u,d]=(0,s.useState)(""),[h,p]=(0,s.useState)(null),[f,m]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{if(null!==n&&void 0!==n&&n.userId){a(!0);try{const[e,t]=await Promise.all([xo(n.userId),So(n.userId)]);if(!t.questions||!t.assessmentId)throw new Error("Invalid response from server");p(e.timePerDigit),m(e.targetTime),c(t.questions),d(t.assessmentId)}catch(e){console.error("Failed to fetch assessment data:",e)}finally{a(!1)}}})()}),[null===n||void 0===n?void 0:n.userId]),(0,s.useEffect)((()=>{const e=e=>{"Enter"===e.key&&!r&&!o&&l.length>0&&u&&null!==h&&null!==f&&v()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[l,r,o,u,h,f]);const v=()=>{0!==l.length&&u&&null!==h&&null!==f&&(i(!0),y(!0))},x=(0,s.useMemo)((()=>r?"Starting...":o?"Loading Questions...":"Start Assessment"),[r,o]);return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:[g&&(0,No.jsx)(Mv,{onComplete:()=>{try{if(0===l.length||!u||null===h||null===f)return;t({inputMethod:"typing",questions:l,assessmentId:u,timePerDigit:h,baseTime:f})}catch(e){console.error("Failed to start progress assessment:",e),i(!1),y(!1)}}}),(0,No.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,No.jsx)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Progress Assessment"})}),(0,No.jsxs)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 p-6 bg-white rounded-lg shadow-md",children:[(0,No.jsxs)("div",{className:"text-center space-y-6",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Instructions"}),(0,No.jsxs)("ul",{className:"space-y-3 text-base text-gray-600 max-w-2xl mx-auto text-left",children:[(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"1."}),(0,No.jsxs)("span",{children:["You will have ",f," seconds to answer each question"]})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"2."}),(0,No.jsxs)("span",{children:["A question is only scored correctly if you answer it within the first ",f," seconds"]})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"3."}),(0,No.jsx)("span",{children:"Answers will be auto-submitted once you type them"})]})]})]}),(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:v,disabled:r||o||null===h||null===f,className:`w-full max-w-md mx-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 \n              text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg \n              transition-all duration-300 flex items-center justify-center gap-2\n              ${(r||o||null===h||null===f)&&"opacity-50 cursor-not-allowed"}`,children:[(0,No.jsx)("span",{children:x}),!r&&!o&&(0,No.jsx)(Pv,{className:"w-5 h-5"}),(r||o)&&(0,No.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})]})]})]})]})},Qv=pc,Yv=e=>{let{onComplete:t,isActive:n=!0}=e;const[r,i]=(0,s.useState)(120),o=(0,s.useRef)(t);(0,s.useEffect)((()=>{o.current=t}),[t]),(0,s.useEffect)((()=>{if(!n||r<=0)return;const e=setInterval((()=>{i((t=>t<=1?(clearInterval(e),o.current(),0):t-1))}),1e3);return()=>clearInterval(e)}),[n,r]);const a=Math.floor(r/60),l=r%60,c=r/120*100;return(0,No.jsxs)("div",{className:"w-full space-y-2",children:[(0,No.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[(0,No.jsx)("span",{className:"font-medium",children:"Time Remaining"}),(0,No.jsxs)("span",{className:"font-bold",children:[a,":",l.toString().padStart(2,"0")]})]}),(0,No.jsx)("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:(0,No.jsx)("div",{className:"h-full bg-blue-500 transition-all duration-1000",style:{width:`${c}%`}})})]})},Gv=e=>{let{onEnd:t,settings:n,questions:r}=e;const[i,o]=(0,s.useState)(0),[a,l]=(0,s.useState)(0),[c,u]=(0,s.useState)(0),[d,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[m,g]=(0,s.useState)(Date.now()),y=(0,s.useRef)(!1),{user:v}=Mo(),x=(0,s.useRef)(Date.now()),b=(0,s.useRef)(a),w=(0,s.useRef)(c),S=(0,s.useRef)([]),k=(0,s.useRef)([]),_=(0,s.useRef)(!0),j=(0,s.useRef)(0),T=(0,s.useRef)(0),C=(0,s.useRef)(0);(0,s.useEffect)((()=>()=>{_.current=!1,k.current.length>0&&Promise.all(k.current).catch((e=>{ho(e,{component:"ProgressAssessment-QuestionScreen",userId:null===v||void 0===v?void 0:v.userId})}))}),[]),(0,s.useEffect)((()=>{b.current=a}),[a]),(0,s.useEffect)((()=>{w.current=c}),[c]);const E=async()=>{try{if(p)return;if(f(!0),null===v||void 0===v||!v.userId)throw new Error("No authenticated user found");if(S.current.length>0)try{const e=S.current.reduce(((e,t)=>e+t.count),0),t=S.current.reduce(((e,t)=>e+t.time),0);e>0&&t>0&&Uv.enqueueTypingUpdate(v.userId,{count:e,time:t/e})}catch(e){ho(e,{component:"ProgressAssessment-QuestionScreen-TypingData",userId:null===v||void 0===v?void 0:v.userId})}r.slice(0,a);const s=(Date.now()-x.current)/6e4,i=5;let o=0,l=null;for(;o<i&&!l;)try{l=await ko(n.assessmentId,v.userId,{totalTypingTimeDeducted:j.current,totalTransitionTime:T.current,actualDurationMinutes:s,clientSideStats:{totalAttempts:a,totalCorrect:c},testType:"TotalTimer"})}catch(e){o++,ho(e,{component:"ProgressAssessment-QuestionScreen-Retry",userId:null===v||void 0===v?void 0:v.userId,attempt:o}),o<i&&await new Promise((e=>setTimeout(e,1e3*o)))}if(l){const e={cqpm:Math.round(l.overallCQPM),accuracy:l.accuracyRate,totalQuestions:r.length,totalAttempted:a,correctAnswers:c};f(!1),t(e)}else{ho(new Error("Failed to complete assessment after max retries"),{component:"ProgressAssessment-QuestionScreen",userId:null===v||void 0===v?void 0:v.userId,attempts:i});const e={cqpm:0,totalQuestions:r.length,totalAttempted:a,correctAnswers:c,accuracy:0};f(!1),t(e)}}catch(e){ho(e,{component:"ProgressAssessment-QuestionScreen",userId:null===v||void 0===v?void 0:v.userId}),f(!1),alert("Error processing results. Please try again.")}};if((0,s.useEffect)((()=>{r[i]?g(Date.now()):i>=r.length&&!p&&E()}),[i]),!r||0===r.length)return(0,No.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,No.jsx)("div",{children:"No questions available"})});if(!r[i])return null;if(p)return(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 flex items-center justify-center",children:(0,No.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col items-center gap-4",children:[(0,No.jsx)("div",{className:"w-20 h-20 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,No.jsx)("div",{className:"text-xl font-medium text-gray-600",children:"Processing final results..."})]})});const N={question:r[i],onAnswer:async(e,t)=>{if(!r[i])return void console.warn("No current question found");const s=r[i],a=e===s.answer,c=Date.now()-m,d=s.answer.toString().length,p=d>1?(d-1)*n.timePerDigit*1e3:0,f=Math.max(100,c-p);if(j.current+=p,C.current=Date.now(),h(!0),setTimeout((()=>{const e=Date.now();T.current+=e-C.current,h(!1),o(i+1),g(Date.now())}),100),t&&a&&S.current.push(t),l((e=>e+1)),a&&u((e=>e+1)),null!==v&&void 0!==v&&v.userId)try{const e=s.id.split("FACT#")[1];if(!e)throw new Error("Invalid fact ID format");Uv.enqueueProgressAssessmentUpdate(v.userId,n.assessmentId,{[s.id]:{attempts:1,correct:a?1:0,timeSpent:f}});const t=((e,t)=>{if(!e)return"learning";const n=t/1e3;return n>6?"accuracyPractice":n>3?"fluency6Practice":n>2?"fluency3Practice":n>1.5?"fluency2Practice":"mastered"})(a,f);Uv.enqueueProgressUpdate(v.userId,{facts:{[e]:{attempts:1,correct:a?1:0,timeSpent:f,status:t}}})}catch(y){ho(y,{component:"ProgressAssessment-QuestionScreen-UpdateProgress",userId:null===v||void 0===v?void 0:v.userId,factId:null===s||void 0===s?void 0:s.id,assessmentId:n.assessmentId})}},showFeedback:d,currentQuestionIndex:i};return(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 flex items-center",children:(0,No.jsxs)("div",{className:"max-w-4xl w-full mx-auto space-y-6",children:[(0,No.jsx)(Yv,{onComplete:E,isActive:!y.current}),(0,No.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,No.jsx)(Qv,{...N})})]})})},Xv=cc("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),Jv=cc("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Zv=cc("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ex=cc("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),tx=e=>{let{results:t,settings:n,returnTo:r="dashboard"}=e;const s=re(),{user:i}=Mo();return(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6",children:(0,No.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,No.jsx)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Assessment Results"})}),(0,No.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-md p-6",children:(0,No.jsxs)("div",{className:"flex flex-col",children:[(0,No.jsx)("span",{className:"text-gray-500 text-base mb-1",children:"Speed Score"}),(0,No.jsxs)("div",{className:"flex justify-between items-center",children:[(0,No.jsx)("span",{className:"text-[2.5rem] font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:t.cqpm}),(0,No.jsx)(Xv,{className:"w-6 h-6 text-blue-500"})]})]})}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-md p-6",children:(0,No.jsxs)("div",{className:"flex flex-col",children:[(0,No.jsx)("span",{className:"text-gray-500 text-base mb-1",children:"Attempts"}),(0,No.jsxs)("div",{className:"flex justify-between items-center",children:[(0,No.jsx)("span",{className:"text-[2.5rem] font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:t.totalAttempted}),(0,No.jsx)(Jv,{className:"w-6 h-6 text-blue-500 stroke-[2]"})]})]})}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-md p-6",children:(0,No.jsxs)("div",{className:"flex flex-col",children:[(0,No.jsx)("span",{className:"text-gray-500 text-base mb-1",children:"Correct"}),(0,No.jsxs)("div",{className:"flex justify-between items-center",children:[(0,No.jsx)("span",{className:"text-[2.5rem] font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:t.correctAnswers}),(0,No.jsx)(Zv,{className:"w-6 h-6 text-blue-500"})]})]})}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-md p-6",children:(0,No.jsxs)("div",{className:"flex flex-col",children:[(0,No.jsx)("span",{className:"text-gray-500 text-base mb-1",children:"Accuracy"}),(0,No.jsxs)("div",{className:"flex justify-between items-center",children:[(0,No.jsxs)("span",{className:"text-[2.5rem] font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:[(o=t.accuracy,Math.round(o).toString()),"%"]}),(0,No.jsx)(ex,{className:"w-6 h-6 text-blue-500"})]})]})})]}),(0,No.jsx)("div",{className:"flex justify-center",children:(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:()=>{sessionStorage.removeItem("currentAssessmentId"),s("onboarding"===r?"/onboarding":"/")},className:"w-full max-w-md px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500  text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg  transition-all duration-300",children:"Continue"})})]})});var o},nx=()=>{const e=te(),[t,n]=(0,s.useState)("selection"),[r,i]=(0,s.useState)(null),[o,a]=(0,s.useState)(null),[l,c]=(0,s.useState)("dashboard");(0,s.useEffect)((()=>{var t;const n=null===(t=e.state)||void 0===t?void 0:t.returnTo;n&&c(n)}),[e.state]);return(0,No.jsxs)("div",{children:["selection"===t&&(0,No.jsx)(Kv,{onStart:e=>{i(e),n("question")}}),"question"===t&&r&&(0,No.jsx)(Gv,{settings:r,questions:r.questions,onEnd:e=>{a(e),n("result")}}),"result"===t&&o&&r&&(0,No.jsx)(tx,{results:o,settings:r,returnTo:l})]})};var rx=n(8587),sx=n(8168),ix=n(9303),ox=n(8610),ax=n(7266);const lx=s.createContext();const cx=()=>{const e=s.useContext(lx);return null!=e&&e};const ux=function(e){return"string"===typeof e};const dx=function(e,t,n){return void 0===e||ux(e)?t:(0,sx.A)({},t,{ownerState:(0,sx.A)({},t.ownerState,n)})};var hx=n(3887),px=n(8280),fx=n(4575);const mx=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=s.useContext(fx.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},gx=(0,px.A)();const yx=function(){return mx(arguments.length>0&&void 0!==arguments[0]?arguments[0]:gx)};var vx=n(7200),xx=n(3375);function bx(){const e=yx(vx.A);return e[xx.A]||e}var wx=n(7786),Sx=n(6803);function kx(e,t){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kx(e,t)}function _x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kx(e,t)}const jx=!1,Tx=s.createContext(null);var Cx="unmounted",Ex="exited",Nx="entering",Ax="entered",Px="exiting",Mx=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var s,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(s=Ex,r.appearStatus=Nx):s=Ax:s=t.unmountOnExit||t.mountOnEnter?Cx:Ex,r.state={status:s},r.nextCallback=null,r}_x(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Cx?{status:Ex}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Nx&&n!==Ax&&(t=Nx):n!==Nx&&n!==Ax||(t=Px)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Nx){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ex&&this.setState({status:Cx})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,s=this.props.nodeRef?[r]:[a.findDOMNode(this),r],i=s[0],o=s[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||jx?this.safeSetState({status:Ax},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,o),this.safeSetState({status:Nx},(function(){t.props.onEntering(i,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:Ax},(function(){t.props.onEntered(i,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!jx?(this.props.onExit(r),this.safeSetState({status:Px},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ex},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ex},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=s[0],o=s[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Cx)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,rx.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(Tx.Provider,{value:null},"function"===typeof n?n(e,r):s.cloneElement(s.Children.only(n),r))},t}(s.Component);function Ix(){}Mx.contextType=Tx,Mx.propTypes={},Mx.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ix,onEntering:Ix,onEntered:Ix,onExit:Ix,onExiting:Ix,onExited:Ix},Mx.UNMOUNTED=Cx,Mx.EXITED=Ex,Mx.ENTERING=Nx,Mx.ENTERED=Ax,Mx.EXITING=Px;const Rx=Mx;function Ox(e,t){var n,r;const{timeout:s,easing:i,style:o={}}=e;return{duration:null!=(n=o.transitionDuration)?n:"number"===typeof s?s:s[t.mode]||0,easing:null!=(r=o.transitionTimingFunction)?r:"object"===typeof i?i[t.mode]:i,delay:o.transitionDelay}}var Dx=n(5849);const Lx=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Fx(e){return`scale(${e}, ${e**2})`}const zx={entering:{opacity:1,transform:Fx(1)},entered:{opacity:1,transform:"none"}},$x="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Bx=s.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:i,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=Rx}=e,y=(0,rx.A)(e,Lx),v=(0,ix.A)(),x=s.useRef(),b=bx(),w=s.useRef(null),S=(0,Dx.A)(w,i.ref,t),k=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},_=k(u),j=k(((e,t)=>{(e=>{e.scrollTop})(e);const{duration:n,delay:r,easing:s}=Ox({style:f,timeout:m,easing:o},{mode:"enter"});let i;"auto"===m?(i=b.transitions.getAutoHeightDuration(e.clientHeight),x.current=i):i=n,e.style.transition=[b.transitions.create("opacity",{duration:i,delay:r}),b.transitions.create("transform",{duration:$x?i:.666*i,delay:r,easing:s})].join(","),l&&l(e,t)})),T=k(c),C=k(p),E=k((e=>{const{duration:t,delay:n,easing:r}=Ox({style:f,timeout:m,easing:o},{mode:"exit"});let s;"auto"===m?(s=b.transitions.getAutoHeightDuration(e.clientHeight),x.current=s):s=t,e.style.transition=[b.transitions.create("opacity",{duration:s,delay:n}),b.transitions.create("transform",{duration:$x?s:.666*s,delay:$x?n:n||.333*s,easing:r})].join(","),e.style.opacity=0,e.style.transform=Fx(.75),d&&d(e)})),N=k(h);return(0,No.jsx)(g,(0,sx.A)({appear:r,in:a,nodeRef:w,onEnter:j,onEntered:T,onEntering:_,onExit:E,onExited:N,onExiting:C,addEndListener:e=>{"auto"===m&&v.start(x.current||0,e),n&&n(w.current,e)},timeout:"auto"===m?null:m},y,{children:(e,t)=>s.cloneElement(i,(0,sx.A)({style:(0,sx.A)({opacity:0,transform:Fx(.75),visibility:"exited"!==e||a?void 0:"hidden"},zx[e],f,i.props.style),ref:S},t))}))}));Bx.muiSupportAuto=!0;const Ux=Bx;var Wx=n(2374),Hx=n(3462),Vx=n(4440),qx=n(1668);function Kx(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qx(e){return e instanceof Kx(e).Element||e instanceof Element}function Yx(e){return e instanceof Kx(e).HTMLElement||e instanceof HTMLElement}function Gx(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Kx(e).ShadowRoot||e instanceof ShadowRoot)}var Xx=Math.max,Jx=Math.min,Zx=Math.round;function eb(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function tb(){return!/^((?!chrome|android).)*safari/i.test(eb())}function nb(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),s=1,i=1;t&&Yx(e)&&(s=e.offsetWidth>0&&Zx(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Zx(r.height)/e.offsetHeight||1);var o=(Qx(e)?Kx(e):window).visualViewport,a=!tb()&&n,l=(r.left+(a&&o?o.offsetLeft:0))/s,c=(r.top+(a&&o?o.offsetTop:0))/i,u=r.width/s,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function rb(e){var t=Kx(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function sb(e){return e?(e.nodeName||"").toLowerCase():null}function ib(e){return((Qx(e)?e.ownerDocument:e.document)||window.document).documentElement}function ob(e){return nb(ib(e)).left+rb(e).scrollLeft}function ab(e){return Kx(e).getComputedStyle(e)}function lb(e){var t=ab(e),n=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function cb(e,t,n){void 0===n&&(n=!1);var r=Yx(t),s=Yx(t)&&function(e){var t=e.getBoundingClientRect(),n=Zx(t.width)/e.offsetWidth||1,r=Zx(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=ib(t),o=nb(e,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==sb(t)||lb(i))&&(a=function(e){return e!==Kx(e)&&Yx(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:rb(e);var t}(t)),Yx(t)?((l=nb(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=ob(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ub(e){var t=nb(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function db(e){return"html"===sb(e)?e:e.assignedSlot||e.parentNode||(Gx(e)?e.host:null)||ib(e)}function hb(e){return["html","body","#document"].indexOf(sb(e))>=0?e.ownerDocument.body:Yx(e)&&lb(e)?e:hb(db(e))}function pb(e,t){var n;void 0===t&&(t=[]);var r=hb(e),s=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Kx(r),o=s?[i].concat(i.visualViewport||[],lb(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(pb(db(o)))}function fb(e){return["table","td","th"].indexOf(sb(e))>=0}function mb(e){return Yx(e)&&"fixed"!==ab(e).position?e.offsetParent:null}function gb(e){for(var t=Kx(e),n=mb(e);n&&fb(n)&&"static"===ab(n).position;)n=mb(n);return n&&("html"===sb(n)||"body"===sb(n)&&"static"===ab(n).position)?t:n||function(e){var t=/firefox/i.test(eb());if(/Trident/i.test(eb())&&Yx(e)&&"fixed"===ab(e).position)return null;var n=db(e);for(Gx(n)&&(n=n.host);Yx(n)&&["html","body"].indexOf(sb(n))<0;){var r=ab(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var yb="top",vb="bottom",xb="right",bb="left",wb="auto",Sb=[yb,vb,xb,bb],kb="start",_b="end",jb="viewport",Tb="popper",Cb=Sb.reduce((function(e,t){return e.concat([t+"-"+kb,t+"-"+_b])}),[]),Eb=[].concat(Sb,[wb]).reduce((function(e,t){return e.concat([t,t+"-"+kb,t+"-"+_b])}),[]),Nb=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ab(e){var t=new Map,n=new Set,r=[];function s(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&s(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||s(e)})),r}function Pb(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Mb={placement:"bottom",modifiers:[],strategy:"absolute"};function Ib(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Rb(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,s=t.defaultOptions,i=void 0===s?Mb:s;return function(e,t,n){void 0===n&&(n=i);var s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mb,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],a=!1,l={state:s,setOptions:function(n){var a="function"===typeof n?n(s.options):n;c(),s.options=Object.assign({},i,s.options,a),s.scrollParents={reference:Qx(e)?pb(e):e.contextElement?pb(e.contextElement):[],popper:pb(t)};var u=function(e){var t=Ab(e);return Nb.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,s.options.modifiers)));return s.orderedModifiers=u.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:s,name:t,instance:l,options:r}),c=function(){};o.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=s.elements,t=e.reference,n=e.popper;if(Ib(t,n)){s.rects={reference:cb(t,gb(n),"fixed"===s.options.strategy),popper:ub(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"===typeof o&&(s=o({state:s,options:u,name:d,instance:l})||s)}else s.reset=!1,r=-1}}},update:Pb((function(){return new Promise((function(e){l.forceUpdate(),e(s)}))})),destroy:function(){c(),a=!0}};if(!Ib(e,t))return l;function c(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Ob={passive:!0};const Db={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,s=r.scroll,i=void 0===s||s,o=r.resize,a=void 0===o||o,l=Kx(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,Ob)})),a&&l.addEventListener("resize",n.update,Ob),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Ob)})),a&&l.removeEventListener("resize",n.update,Ob)}},data:{}};function Lb(e){return e.split("-")[0]}function Fb(e){return e.split("-")[1]}function zb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $b(e){var t,n=e.reference,r=e.element,s=e.placement,i=s?Lb(s):null,o=s?Fb(s):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case yb:t={x:a,y:n.y-r.height};break;case vb:t={x:a,y:n.y+n.height};break;case xb:t={x:n.x+n.width,y:l};break;case bb:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?zb(i):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case kb:t[c]=t[c]-(n[u]/2-r[u]/2);break;case _b:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var Bb={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ub(e){var t,n=e.popper,r=e.popperRect,s=e.placement,i=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,p=void 0===h?0:h,f=o.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),x=bb,b=yb,w=window;if(c){var S=gb(n),k="clientHeight",_="clientWidth";if(S===Kx(n)&&"static"!==ab(S=ib(n)).position&&"absolute"===a&&(k="scrollHeight",_="scrollWidth"),s===yb||(s===bb||s===xb)&&i===_b)b=vb,m-=(d&&S===w&&w.visualViewport?w.visualViewport.height:S[k])-r.height,m*=l?1:-1;if(s===bb||(s===yb||s===vb)&&i===_b)x=xb,p-=(d&&S===w&&w.visualViewport?w.visualViewport.width:S[_])-r.width,p*=l?1:-1}var j,T=Object.assign({position:a},c&&Bb),C=!0===u?function(e,t){var n=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Zx(n*s)/s||0,y:Zx(r*s)/s||0}}({x:p,y:m},Kx(n)):{x:p,y:m};return p=C.x,m=C.y,l?Object.assign({},T,((j={})[b]=v?"0":"",j[x]=y?"0":"",j.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",j)):Object.assign({},T,((t={})[b]=v?m+"px":"",t[x]=y?p+"px":"",t.transform="",t))}const Wb={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,s=void 0===r||r,i=n.adaptive,o=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,c={placement:Lb(t.placement),variation:Fb(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ub(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ub(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const Hb={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,s=n.offset,i=void 0===s?[0,0]:s,o=Eb.reduce((function(e,n){return e[n]=function(e,t,n){var r=Lb(e),s=[bb,yb].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[bb,xb].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(n,t.rects,i),e}),{}),a=o[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var Vb={left:"right",right:"left",bottom:"top",top:"bottom"};function qb(e){return e.replace(/left|right|bottom|top/g,(function(e){return Vb[e]}))}var Kb={start:"end",end:"start"};function Qb(e){return e.replace(/start|end/g,(function(e){return Kb[e]}))}function Yb(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Gx(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Gb(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xb(e,t,n){return t===jb?Gb(function(e,t){var n=Kx(e),r=ib(e),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var c=tb();(c||!c&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+ob(e),y:l}}(e,n)):Qx(t)?function(e,t){var n=nb(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Gb(function(e){var t,n=ib(e),r=rb(e),s=null==(t=e.ownerDocument)?void 0:t.body,i=Xx(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Xx(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+ob(e),l=-r.scrollTop;return"rtl"===ab(s||n).direction&&(a+=Xx(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}(ib(e)))}function Jb(e,t,n,r){var s="clippingParents"===t?function(e){var t=pb(db(e)),n=["absolute","fixed"].indexOf(ab(e).position)>=0&&Yx(e)?gb(e):e;return Qx(n)?t.filter((function(e){return Qx(e)&&Yb(e,n)&&"body"!==sb(e)})):[]}(e):[].concat(t),i=[].concat(s,[n]),o=i[0],a=i.reduce((function(t,n){var s=Xb(e,n,r);return t.top=Xx(s.top,t.top),t.right=Jx(s.right,t.right),t.bottom=Jx(s.bottom,t.bottom),t.left=Xx(s.left,t.left),t}),Xb(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Zb(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ew(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function tw(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=void 0===r?e.placement:r,i=n.strategy,o=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?jb:c,d=n.elementContext,h=void 0===d?Tb:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,y=Zb("number"!==typeof g?g:ew(g,Sb)),v=h===Tb?"reference":Tb,x=e.rects.popper,b=e.elements[f?v:h],w=Jb(Qx(b)?b:b.contextElement||ib(e.elements.popper),l,u,o),S=nb(e.elements.reference),k=$b({reference:S,element:x,strategy:"absolute",placement:s}),_=Gb(Object.assign({},x,k)),j=h===Tb?_:S,T={top:w.top-j.top+y.top,bottom:j.bottom-w.bottom+y.bottom,left:w.left-j.left+y.left,right:j.right-w.right+y.right},C=e.modifiersData.offset;if(h===Tb&&C){var E=C[s];Object.keys(T).forEach((function(e){var t=[xb,vb].indexOf(e)>=0?1:-1,n=[yb,vb].indexOf(e)>=0?"y":"x";T[e]+=E[n]*t}))}return T}const nw={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=n.mainAxis,i=void 0===s||s,o=n.altAxis,a=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,y=Lb(g),v=l||(y===g||!f?[qb(g)]:function(e){if(Lb(e)===wb)return[];var t=qb(e);return[Qb(e),t,Qb(t)]}(g)),x=[g].concat(v).reduce((function(e,n){return e.concat(Lb(n)===wb?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Eb:l,u=Fb(r),d=u?a?Cb:Cb.filter((function(e){return Fb(e)===u})):Sb,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=tw(e,{placement:n,boundary:s,rootBoundary:i,padding:o})[Lb(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,w=t.rects.popper,S=new Map,k=!0,_=x[0],j=0;j<x.length;j++){var T=x[j],C=Lb(T),E=Fb(T)===kb,N=[yb,vb].indexOf(C)>=0,A=N?"width":"height",P=tw(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),M=N?E?xb:bb:E?vb:yb;b[A]>w[A]&&(M=qb(M));var I=qb(M),R=[];if(i&&R.push(P[C]<=0),a&&R.push(P[M]<=0,P[I]<=0),R.every((function(e){return e}))){_=T,k=!1;break}S.set(T,R)}if(k)for(var O=function(e){var t=x.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},D=f?3:1;D>0;D--){if("break"===O(D))break}t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function rw(e,t,n){return Xx(e,Jx(t,n))}const sw={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,s=n.mainAxis,i=void 0===s||s,o=n.altAxis,a=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=tw(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Lb(t.placement),v=Fb(t.placement),x=!v,b=zb(y),w="x"===b?"y":"x",S=t.modifiersData.popperOffsets,k=t.rects.reference,_=t.rects.popper,j="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof j?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(S){if(i){var N,A="y"===b?yb:bb,P="y"===b?vb:xb,M="y"===b?"height":"width",I=S[b],R=I+g[A],O=I-g[P],D=p?-_[M]/2:0,L=v===kb?k[M]:_[M],F=v===kb?-_[M]:-k[M],z=t.elements.arrow,$=p&&z?ub(z):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=B[A],W=B[P],H=rw(0,k[M],$[M]),V=x?k[M]/2-D-H-U-T.mainAxis:L-H-U-T.mainAxis,q=x?-k[M]/2+D+H+W+T.mainAxis:F+H+W+T.mainAxis,K=t.elements.arrow&&gb(t.elements.arrow),Q=K?"y"===b?K.clientTop||0:K.clientLeft||0:0,Y=null!=(N=null==C?void 0:C[b])?N:0,G=I+q-Y,X=rw(p?Jx(R,I+V-Y-Q):R,I,p?Xx(O,G):O);S[b]=X,E[b]=X-I}if(a){var J,Z="x"===b?yb:bb,ee="x"===b?vb:xb,te=S[w],ne="y"===w?"height":"width",re=te+g[Z],se=te-g[ee],ie=-1!==[yb,bb].indexOf(y),oe=null!=(J=null==C?void 0:C[w])?J:0,ae=ie?re:te-k[ne]-_[ne]-oe+T.altAxis,le=ie?te+k[ne]+_[ne]-oe-T.altAxis:se,ce=p&&ie?function(e,t,n){var r=rw(e,t,n);return r>n?n:r}(ae,te,le):rw(p?ae:re,te,p?le:se);S[w]=ce,E[w]=ce-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]};const iw={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,s=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Lb(n.placement),l=zb(a),c=[bb,xb].indexOf(a)>=0?"height":"width";if(i&&o){var u=function(e,t){return Zb("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ew(e,Sb))}(s.padding,n),d=ub(i),h="y"===l?yb:bb,p="y"===l?vb:xb,f=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],m=o[l]-n.rects.reference[l],g=gb(i),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=f/2-m/2,x=u[h],b=y-d[c]-u[p],w=y/2-d[c]/2+v,S=rw(x,w,b),k=l;n.modifiersData[r]=((t={})[k]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Yb(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ow(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function aw(e){return[yb,xb,vb,bb].some((function(t){return e[t]>=0}))}var lw=Rb({defaultModifiers:[Db,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=$b({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Wb,{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},s=t.elements[e];Yx(s)&&sb(s)&&(Object.assign(s.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],s=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Yx(r)&&sb(r)&&(Object.assign(r.style,i),Object.keys(s).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},Hb,nw,sw,iw,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,s=t.rects.popper,i=t.modifiersData.preventOverflow,o=tw(t,{elementContext:"reference"}),a=tw(t,{altBoundary:!0}),l=ow(o,r),c=ow(a,s,i),u=aw(l),d=aw(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]});const cw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const uw=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const dw=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const e=(0,al.A)(null==n?void 0:n.className,i,null==s?void 0:s.className,null==r?void 0:r.className),t=(0,sx.A)({},null==n?void 0:n.style,null==s?void 0:s.style,null==r?void 0:r.style),o=(0,sx.A)({},n,s,r);return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}const o=cw((0,sx.A)({},s,r)),a=uw(r),l=uw(s),c=t(o),u=(0,al.A)(null==c?void 0:c.className,null==n?void 0:n.className,i,null==s?void 0:s.className,null==r?void 0:r.className),d=(0,sx.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==s?void 0:s.style,null==r?void 0:r.style),h=(0,sx.A)({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}};const hw=function(e,t,n){return"function"===typeof e?e(t,n):e},pw=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const fw=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:s,skipResolvingSlotProps:i=!1}=e,o=(0,rx.A)(e,pw),a=i?{}:hw(r,s),{props:l,internalRef:c}=dw((0,sx.A)({},o,{externalSlotProps:a})),u=(0,Hx.A)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return dx(n,(0,sx.A)({},l,{ref:u}),s)};var mw=n(6564);const gw=s.forwardRef((function(e,t){const{children:n,container:r,disablePortal:i=!1}=e,[o,l]=s.useState(null),c=(0,Hx.A)(s.isValidElement(n)?n.ref:null,t);if((0,Vx.A)((()=>{i||l(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,i]),(0,Vx.A)((()=>{if(o&&!i)return(0,mw.A)(t,o),()=>{(0,mw.A)(t,null)}}),[t,o,i]),i){if(s.isValidElement(n)){const e={ref:c};return s.cloneElement(n,e)}return(0,No.jsx)(s.Fragment,{children:n})}return(0,No.jsx)(s.Fragment,{children:o?a.createPortal(n,o):o})}));var yw=n(2532),vw=n(2372);function xw(e){return(0,vw.Ay)("MuiPopper",e)}(0,yw.A)("MuiPopper",["root"]);const bw=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],ww=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Sw(e){return"function"===typeof e?e():e}function kw(e){return void 0!==e.nodeType}const _w={},jw=s.forwardRef((function(e,t){var n;const{anchorEl:r,children:i,direction:o,disablePortal:a,modifiers:l,open:c,placement:u,popperOptions:d,popperRef:h,slotProps:p={},slots:f={},TransitionProps:m}=e,g=(0,rx.A)(e,bw),y=s.useRef(null),v=(0,Hx.A)(y,t),x=s.useRef(null),b=(0,Hx.A)(x,h),w=s.useRef(b);(0,Vx.A)((()=>{w.current=b}),[b]),s.useImperativeHandle(h,(()=>x.current),[]);const S=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,o),[k,_]=s.useState(S),[j,T]=s.useState(Sw(r));s.useEffect((()=>{x.current&&x.current.forceUpdate()})),s.useEffect((()=>{r&&T(Sw(r))}),[r]),(0,Vx.A)((()=>{if(!j||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;_(t.placement)}}];null!=l&&(e=e.concat(l)),d&&null!=d.modifiers&&(e=e.concat(d.modifiers));const t=lw(j,y.current,(0,sx.A)({placement:S},d,{modifiers:e}));return w.current(t),()=>{t.destroy(),w.current(null)}}),[j,a,l,c,d,S]);const C={placement:k};null!==m&&(C.TransitionProps=m);const E=(e=>{const{classes:t}=e;return(0,ox.A)({root:["root"]},xw,t)})(e),N=null!=(n=f.root)?n:"div",A=fw({elementType:N,externalSlotProps:p.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:E.root});return(0,No.jsx)(N,(0,sx.A)({},A,{children:"function"===typeof i?i(C):i}))})),Tw=s.forwardRef((function(e,t){const{anchorEl:n,children:r,container:i,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:h=_w,popperRef:p,style:f,transition:m=!1,slotProps:g={},slots:y={}}=e,v=(0,rx.A)(e,ww),[x,b]=s.useState(!0);if(!l&&!u&&(!m||x))return null;let w;if(i)w=i;else if(n){const e=Sw(n);w=e&&kw(e)?(0,qx.A)(e).body:(0,qx.A)(null).body}const S=u||!l||m&&!x?void 0:"none",k=m?{in:u,onEnter:()=>{b(!1)},onExited:()=>{b(!0)}}:void 0;return(0,No.jsx)(gw,{disablePortal:a,container:w,children:(0,No.jsx)(jw,(0,sx.A)({anchorEl:n,direction:o,disablePortal:a,modifiers:c,ref:t,open:m?!x:u,placement:d,popperOptions:h,popperRef:p,slotProps:g,slots:y},v,{style:(0,sx.A)({position:"fixed",top:0,left:0,display:S},f),TransitionProps:k,children:r}))})})),Cw=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Ew=(0,hx.Ay)(Tw,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Nw=s.forwardRef((function(e,t){var n;const r=(0,Wx.A)(),s=(0,wx.b)({props:e,name:"MuiPopper"}),{anchorEl:i,component:o,components:a,componentsProps:l,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:m,popperRef:g,transition:y,slots:v,slotProps:x}=s,b=(0,rx.A)(s,Cw),w=null!=(n=null==v?void 0:v.root)?n:null==a?void 0:a.Root,S=(0,sx.A)({anchorEl:i,container:c,disablePortal:u,keepMounted:d,modifiers:h,open:p,placement:f,popperOptions:m,popperRef:g,transition:y},b);return(0,No.jsx)(Ew,(0,sx.A)({as:o,direction:null==r?void 0:r.direction,slots:{root:w},slotProps:null!=x?x:l},S,{ref:t}))}));var Aw=n(3110),Pw=n(9488),Mw=n(3574),Iw=n(5420);function Rw(e){return(0,vw.Ay)("MuiTooltip",e)}const Ow=(0,yw.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Dw=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const Lw=(0,hx.Ay)(Nw,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,sx.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${Ow.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ow.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ow.arrow}`]:(0,sx.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ow.arrow}`]:(0,sx.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),Fw=(0,hx.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,Sx.A)(n.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,sx.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,ax.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:(r=16/14,Math.round(1e5*r)/1e5)+"em",fontWeight:t.typography.fontWeightRegular},{[`.${Ow.popper}[data-popper-placement*="left"] &`]:(0,sx.A)({transformOrigin:"right center"},n.isRtl?(0,sx.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,sx.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${Ow.popper}[data-popper-placement*="right"] &`]:(0,sx.A)({transformOrigin:"left center"},n.isRtl?(0,sx.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,sx.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${Ow.popper}[data-popper-placement*="top"] &`]:(0,sx.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${Ow.popper}[data-popper-placement*="bottom"] &`]:(0,sx.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r})),zw=(0,hx.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,ax.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let $w=!1;const Bw=new ix.E;let Uw={x:0,y:0};function Ww(e,t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];t&&t(n,...s),e(n,...s)}}const Hw=s.forwardRef((function(e,t){var n,r,i,o,a,l,c,u,d,h,p,f,m,g,y,v,x,b,w;const S=(0,wx.b)({props:e,name:"MuiTooltip"}),{arrow:k=!1,children:_,components:j={},componentsProps:T={},describeChild:C=!1,disableFocusListener:E=!1,disableHoverListener:N=!1,disableInteractive:A=!1,disableTouchListener:P=!1,enterDelay:M=100,enterNextDelay:I=0,enterTouchDelay:R=700,followCursor:O=!1,id:D,leaveDelay:L=0,leaveTouchDelay:F=1500,onClose:z,onOpen:$,open:B,placement:U="bottom",PopperComponent:W,PopperProps:H={},slotProps:V={},slots:q={},title:K,TransitionComponent:Q=Ux,TransitionProps:Y}=S,G=(0,rx.A)(S,Dw),X=s.isValidElement(_)?_:(0,No.jsx)("span",{children:_}),J=bx(),Z=cx(),[ee,te]=s.useState(),[ne,re]=s.useState(null),se=s.useRef(!1),ie=A||O,oe=(0,ix.A)(),ae=(0,ix.A)(),le=(0,ix.A)(),ce=(0,ix.A)(),[ue,de]=(0,Iw.A)({controlled:B,default:!1,name:"Tooltip",state:"open"});let he=ue;const pe=(0,Pw.A)(D),fe=s.useRef(),me=(0,Aw.A)((()=>{void 0!==fe.current&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),ce.clear()}));s.useEffect((()=>me),[me]);const ge=e=>{Bw.clear(),$w=!0,de(!0),$&&!he&&$(e)},ye=(0,Aw.A)((e=>{Bw.start(800+L,(()=>{$w=!1})),de(!1),z&&he&&z(e),oe.start(J.transitions.duration.shortest,(()=>{se.current=!1}))})),ve=e=>{se.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),ae.clear(),le.clear(),M||$w&&I?ae.start($w?I:M,(()=>{ge(e)})):ge(e))},xe=e=>{ae.clear(),le.start(L,(()=>{ye(e)}))},{isFocusVisibleRef:be,onBlur:we,onFocus:Se,ref:ke}=(0,Mw.A)(),[,_e]=s.useState(!1),je=e=>{we(e),!1===be.current&&(_e(!1),xe(e))},Te=e=>{ee||te(e.currentTarget),Se(e),!0===be.current&&(_e(!0),ve(e))},Ce=e=>{se.current=!0;const t=X.props;t.onTouchStart&&t.onTouchStart(e)},Ee=e=>{Ce(e),le.clear(),oe.clear(),me(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(R,(()=>{document.body.style.WebkitUserSelect=fe.current,ve(e)}))},Ne=e=>{X.props.onTouchEnd&&X.props.onTouchEnd(e),me(),le.start(F,(()=>{ye(e)}))};s.useEffect((()=>{if(he)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ye(e)}}),[ye,he]);const Ae=(0,Dx.A)(X.ref,ke,te,t);K||0===K||(he=!1);const Pe=s.useRef(),Me={},Ie="string"===typeof K;C?(Me.title=he||!Ie||N?null:K,Me["aria-describedby"]=he?pe:null):(Me["aria-label"]=Ie?K:null,Me["aria-labelledby"]=he&&!Ie?pe:null);const Re=(0,sx.A)({},Me,G,X.props,{className:(0,al.A)(G.className,X.props.className),onTouchStart:Ce,ref:Ae},O?{onMouseMove:e=>{const t=X.props;t.onMouseMove&&t.onMouseMove(e),Uw={x:e.clientX,y:e.clientY},Pe.current&&Pe.current.update()}}:{});const Oe={};P||(Re.onTouchStart=Ee,Re.onTouchEnd=Ne),N||(Re.onMouseOver=Ww(ve,Re.onMouseOver),Re.onMouseLeave=Ww(xe,Re.onMouseLeave),ie||(Oe.onMouseOver=ve,Oe.onMouseLeave=xe)),E||(Re.onFocus=Ww(Te,Re.onFocus),Re.onBlur=Ww(je,Re.onBlur),ie||(Oe.onFocus=Te,Oe.onBlur=je));const De=s.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=H.popperOptions)&&e.modifiers&&(t=t.concat(H.popperOptions.modifiers)),(0,sx.A)({},H.popperOptions,{modifiers:t})}),[ne,H]),Le=(0,sx.A)({},S,{isRtl:Z,arrow:k,disableInteractive:ie,placement:U,PopperComponentProp:W,touch:se.current}),Fe=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:s,placement:i}=e,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${(0,Sx.A)(i.split("-")[0])}`],arrow:["arrow"]};return(0,ox.A)(o,Rw,t)})(Le),ze=null!=(n=null!=(r=q.popper)?r:j.Popper)?n:Lw,$e=null!=(i=null!=(o=null!=(a=q.transition)?a:j.Transition)?o:Q)?i:Ux,Be=null!=(l=null!=(c=q.tooltip)?c:j.Tooltip)?l:Fw,Ue=null!=(u=null!=(d=q.arrow)?d:j.Arrow)?u:zw,We=dx(ze,(0,sx.A)({},H,null!=(h=V.popper)?h:T.popper,{className:(0,al.A)(Fe.popper,null==H?void 0:H.className,null==(p=null!=(f=V.popper)?f:T.popper)?void 0:p.className)}),Le),He=dx($e,(0,sx.A)({},Y,null!=(m=V.transition)?m:T.transition),Le),Ve=dx(Be,(0,sx.A)({},null!=(g=V.tooltip)?g:T.tooltip,{className:(0,al.A)(Fe.tooltip,null==(y=null!=(v=V.tooltip)?v:T.tooltip)?void 0:y.className)}),Le),qe=dx(Ue,(0,sx.A)({},null!=(x=V.arrow)?x:T.arrow,{className:(0,al.A)(Fe.arrow,null==(b=null!=(w=V.arrow)?w:T.arrow)?void 0:b.className)}),Le);return(0,No.jsxs)(s.Fragment,{children:[s.cloneElement(X,Re),(0,No.jsx)(ze,(0,sx.A)({as:null!=W?W:Nw,placement:U,anchorEl:O?{getBoundingClientRect:()=>({top:Uw.y,left:Uw.x,right:Uw.x,bottom:Uw.y,width:0,height:0})}:ee,popperRef:Pe,open:!!ee&&he,id:pe,transition:!0},Oe,We,{popperOptions:De,children:e=>{let{TransitionProps:t}=e;return(0,No.jsx)($e,(0,sx.A)({timeout:J.transitions.duration.shorter},t,He,{children:(0,No.jsxs)(Be,(0,sx.A)({},Ve,{children:[K,k?(0,No.jsx)(Ue,(0,sx.A)({},qe,{ref:re})):null]}))}))}}))]})}));var Vw=n(3290);function qw(e){return(0,vw.Ay)("MuiCircularProgress",e)}(0,yw.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Kw=["className","color","disableShrink","size","style","thickness","value","variant"];let Qw,Yw,Gw,Xw,Jw=e=>e;const Zw=44,eS=(0,Vw.i7)(Qw||(Qw=Jw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),tS=(0,Vw.i7)(Yw||(Yw=Jw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),nS=(0,hx.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,Sx.A)(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,sx.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,Vw.AH)(Gw||(Gw=Jw`
      animation: ${0} 1.4s linear infinite;
    `),eS)})),rS=(0,hx.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),sS=(0,hx.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,Sx.A)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,sx.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,Vw.AH)(Xw||(Xw=Jw`
      animation: ${0} 1.4s ease-in-out infinite;
    `),tS)})),iS=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:i=!1,size:o=40,style:a,thickness:l=3.6,value:c=0,variant:u="indeterminate"}=n,d=(0,rx.A)(n,Kw),h=(0,sx.A)({},n,{color:s,disableShrink:i,size:o,thickness:l,value:c,variant:u}),p=(e=>{const{classes:t,variant:n,color:r,disableShrink:s}=e,i={root:["root",n,`color${(0,Sx.A)(r)}`],svg:["svg"],circle:["circle",`circle${(0,Sx.A)(n)}`,s&&"circleDisableShrink"]};return(0,ox.A)(i,qw,t)})(h),f={},m={},g={};if("determinate"===u){const e=2*Math.PI*((Zw-l)/2);f.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),f.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,No.jsx)(nS,(0,sx.A)({className:(0,al.A)(p.root,r),style:(0,sx.A)({width:o,height:o},m,a),ownerState:h,ref:t,role:"progressbar"},g,d,{children:(0,No.jsx)(rS,{className:p.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,No.jsx)(sS,{className:p.circle,style:f,ownerState:h,cx:Zw,cy:Zw,r:(Zw-l)/2,fill:"none",strokeWidth:l})})}))})),oS=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],aS=["component","slots","slotProps"],lS=["component"];function cS(e,t){const{className:n,elementType:r,ownerState:s,externalForwardedProps:i,getSlotOwnerState:o,internalForwardedProps:a}=t,l=(0,rx.A)(t,oS),{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0}}=i,h=(0,rx.A)(i,aS),p=u[e]||r,f=hw(d[e],s),m=dw((0,sx.A)({className:n},l,{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:f})),{props:{component:g},internalRef:y}=m,v=(0,rx.A)(m.props,lS),x=(0,Hx.A)(y,null==f?void 0:f.ref,t.ref),b=o?o(v):{},w=(0,sx.A)({},s,b),S="root"===e?g||c:g,k=dx(p,(0,sx.A)({},"root"===e&&!c&&!u[e]&&a,"root"!==e&&!u[e]&&a,v,S&&{as:S},{ref:x}),w);return Object.keys(b).forEach((e=>{delete k[e]})),[p,k]}const uS=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function dS(e){return(0,vw.Ay)("MuiPaper",e)}(0,yw.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const hS=["className","component","elevation","square","variant"],pS=(0,hx.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,sx.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,sx.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,ax.X4)("#fff",uS(n.elevation))}, ${(0,ax.X4)("#fff",uS(n.elevation))})`},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),fS=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiPaper"}),{className:r,component:s="div",elevation:i=1,square:o=!1,variant:a="elevation"}=n,l=(0,rx.A)(n,hS),c=(0,sx.A)({},n,{component:s,elevation:i,square:o,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:s}=e,i={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,ox.A)(i,dS,s)})(c);return(0,No.jsx)(pS,(0,sx.A)({as:s,ownerState:c,className:(0,al.A)(u.root,r),ref:t},l))}));function mS(e){return(0,vw.Ay)("MuiAlert",e)}const gS=(0,yw.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function yS(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,s.isValidElement)(e)?t(e):e}(e)})),n}function vS(e,t,n){return null!=n[t]?n[t]:e.props[t]}function xS(e,t,n){var r=yS(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,s=Object.create(null),i=[];for(var o in e)o in t?i.length&&(s[o]=i,i=[]):i.push(o);var a={};for(var l in t){if(s[l])for(r=0;r<s[l].length;r++){var c=s[l][r];a[s[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if((0,s.isValidElement)(a)){var l=o in t,c=o in r,u=t[o],d=(0,s.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,s.isValidElement)(u)&&(i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:vS(a,"exit",e),enter:vS(a,"enter",e)})):i[o]=(0,s.cloneElement)(a,{in:!1}):i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:vS(a,"exit",e),enter:vS(a,"enter",e)})}})),i}var bS=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},wS=function(e){function t(t,n){var r,s=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},r}_x(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,yS(n.children,(function(e){return(0,s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:vS(e,"appear",n),enter:vS(e,"enter",n),exit:vS(e,"exit",n)})}))):xS(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=yS(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,sx.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,rx.A)(e,["component","childFactory"]),i=this.state.contextValue,o=bS(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.createElement(Tx.Provider,{value:i},o):s.createElement(Tx.Provider,{value:i},s.createElement(t,r,o))},t}(s.Component);wS.propTypes={},wS.defaultProps={component:"div",childFactory:function(e){return e}};const SS=wS;const kS=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=s.useState(!1),p=(0,al.A)(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:a,height:a,top:-a/2+o,left:-a/2+i},m=(0,al.A)(n.child,d&&n.childLeaving,r&&n.childPulsate);return l||d||h(!0),s.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,No.jsx)("span",{className:p,style:f,children:(0,No.jsx)("span",{className:m})})};const _S=(0,yw.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),jS=["center","classes","className"];let TS,CS,ES,NS,AS=e=>e;const PS=(0,Vw.i7)(TS||(TS=AS`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),MS=(0,Vw.i7)(CS||(CS=AS`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),IS=(0,Vw.i7)(ES||(ES=AS`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),RS=(0,hx.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),OS=(0,hx.Ay)(kS,{name:"MuiTouchRipple",slot:"Ripple"})(NS||(NS=AS`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),_S.rippleVisible,PS,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),_S.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),_S.child,_S.childLeaving,MS,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),_S.childPulsate,IS,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),DS=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:o}=n,a=(0,rx.A)(n,jS),[l,c]=s.useState([]),u=s.useRef(0),d=s.useRef(null);s.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=s.useRef(!1),p=(0,ix.A)(),f=s.useRef(null),m=s.useRef(null),g=s.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:s,cb:o}=e;c((e=>[...e,(0,No.jsx)(OS,{classes:{ripple:(0,al.A)(i.ripple,_S.ripple),rippleVisible:(0,al.A)(i.rippleVisible,_S.rippleVisible),ripplePulsate:(0,al.A)(i.ripplePulsate,_S.ripplePulsate),child:(0,al.A)(i.child,_S.child),childLeaving:(0,al.A)(i.childLeaving,_S.childLeaving),childPulsate:(0,al.A)(i.childPulsate,_S.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:s},u.current)])),u.current+=1,d.current=o}),[i]),y=s.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:s=!1,center:i=r||t.pulsate,fakeElement:o=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=o?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(i)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===f.current&&(f.current=()=>{g({pulsate:s,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:s,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[r,g,p]),v=s.useCallback((()=>{y({},{pulsate:!0})}),[y]),x=s.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null==e?void 0:e.type)&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{x(e,t)}));f.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return s.useImperativeHandle(t,(()=>({pulsate:v,start:y,stop:x})),[v,y,x]),(0,No.jsx)(RS,(0,sx.A)({className:(0,al.A)(_S.root,i.root,o),ref:m},a,{children:(0,No.jsx)(SS,{component:null,exit:!0,children:l})}))})),LS=DS;function FS(e){return(0,vw.Ay)("MuiButtonBase",e)}const zS=(0,yw.A)("MuiButtonBase",["root","disabled","focusVisible"]),$S=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],BS=(0,hx.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${zS.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),US=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:g,onDragLeave:y,onFocus:v,onFocusVisible:x,onKeyDown:b,onKeyUp:w,onMouseDown:S,onMouseLeave:k,onMouseUp:_,onTouchEnd:j,onTouchMove:T,onTouchStart:C,tabIndex:E=0,TouchRippleProps:N,touchRippleRef:A,type:P}=n,M=(0,rx.A)(n,$S),I=s.useRef(null),R=s.useRef(null),O=(0,Dx.A)(R,A),{isFocusVisibleRef:D,onFocus:L,onBlur:F,ref:z}=(0,Mw.A)(),[$,B]=s.useState(!1);c&&$&&B(!1),s.useImperativeHandle(r,(()=>({focusVisible:()=>{B(!0),I.current.focus()}})),[]);const[U,W]=s.useState(!1);s.useEffect((()=>{W(!0)}),[]);const H=U&&!u&&!c;function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,Aw.A)((r=>{t&&t(r);return!n&&R.current&&R.current[e](r),!0}))}s.useEffect((()=>{$&&h&&!u&&U&&R.current.pulsate()}),[u,h,$,U]);const q=V("start",S),K=V("stop",g),Q=V("stop",y),Y=V("stop",_),G=V("stop",(e=>{$&&e.preventDefault(),k&&k(e)})),X=V("start",C),J=V("stop",j),Z=V("stop",T),ee=V("stop",(e=>{F(e),!1===D.current&&B(!1),f&&f(e)}),!1),te=(0,Aw.A)((e=>{I.current||(I.current=e.currentTarget),L(e),!0===D.current&&(B(!0),x&&x(e)),v&&v(e)})),ne=()=>{const e=I.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=s.useRef(!1),se=(0,Aw.A)((e=>{h&&!re.current&&$&&R.current&&" "===e.key&&(re.current=!0,R.current.stop(e,(()=>{R.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),b&&b(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),ie=(0,Aw.A)((e=>{h&&" "===e.key&&R.current&&$&&!e.defaultPrevented&&(re.current=!1,R.current.stop(e,(()=>{R.current.pulsate(e)}))),w&&w(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let oe=l;"button"===oe&&(M.href||M.to)&&(oe=p);const ae={};"button"===oe?(ae.type=void 0===P?"button":P,ae.disabled=c):(M.href||M.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=(0,Dx.A)(t,z,I);const ce=(0,sx.A)({},n,{centerRipple:i,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:E,focusVisible:$}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:s}=e,i={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,ox.A)(i,FS,s);return n&&r&&(o.root+=` ${r}`),o})(ce);return(0,No.jsxs)(BS,(0,sx.A)({as:oe,className:(0,al.A)(ue.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:K,onFocus:te,onKeyDown:se,onKeyUp:ie,onMouseDown:q,onMouseLeave:G,onMouseUp:Y,onDragLeave:Q,onTouchEnd:J,onTouchMove:Z,onTouchStart:X,ref:le,tabIndex:c?-1:E,type:P},ae,M,{children:[o,H?(0,No.jsx)(LS,(0,sx.A)({ref:O,center:i},N)):null]}))}));function WS(e){return(0,vw.Ay)("MuiIconButton",e)}const HS=(0,yw.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),VS=["edge","children","className","color","disabled","disableFocusRipple","size"],qS=(0,hx.Ay)(US,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,Sx.A)(n.color)}`],n.edge&&t[`edge${(0,Sx.A)(n.edge)}`],t[`size${(0,Sx.A)(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,sx.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,ax.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const s=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,sx.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,sx.A)({color:null==s?void 0:s.main},!n.disableRipple&&{"&:hover":(0,sx.A)({},s&&{backgroundColor:t.vars?`rgba(${s.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,ax.X4)(s.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${HS.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),KS=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:i,color:o="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,rx.A)(n,VS),d=(0,sx.A)({},n,{edge:r,color:o,disabled:a,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:s,size:i}=e,o={root:["root",n&&"disabled","default"!==r&&`color${(0,Sx.A)(r)}`,s&&`edge${(0,Sx.A)(s)}`,`size${(0,Sx.A)(i)}`]};return(0,ox.A)(o,WS,t)})(d);return(0,No.jsx)(qS,(0,sx.A)({className:(0,al.A)(h.root,i),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},u,{ownerState:d,children:s}))}));var QS=n(9662);const YS=(0,QS.A)((0,No.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),GS=(0,QS.A)((0,No.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),XS=(0,QS.A)((0,No.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),JS=(0,QS.A)((0,No.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ZS=(0,QS.A)((0,No.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ek=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],tk=(0,hx.Ay)(fS,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,Sx.A)(n.color||n.severity)}`]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?ax.e$:ax.a,r="light"===t.palette.mode?ax.a:ax.e$;return(0,sx.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[s]=e;return{props:{colorSeverity:s,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${s}Color`]:n(t.palette[s].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${s}StandardBg`]:r(t.palette[s].light,.9),[`& .${gS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${s}IconColor`]}:{color:t.palette[s].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${gS.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,sx.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),nk=(0,hx.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),rk=(0,hx.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),sk=(0,hx.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ik={success:(0,No.jsx)(YS,{fontSize:"inherit"}),warning:(0,No.jsx)(GS,{fontSize:"inherit"}),error:(0,No.jsx)(XS,{fontSize:"inherit"}),info:(0,No.jsx)(JS,{fontSize:"inherit"})},ok=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiAlert"}),{action:r,children:s,className:i,closeText:o="Close",color:a,components:l={},componentsProps:c={},icon:u,iconMapping:d=ik,onClose:h,role:p="alert",severity:f="success",slotProps:m={},slots:g={},variant:y="standard"}=n,v=(0,rx.A)(n,ek),x=(0,sx.A)({},n,{color:a,severity:f,variant:y,colorSeverity:a||f}),b=(e=>{const{variant:t,color:n,severity:r,classes:s}=e,i={root:["root",`color${(0,Sx.A)(n||r)}`,`${t}${(0,Sx.A)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,ox.A)(i,mS,s)})(x),w={slots:(0,sx.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},g),slotProps:(0,sx.A)({},c,m)},[S,k]=cS("closeButton",{elementType:KS,externalForwardedProps:w,ownerState:x}),[_,j]=cS("closeIcon",{elementType:ZS,externalForwardedProps:w,ownerState:x});return(0,No.jsxs)(tk,(0,sx.A)({role:p,elevation:0,ownerState:x,className:(0,al.A)(b.root,i),ref:t},v,{children:[!1!==u?(0,No.jsx)(nk,{ownerState:x,className:b.icon,children:u||d[f]||ik[f]}):null,(0,No.jsx)(rk,{ownerState:x,className:b.message,children:s}),null!=r?(0,No.jsx)(sk,{ownerState:x,className:b.action,children:r}):null,null==r&&h?(0,No.jsx)(sk,{ownerState:x,className:b.action,children:(0,No.jsx)(S,(0,sx.A)({size:"small","aria-label":o,title:o,color:"inherit",onClick:h},k,{children:(0,No.jsx)(_,(0,sx.A)({fontSize:"small"},j))}))}):null]}))}));n(2086);var ak=n(4461);let lk;function ck(){if(lk)return lk;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),lk="reverse",e.scrollLeft>0?lk="default":(e.scrollLeft=1,0===e.scrollLeft&&(lk="negative")),document.body.removeChild(e),lk}function uk(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(ck()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function dk(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var hk=n(5013),pk=n(5357);const fk=["onChange"],mk={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const gk=(0,QS.A)((0,No.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),yk=(0,QS.A)((0,No.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function vk(e){return(0,vw.Ay)("MuiTabScrollButton",e)}const xk=(0,yw.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),bk=["className","slots","slotProps","direction","orientation","disabled"],wk=(0,hx.Ay)(US,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((e=>{let{ownerState:t}=e;return(0,sx.A)({width:40,flexShrink:0,opacity:.8,[`&.${xk.disabled}`]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})})),Sk=s.forwardRef((function(e,t){var n,r;const s=(0,wx.b)({props:e,name:"MuiTabScrollButton"}),{className:i,slots:o={},slotProps:a={},direction:l}=s,c=(0,rx.A)(s,bk),u=cx(),d=(0,sx.A)({isRtl:u},s),h=(e=>{const{classes:t,orientation:n,disabled:r}=e,s={root:["root",n,r&&"disabled"]};return(0,ox.A)(s,vk,t)})(d),p=null!=(n=o.StartScrollButtonIcon)?n:gk,f=null!=(r=o.EndScrollButtonIcon)?r:yk,m=fw({elementType:p,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),g=fw({elementType:f,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,No.jsx)(wk,(0,sx.A)({component:"div",className:(0,al.A)(h.root,i),ref:t,role:null,ownerState:d,tabIndex:null},c,{children:"left"===l?(0,No.jsx)(p,(0,sx.A)({},m)):(0,No.jsx)(f,(0,sx.A)({},g))}))}));function kk(e){return(0,vw.Ay)("MuiTabs",e)}const _k=(0,yw.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var jk=n(2427);const Tk=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Ck=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Ek=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Nk=(e,t,n)=>{let r=!1,s=n(e,t);for(;s;){if(s===e.firstChild){if(r)return;r=!0}const t=s.disabled||"true"===s.getAttribute("aria-disabled");if(s.hasAttribute("tabindex")&&!t)return void s.focus();s=n(e,s)}},Ak=(0,hx.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${_k.scrollButtons}`]:t.scrollButtons},{[`& .${_k.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((e=>{let{ownerState:t,theme:n}=e;return(0,sx.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${_k.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}})})),Pk=(0,hx.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((e=>{let{ownerState:t}=e;return(0,sx.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),Mk=(0,hx.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((e=>{let{ownerState:t}=e;return(0,sx.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),Ik=(0,hx.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((e=>{let{ownerState:t,theme:n}=e;return(0,sx.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),Rk=(0,hx.Ay)((function(e){const{onChange:t}=e,n=(0,rx.A)(e,fk),r=s.useRef(),i=s.useRef(null),o=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return(0,hk.A)((()=>{const e=(0,ak.A)((()=>{const e=r.current;o(),e!==r.current&&t(r.current)})),n=(0,pk.A)(i.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),s.useEffect((()=>{o(),t(r.current)}),[t]),(0,No.jsx)("div",(0,sx.A)({style:mk,ref:i},n))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Ok={};const Dk=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiTabs"}),r=bx(),i=cx(),{"aria-label":o,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:h="div",allowScrollButtonsMobile:p=!1,indicatorColor:f="primary",onChange:m,orientation:g="horizontal",ScrollButtonComponent:y=Sk,scrollButtons:v="auto",selectionFollowsFocus:x,slots:b={},slotProps:w={},TabIndicatorProps:S={},TabScrollButtonProps:k={},textColor:_="primary",value:j,variant:T="standard",visibleScrollbar:C=!1}=n,E=(0,rx.A)(n,Tk),N="scrollable"===T,A="vertical"===g,P=A?"scrollTop":"scrollLeft",M=A?"top":"left",I=A?"bottom":"right",R=A?"clientHeight":"clientWidth",O=A?"height":"width",D=(0,sx.A)({},n,{component:h,allowScrollButtonsMobile:p,indicatorColor:f,orientation:g,vertical:A,scrollButtons:v,textColor:_,variant:T,visibleScrollbar:C,fixed:!N,hideScrollbar:N&&!C,scrollableX:N&&!A,scrollableY:N&&A,centered:c&&!N,scrollButtonsHideMobile:!p}),L=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:s,scrollableY:i,centered:o,scrollButtonsHideMobile:a,classes:l}=e,c={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",s&&"scrollableX",i&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,ox.A)(c,kk,l)})(D),F=fw({elementType:b.StartScrollButtonIcon,externalSlotProps:w.startScrollButtonIcon,ownerState:D}),z=fw({elementType:b.EndScrollButtonIcon,externalSlotProps:w.endScrollButtonIcon,ownerState:D});const[$,B]=s.useState(!1),[U,W]=s.useState(Ok),[H,V]=s.useState(!1),[q,K]=s.useState(!1),[Q,Y]=s.useState(!1),[G,X]=s.useState({overflow:"hidden",scrollbarWidth:0}),J=new Map,Z=s.useRef(null),ee=s.useRef(null),te=()=>{const e=Z.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:uk(e,i?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==j){const e=ee.current.children;if(e.length>0){const t=e[J.get(j)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ne=(0,Aw.A)((()=>{const{tabsMeta:e,tabMeta:t}=te();let n,r=0;if(A)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=i?"right":"left",t&&e){const s=i?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(i?-1:1)*(t[n]-e[n]+s)}const s={[n]:r,[O]:t?t[O]:0};if(isNaN(U[n])||isNaN(U[O]))W(s);else{const e=Math.abs(U[n]-s[n]),t=Math.abs(U[O]-s[O]);(e>=1||t>=1)&&W(s)}})),re=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:i=dk,duration:o=300}=r;let a=null;const l=t[e];let c=!1;const u=()=>{c=!0},d=r=>{if(c)return void s(new Error("Animation cancelled"));null===a&&(a=r);const u=Math.min(1,(r-a)/o);t[e]=i(u)*(n-l)+l,u>=1?requestAnimationFrame((()=>{s(null)})):requestAnimationFrame(d)};l===n?s(new Error("Element already at target position")):requestAnimationFrame(d)}(P,Z.current,e,{duration:r.transitions.duration.standard}):Z.current[P]=e},se=e=>{let t=Z.current[P];A?t+=e:(t+=e*(i?-1:1),t*=i&&"reverse"===ck()?-1:1),re(t)},ie=()=>{const e=Z.current[R];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const s=n[r];if(t+s[R]>e){0===r&&(t=e);break}t+=s[R]}return t},oe=()=>{se(-1*ie())},ae=()=>{se(ie())},le=s.useCallback((e=>{X({overflow:null,scrollbarWidth:e})}),[]),ce=(0,Aw.A)((e=>{const{tabsMeta:t,tabMeta:n}=te();if(n&&t)if(n[M]<t[M]){const r=t[P]+(n[M]-t[M]);re(r,{animation:e})}else if(n[I]>t[I]){const r=t[P]+(n[I]-t[I]);re(r,{animation:e})}})),ue=(0,Aw.A)((()=>{N&&!1!==v&&Y(!Q)}));s.useEffect((()=>{const e=(0,ak.A)((()=>{Z.current&&ne()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{var n;null==(n=t)||n.unobserve(e)})),e.addedNodes.forEach((e=>{var n;null==(n=t)||n.observe(e)}))})),e(),ue()},r=(0,pk.A)(Z.current);let s;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(s=new MutationObserver(n),s.observe(ee.current,{childList:!0})),()=>{var n,i;e.clear(),r.removeEventListener("resize",e),null==(n=s)||n.disconnect(),null==(i=t)||i.disconnect()}}),[ne,ue]),s.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&N&&!1!==v){const n=e[0],r=e[t-1],s={root:Z.current,threshold:.99},i=new IntersectionObserver((e=>{V(!e[0].isIntersecting)}),s);i.observe(n);const o=new IntersectionObserver((e=>{K(!e[0].isIntersecting)}),s);return o.observe(r),()=>{i.disconnect(),o.disconnect()}}}),[N,v,Q,null==u?void 0:u.length]),s.useEffect((()=>{B(!0)}),[]),s.useEffect((()=>{ne()})),s.useEffect((()=>{ce(Ok!==U)}),[ce,U]),s.useImperativeHandle(l,(()=>({updateIndicator:ne,updateScrollButtons:ue})),[ne,ue]);const de=(0,No.jsx)(Ik,(0,sx.A)({},S,{className:(0,al.A)(L.indicator,S.className),ownerState:D,style:(0,sx.A)({},U,S.style)}));let he=0;const pe=s.Children.map(u,(e=>{if(!s.isValidElement(e))return null;const t=void 0===e.props.value?he:e.props.value;J.set(t,he);const n=t===j;return he+=1,s.cloneElement(e,(0,sx.A)({fullWidth:"fullWidth"===T,indicator:n&&!$&&de,selected:n,selectionFollowsFocus:x,onChange:m,textColor:_,value:t},1!==he||!1!==j||e.props.tabIndex?{}:{tabIndex:0}))})),fe=(()=>{const e={};e.scrollbarSizeListener=N?(0,No.jsx)(Rk,{onChange:le,className:(0,al.A)(L.scrollableX,L.hideScrollbar)}):null;const t=N&&("auto"===v&&(H||q)||!0===v);return e.scrollButtonStart=t?(0,No.jsx)(y,(0,sx.A)({slots:{StartScrollButtonIcon:b.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:F},orientation:g,direction:i?"right":"left",onClick:oe,disabled:!H},k,{className:(0,al.A)(L.scrollButtons,k.className)})):null,e.scrollButtonEnd=t?(0,No.jsx)(y,(0,sx.A)({slots:{EndScrollButtonIcon:b.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:z},orientation:g,direction:i?"left":"right",onClick:ae,disabled:!q},k,{className:(0,al.A)(L.scrollButtons,k.className)})):null,e})();return(0,No.jsxs)(Ak,(0,sx.A)({className:(0,al.A)(L.root,d),ownerState:D,ref:t,as:h},E,{children:[fe.scrollButtonStart,fe.scrollbarSizeListener,(0,No.jsxs)(Pk,{className:L.scroller,ownerState:D,style:{overflow:G.overflow,[A?"margin"+(i?"Left":"Right"):"marginBottom"]:C?void 0:-G.scrollbarWidth},ref:Z,children:[(0,No.jsx)(Mk,{"aria-label":o,"aria-labelledby":a,"aria-orientation":"vertical"===g?"vertical":null,className:L.flexContainer,ownerState:D,onKeyDown:e=>{const t=ee.current,n=(0,jk.A)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===g?"ArrowLeft":"ArrowUp",s="horizontal"===g?"ArrowRight":"ArrowDown";switch("horizontal"===g&&i&&(r="ArrowRight",s="ArrowLeft"),e.key){case r:e.preventDefault(),Nk(t,n,Ek);break;case s:e.preventDefault(),Nk(t,n,Ck);break;case"Home":e.preventDefault(),Nk(t,null,Ck);break;case"End":e.preventDefault(),Nk(t,null,Ek)}},ref:ee,role:"tablist",children:pe}),$&&de]}),fe.scrollButtonEnd]}))})),Lk=Dk;function Fk(e){return(0,vw.Ay)("MuiTab",e)}const zk=(0,yw.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),$k=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Bk=(0,hx.Ay)(US,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${(0,Sx.A)(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${zk.iconWrapper}`]:t.iconWrapper}]}})((e=>{let{theme:t,ownerState:n}=e;return(0,sx.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${zk.iconWrapper}`]:(0,sx.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:t.spacing(1)},"end"===n.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,[`&.${zk.selected}`]:{opacity:1},[`&.${zk.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${zk.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${zk.disabled}`]:{color:(t.vars||t).palette.text.disabled}},"secondary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${zk.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${zk.disabled}`]:{color:(t.vars||t).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:t.typography.pxToRem(12)})})),Uk=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiTab"}),{className:r,disabled:i=!1,disableFocusRipple:o=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:h,onClick:p,onFocus:f,selected:m,selectionFollowsFocus:g,textColor:y="inherit",value:v,wrapped:x=!1}=n,b=(0,rx.A)(n,$k),w=(0,sx.A)({},n,{disabled:i,disableFocusRipple:o,selected:m,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:y,wrapped:x}),S=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:s,icon:i,label:o,selected:a,disabled:l}=e,c={root:["root",i&&o&&"labelIcon",`textColor${(0,Sx.A)(n)}`,r&&"fullWidth",s&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,ox.A)(c,Fk,t)})(w),k=l&&d&&s.isValidElement(l)?s.cloneElement(l,{className:(0,al.A)(S.iconWrapper,l.props.className)}):l;return(0,No.jsxs)(Bk,(0,sx.A)({focusRipple:!o,className:(0,al.A)(S.root,r),ref:t,role:"tab","aria-selected":m,disabled:i,onClick:e=>{!m&&h&&h(e,v),p&&p(e)},onFocus:e=>{g&&!m&&h&&h(e,v),f&&f(e)},ownerState:w,tabIndex:m?0:-1},b,{children:["top"===c||"start"===c?(0,No.jsxs)(s.Fragment,{children:[k,d]}):(0,No.jsxs)(s.Fragment,{children:[d,k]}),u]}))}));var Wk=n(7030);const Hk=s.createContext();function Vk(e){return(0,vw.Ay)("MuiTable",e)}(0,yw.A)("MuiTable",["root","stickyHeader"]);const qk=["className","component","padding","size","stickyHeader"],Kk=(0,hx.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,sx.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,sx.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),Qk="table",Yk=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiTable"}),{className:r,component:i=Qk,padding:o="normal",size:a="medium",stickyHeader:l=!1}=n,c=(0,rx.A)(n,qk),u=(0,sx.A)({},n,{component:i,padding:o,size:a,stickyHeader:l}),d=(e=>{const{classes:t,stickyHeader:n}=e,r={root:["root",n&&"stickyHeader"]};return(0,ox.A)(r,Vk,t)})(u),h=s.useMemo((()=>({padding:o,size:a,stickyHeader:l})),[o,a,l]);return(0,No.jsx)(Hk.Provider,{value:h,children:(0,No.jsx)(Kk,(0,sx.A)({as:i,role:i===Qk?null:"table",ref:t,className:(0,al.A)(d.root,r),ownerState:u},c))})}));const Gk=s.createContext();function Xk(e){return(0,vw.Ay)("MuiTableBody",e)}(0,yw.A)("MuiTableBody",["root"]);const Jk=["className","component"],Zk=(0,hx.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),e_={variant:"body"},t_="tbody",n_=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiTableBody"}),{className:r,component:s=t_}=n,i=(0,rx.A)(n,Jk),o=(0,sx.A)({},n,{component:s}),a=(e=>{const{classes:t}=e;return(0,ox.A)({root:["root"]},Xk,t)})(o);return(0,No.jsx)(Gk.Provider,{value:e_,children:(0,No.jsx)(Zk,(0,sx.A)({className:(0,al.A)(a.root,r),as:s,ref:t,role:s===t_?null:"rowgroup",ownerState:o},i))})}));function r_(e){return(0,vw.Ay)("MuiTableCell",e)}const s_=(0,yw.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),i_=["align","className","component","padding","scope","size","sortDirection","variant"],o_=(0,hx.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,Sx.A)(n.size)}`],"normal"!==n.padding&&t[`padding${(0,Sx.A)(n.padding)}`],"inherit"!==n.align&&t[`align${(0,Sx.A)(n.align)}`],n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,sx.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===t.palette.mode?(0,ax.a)((0,ax.X4)(t.palette.divider,1),.88):(0,ax.e$)((0,ax.X4)(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",[`&.${s_.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),a_=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiTableCell"}),{align:r="inherit",className:i,component:o,padding:a,scope:l,size:c,sortDirection:u,variant:d}=n,h=(0,rx.A)(n,i_),p=s.useContext(Hk),f=s.useContext(Gk),m=f&&"head"===f.variant;let g;g=o||(m?"th":"td");let y=l;"td"===g?y=void 0:!y&&m&&(y="col");const v=d||f&&f.variant,x=(0,sx.A)({},n,{align:r,component:g,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:"head"===v&&p&&p.stickyHeader,variant:v}),b=(e=>{const{classes:t,variant:n,align:r,padding:s,size:i,stickyHeader:o}=e,a={root:["root",n,o&&"stickyHeader","inherit"!==r&&`align${(0,Sx.A)(r)}`,"normal"!==s&&`padding${(0,Sx.A)(s)}`,`size${(0,Sx.A)(i)}`]};return(0,ox.A)(a,r_,t)})(x);let w=null;return u&&(w="asc"===u?"ascending":"descending"),(0,No.jsx)(o_,(0,sx.A)({as:g,ref:t,className:(0,al.A)(b.root,i),"aria-sort":w,scope:y,ownerState:x},h))}));function l_(e){return(0,vw.Ay)("MuiTableContainer",e)}(0,yw.A)("MuiTableContainer",["root"]);const c_=["className","component"],u_=(0,hx.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),d_=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiTableContainer"}),{className:r,component:s="div"}=n,i=(0,rx.A)(n,c_),o=(0,sx.A)({},n,{component:s}),a=(e=>{const{classes:t}=e;return(0,ox.A)({root:["root"]},l_,t)})(o);return(0,No.jsx)(u_,(0,sx.A)({ref:t,as:s,className:(0,al.A)(a.root,r),ownerState:o},i))}));function h_(e){return(0,vw.Ay)("MuiTableHead",e)}(0,yw.A)("MuiTableHead",["root"]);const p_=["className","component"],f_=(0,hx.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),m_={variant:"head"},g_="thead",y_=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiTableHead"}),{className:r,component:s=g_}=n,i=(0,rx.A)(n,p_),o=(0,sx.A)({},n,{component:s}),a=(e=>{const{classes:t}=e;return(0,ox.A)({root:["root"]},h_,t)})(o);return(0,No.jsx)(Gk.Provider,{value:m_,children:(0,No.jsx)(f_,(0,sx.A)({as:s,className:(0,al.A)(a.root,r),ref:t,role:s===g_?null:"rowgroup",ownerState:o},i))})}));function v_(e){return(0,vw.Ay)("MuiTableRow",e)}const x_=(0,yw.A)("MuiTableRow",["root","selected","hover","head","footer"]),b_=["className","component","hover","selected"],w_=(0,hx.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${x_.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${x_.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,ax.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,ax.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),S_="tr",k_=s.forwardRef((function(e,t){const n=(0,wx.b)({props:e,name:"MuiTableRow"}),{className:r,component:i=S_,hover:o=!1,selected:a=!1}=n,l=(0,rx.A)(n,b_),c=s.useContext(Gk),u=(0,sx.A)({},n,{component:i,hover:o,selected:a,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),d=(e=>{const{classes:t,selected:n,hover:r,head:s,footer:i}=e,o={root:["root",n&&"selected",r&&"hover",s&&"head",i&&"footer"]};return(0,ox.A)(o,v_,t)})(u);return(0,No.jsx)(w_,(0,sx.A)({as:i,ref:t,className:(0,al.A)(d.root,r),role:i===S_?null:"row",ownerState:u},l))}));function __(e){return e+.5|0}const j_=(e,t,n)=>Math.max(Math.min(e,n),t);function T_(e){return j_(__(2.55*e),0,255)}function C_(e){return j_(__(255*e),0,255)}function E_(e){return j_(__(e/2.55)/100,0,1)}function N_(e){return j_(__(100*e),0,100)}const A_={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},P_=[..."0123456789ABCDEF"],M_=e=>P_[15&e],I_=e=>P_[(240&e)>>4]+P_[15&e],R_=e=>(240&e)>>4===(15&e);function O_(e){var t=(e=>R_(e.r)&&R_(e.g)&&R_(e.b)&&R_(e.a))(e)?M_:I_;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const D_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function L_(e,t,n){const r=t*Math.min(n,1-n),s=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function F_(e,t,n){const r=function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(s,4-s,1),0)};return[r(5),r(3),r(1)]}function z_(e,t,n){const r=L_(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function $_(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(t,n,r),i=Math.min(t,n,r),o=(s+i)/2;let a,l,c;return s!==i&&(c=s-i,l=o>.5?c/(2-s-i):c/(s+i),a=function(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,s),a=60*a+.5),[0|a,l||0,o]}function B_(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(C_)}function U_(e,t,n){return B_(L_,e,t,n)}function W_(e){return(e%360+360)%360}function H_(e){const t=D_.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?T_(+t[5]):C_(+t[5]));const s=W_(+t[2]),i=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return B_(z_,e,t,n)}(s,i,o):"hsv"===t[1]?function(e,t,n){return B_(F_,e,t,n)}(s,i,o):U_(s,i,o),{r:n[0],g:n[1],b:n[2],a:r}}const V_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},q_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let K_;function Q_(e){K_||(K_=function(){const e={},t=Object.keys(q_),n=Object.keys(V_);let r,s,i,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,V_[i]);i=parseInt(q_[o],16),e[a]=[i>>16&255,i>>8&255,255&i]}return e}(),K_.transparent=[0,0,0,0]);const t=K_[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Y_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const G_=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,X_=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function J_(e,t,n){if(e){let r=$_(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=U_(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Z_(e,t){return e?Object.assign(t||{},e):e}function ej(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=C_(e[3]))):(t=Z_(e,{r:0,g:0,b:0,a:1})).a=C_(t.a),t}function tj(e){return"r"===e.charAt(0)?function(e){const t=Y_.exec(e);let n,r,s,i=255;if(t){if(t[7]!==n){const e=+t[7];i=t[8]?T_(e):j_(255*e,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?T_(n):j_(n,0,255)),r=255&(t[4]?T_(r):j_(r,0,255)),s=255&(t[6]?T_(s):j_(s,0,255)),{r:n,g:r,b:s,a:i}}}(e):H_(e)}class nj{constructor(e){if(e instanceof nj)return e;const t=typeof e;let n;"object"===t?n=ej(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*A_[e[1]],g:255&17*A_[e[2]],b:255&17*A_[e[3]],a:5===n?17*A_[e[4]]:255}:7!==n&&9!==n||(t={r:A_[e[1]]<<4|A_[e[2]],g:A_[e[3]]<<4|A_[e[4]],b:A_[e[5]]<<4|A_[e[6]],a:9===n?A_[e[7]]<<4|A_[e[8]]:255})),t}(e)||Q_(e)||tj(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Z_(this._rgb);return e&&(e.a=E_(e.a)),e}set rgb(e){this._rgb=ej(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${E_(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?O_(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=$_(e),n=t[0],r=N_(t[1]),s=N_(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${E_(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const i=t===s?.5:t,o=2*i-1,a=n.a-r.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;s=1-l,n.r=255&l*n.r+s*r.r+.5,n.g=255&l*n.g+s*r.g+.5,n.b=255&l*n.b+s*r.b+.5,n.a=i*n.a+(1-i)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=X_(E_(e.r)),s=X_(E_(e.g)),i=X_(E_(e.b));return{r:C_(G_(r+n*(X_(E_(t.r))-r))),g:C_(G_(s+n*(X_(E_(t.g))-s))),b:C_(G_(i+n*(X_(E_(t.b))-i))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new nj(this.rgb)}alpha(e){return this._rgb.a=C_(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=__(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return J_(this._rgb,2,e),this}darken(e){return J_(this._rgb,2,-e),this}saturate(e){return J_(this._rgb,1,e),this}desaturate(e){return J_(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=$_(e);n[0]=W_(n[0]+t),n=U_(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function rj(){}const sj=(()=>{let e=0;return()=>e++})();function ij(e){return null===e||void 0===e}function oj(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function aj(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function lj(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function cj(e,t){return lj(e)?e:t}function uj(e,t){return"undefined"===typeof e?t:e}const dj=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function hj(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function pj(e,t,n,r){let s,i,o;if(oj(e))if(i=e.length,r)for(s=i-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<i;s++)t.call(n,e[s],s);else if(aj(e))for(o=Object.keys(e),i=o.length,s=0;s<i;s++)t.call(n,e[o[s]],o[s])}function fj(e,t){let n,r,s,i;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],i=t[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function mj(e){if(oj(e))return e.map(mj);if(aj(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=mj(e[n[s]]);return t}return e}function gj(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function yj(e,t,n,r){if(!gj(e))return;const s=t[e],i=n[e];aj(s)&&aj(i)?vj(s,i,r):t[e]=mj(i)}function vj(e,t,n){const r=oj(t)?t:[t],s=r.length;if(!aj(e))return e;const i=(n=n||{}).merger||yj;let o;for(let a=0;a<s;++a){if(o=r[a],!aj(o))continue;const t=Object.keys(o);for(let r=0,s=t.length;r<s;++r)i(t[r],e,o,n)}return e}function xj(e,t){return vj(e,t,{merger:bj})}function bj(e,t,n){if(!gj(e))return;const r=t[e],s=n[e];aj(r)&&aj(s)?xj(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=mj(s))}const wj={"":e=>e,x:e=>e.x,y:e=>e.y};function Sj(e,t){const n=wj[t]||(wj[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function kj(e){return e.charAt(0).toUpperCase()+e.slice(1)}const _j=e=>"undefined"!==typeof e,jj=e=>"function"===typeof e,Tj=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Cj=Math.PI,Ej=2*Cj,Nj=Number.POSITIVE_INFINITY,Aj=Cj/180,Pj=Cj/2,Mj=Cj/4,Ij=2*Cj/3,Rj=Math.log10,Oj=Math.sign;function Dj(e,t,n){return Math.abs(e-t)<n}function Lj(e){const t=Math.round(e);e=Dj(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Rj(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Fj(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function zj(e,t,n){let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r][n],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}function $j(e){return e*(Cj/180)}function Bj(e){return e*(180/Cj)}function Uj(e){if(!lj(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Wj(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*Cj&&(i+=Ej),{angle:i,distance:s}}function Hj(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Vj(e){return(e%Ej+Ej)%Ej}function qj(e,t,n,r){const s=Vj(e),i=Vj(t),o=Vj(n),a=Vj(i-s),l=Vj(o-s),c=Vj(s-i),u=Vj(s-o);return s===i||s===o||r&&i===o||a>l&&c<u}function Kj(e,t,n){return Math.max(t,Math.min(n,e))}function Qj(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Yj(e,t,n){n=n||(n=>e[n]<t);let r,s=e.length-1,i=0;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Gj=(e,t,n,r)=>Yj(e,n,r?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),Xj=(e,t,n)=>Yj(e,n,(r=>e[r][t]>=n));const Jj=["push","pop","shift","splice","unshift"];function Zj(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);-1!==s&&r.splice(s,1),r.length>0||(Jj.forEach((t=>{delete e[t]})),delete e._chartjs)}function eT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const tT="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function nT(e,t){let n=[],r=!1;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];n=i,r||(r=!0,tT.call(window,(()=>{r=!1,e.apply(t,n)})))}}const rT=e=>"start"===e?"left":"end"===e?"right":"center",sT=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;const iT=e=>0===e||1===e,oT=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ej/n),aT=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ej/n)+1,lT={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Pj),easeOutSine:e=>Math.sin(e*Pj),easeInOutSine:e=>-.5*(Math.cos(Cj*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>iT(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>iT(e)?e:oT(e,.075,.3),easeOutElastic:e=>iT(e)?e:aT(e,.075,.3),easeInOutElastic(e){const t=.1125;return iT(e)?e:e<.5?.5*oT(2*e,t,.45):.5+.5*aT(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-lT.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*lT.easeInBounce(2*e):.5*lT.easeOutBounce(2*e-1)+.5};function cT(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function uT(e){return cT(e)?e:new nj(e)}function dT(e){return cT(e)?e:new nj(e).saturate(.5).darken(.1).hexString()}const hT=["x","y","borderWidth","radius","tension"],pT=["color","borderColor","backgroundColor"];const fT=new Map;function mT(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=fT.get(n);return r||(r=new Intl.NumberFormat(e,t),fT.set(n,r)),r}(t,n).format(e)}const gT={values:e=>oj(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let s,i=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),i=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=Rj(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),mT(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Rj(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?gT.numeric.call(this,e,t,n):""}};var yT={formatters:gT};const vT=Object.create(null),xT=Object.create(null);function bT(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function wT(e,t,n){return"string"===typeof t?vj(bT(e,t),n):vj(bT(e,""),t)}class ST{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>dT(t.backgroundColor),this.hoverBorderColor=(e,t)=>dT(t.borderColor),this.hoverColor=(e,t)=>dT(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return wT(this,e,t)}get(e){return bT(this,e)}describe(e,t){return wT(xT,e,t)}override(e,t){return wT(vT,e,t)}route(e,t,n,r){const s=bT(this,e),i=bT(this,n),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=i[r];return aj(e)?Object.assign({},t,e):uj(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var kT=new ST({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:pT},numbers:{type:"number",properties:hT}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function _T(e,t,n,r,s){let i=t[s];return i||(i=t[s]=e.measureText(s).width,n.push(s)),i>r&&(r=i),r}function jT(e,t,n){const r=e.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function TT(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function CT(e,t,n,r){ET(e,t,n,r,null)}function ET(e,t,n,r,s){let i,o,a,l,c,u,d,h;const p=t.pointStyle,f=t.rotation,m=t.radius;let g=(f||0)*Aj;if(p&&"object"===typeof p&&(i=p.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:s?e.ellipse(n,r,s/2,m,0,0,Ej):e.arc(n,r,m,0,Ej),e.closePath();break;case"triangle":u=s?s/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Ij,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=Ij,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,o=Math.cos(g+Mj)*l,d=Math.cos(g+Mj)*(s?s/2-c:l),a=Math.sin(g+Mj)*l,h=Math.sin(g+Mj)*(s?s/2-c:l),e.arc(n-d,r-a,c,g-Cj,g-Pj),e.arc(n+h,r-o,c,g-Pj,g),e.arc(n+d,r+a,c,g,g+Pj),e.arc(n-h,r+o,c,g+Pj,g+Cj),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,u=s?s/2:l,e.rect(n-u,r-l,2*u,2*l);break}g+=Mj;case"rectRot":d=Math.cos(g)*(s?s/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(n-d,r-a),e.lineTo(n+h,r-o),e.lineTo(n+d,r+a),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":g+=Mj;case"cross":d=Math.cos(g)*(s?s/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":d=Math.cos(g)*(s?s/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),g+=Mj,d=Math.cos(g)*(s?s/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=s?s/2:Math.cos(g)*m,a=Math.sin(g)*m,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(s?s/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function NT(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function AT(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function PT(e){e.restore()}function MT(e,t,n,r,s){if(s.strikethrough||s.underline){const i=e.measureText(r),o=t-i.actualBoundingBoxLeft,a=t+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function IT(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function RT(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=oj(t)?t:[t],a=i.strokeWidth>0&&""!==i.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ij(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&IT(e,i.backdrop),a&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),ij(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,n,r,i.maxWidth)),e.fillText(c,n,r,i.maxWidth),MT(e,n,r,c,i),r+=Number(s.lineHeight);e.restore()}function OT(e,t){const{x:n,y:r,w:s,h:i,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Cj,Cj,!0),e.lineTo(n,r+i-o.bottomLeft),e.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,Cj,Pj,!0),e.lineTo(n+s-o.bottomRight,r+i),e.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Pj,0,!0),e.lineTo(n+s,r+o.topRight),e.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Pj,!0),e.lineTo(n+o.topLeft,r)}const DT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,LT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FT(e,t){const n=(""+e).match(DT);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function zT(e,t){const n={},r=aj(t),s=r?Object.keys(t):t,i=aj(e)?r?n=>uj(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of s)n[o]=+i(o)||0;return n}function $T(e){return zT(e,{top:"y",right:"x",bottom:"y",left:"x"})}function BT(e){return zT(e,["topLeft","topRight","bottomLeft","bottomRight"])}function UT(e){const t=$T(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function WT(e,t){e=e||{},t=t||kT.font;let n=uj(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=uj(e.style,t.style);r&&!(""+r).match(LT)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:uj(e.family,t.family),lineHeight:FT(uj(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:uj(e.weight,t.weight),string:""};return s.string=function(e){return!e||ij(e.size)||ij(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function HT(e,t,n,r){let s,i,o,a=!0;for(s=0,i=e.length;s<i;++s)if(o=e[s],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),a=!1),void 0!==n&&oj(o)&&(o=o[n%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function VT(e,t){return Object.assign(Object.create(e),t)}function qT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const s=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=rC("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:r,override:r=>qT([r,...e],t,s,n)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>XT(n,r,(()=>function(e,t,n,r){let s;for(const i of t)if(s=rC(YT(i,e),n),"undefined"!==typeof s)return GT(e,s)?tC(n,r,e,s):s}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>sC(e).includes(t),ownKeys:e=>sC(e),set(e,t,n){const s=e._storage||(e._storage=r());return e[t]=s[t]=n,delete e._keys,!0}})}function KT(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:QT(e,r),setContext:t=>KT(e,t,n,r),override:s=>KT(e.override(s),t,n,r)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>XT(e,t,(()=>function(e,t,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=e;let a=r[t];jj(a)&&o.isScriptable(t)&&(a=function(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(i,o||r);a.delete(e),GT(e,l)&&(l=tC(s._scopes,s,e,l));return l}(t,a,e,n));oj(a)&&a.length&&(a=function(e,t,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof i.index&&r(e))return t[i.index%t.length];if(aj(t[0])){const n=t,r=s._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=tC(r,s,e,l);t.push(KT(n,i,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));GT(t,a)&&(a=KT(a,s,i&&i[t],o));return a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function QT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:jj(n)?n:()=>n,isIndexable:jj(r)?r:()=>r}}const YT=(e,t)=>e?e+kj(t):t,GT=(e,t)=>aj(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function XT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function JT(e,t,n){return jj(e)?e(t,n):e}const ZT=(e,t)=>!0===e?t:"string"===typeof e?Sj(t,e):void 0;function eC(e,t,n,r,s){for(const i of t){const t=ZT(n,i);if(t){e.add(t);const i=JT(t._fallback,n,s);if("undefined"!==typeof i&&i!==n&&i!==r)return i}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function tC(e,t,n,r){const s=t._rootScopes,i=JT(t._fallback,n,r),o=[...e,...s],a=new Set;a.add(r);let l=nC(a,o,n,i||n,r);return null!==l&&(("undefined"===typeof i||i===n||(l=nC(a,o,i,l,r),null!==l))&&qT(Array.from(a),[""],s,i,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];if(oj(s)&&aj(n))return n;return s||{}}(t,n,r))))}function nC(e,t,n,r,s){for(;n;)n=eC(e,t,n,r,s);return n}function rC(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function sC(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}Number.EPSILON;function iC(){return"undefined"!==typeof window&&"undefined"!==typeof document}function oC(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function aC(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const lC=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const cC=["top","right","bottom","left"];function uC(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=cC[s];r[i]=parseFloat(e[t+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function dC(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=lC(n),i="border-box"===s.boxSizing,o=uC(s,"padding"),a=uC(s,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:i}=r;let o,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(s,i,e.target))o=s,a=i;else{const e=t.getBoundingClientRect();o=r.clientX-e.left,a=r.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:p,height:f}=t;return i&&(p-=o.width+a.width,f-=o.height+a.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-h)/f*n.height/r)}}const hC=e=>Math.round(10*e)/10;function pC(e,t,n,r){const s=lC(e),i=uC(s,"margin"),o=aC(s.maxWidth,e,"clientWidth")||Nj,a=aC(s.maxHeight,e,"clientHeight")||Nj,l=function(e,t,n){let r,s;if(void 0===t||void 0===n){const i=e&&oC(e);if(i){const e=i.getBoundingClientRect(),o=lC(i),a=uC(o,"border","width"),l=uC(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,r=aC(o.maxWidth,i,"clientWidth"),s=aC(o.maxHeight,i,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Nj,maxHeight:s||Nj}}(e,t,n);let{width:c,height:u}=l;if("content-box"===s.boxSizing){const e=uC(s,"border","width"),t=uC(s,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=hC(Math.min(c,o,l.maxWidth)),u=hC(Math.min(u,a,l.maxHeight)),c&&!u&&(u=hC(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=hC(Math.floor(u*r))),{width:c,height:u}}function fC(e,t,n){const r=t||1,s=Math.floor(e.height*r),i=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||o.height!==s||o.width!==i)&&(e.currentDevicePixelRatio=r,o.height=s,o.width=i,e.ctx.setTransform(r,0,0,r,0,0),!0)}const mC=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};iC()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(nU){}return e}();function gC(e,t){const n=function(e,t){return lC(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function yC(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function vC(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function xC(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}class bC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],i=t.duration;s.forEach((r=>r({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(n-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=tT.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let i,o=s.length-1,a=!1;for(;o>=0;--o)i=s[o],i._active?(i._total>n.duration&&(n.duration=i._total),i.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var wC=new bC;const SC="transparent",kC={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=uT(e||SC),s=r.valid&&uT(t||SC);return s&&s.valid?s.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class _C{constructor(e,t,n,r){const s=t[n];r=HT([e.to,r,s,e.from]);const i=HT([e.from,s,r]);this._active=!0,this._fn=e.fn||kC[e.type||typeof i],this._easing=lT[e.easing]||lT.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=i,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=HT([e.to,t,r,e.from]),this._from=HT([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,i=this._loop,o=this._to;let a;if(this._active=s!==o&&(i||t<n),!this._active)return this._target[r]=o,void this._notify(!0);t<0?this._target[r]=s:(a=t/n%2,a=i&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(s,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class jC{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!aj(e))return;const t=Object.keys(kT.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const s=e[r];if(!aj(s))return;const i={};for(const e of t)i[e]=s[e];(oj(s.properties)&&s.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,i)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const t=e[r[s]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),i=Object.keys(t),o=Date.now();let a;for(a=i.length-1;a>=0;--a){const l=i[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=s[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}d&&d.duration?(s[l]=u=new _C(d,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(wC.add(this._chart,n),!0):void 0}}function TC(e,t){const n=e&&e.options||{},r=n.reverse,s=void 0===n.min?t:0,i=void 0===n.max?t:0;return{start:r?i:s,end:r?s:i}}function CC(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function EC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.keys,i="single"===r.mode;let o,a,l,c;if(null===t)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,r.all)continue;break}c=e.values[l],lj(c)&&(i||0===t||Oj(t)===Oj(c))&&(t+=c)}return u||r.all?t:0}function NC(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function AC(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function PC(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const t=e[s.index];if(n&&t>0||!n&&t<0)return s.index}return null}function MC(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(i,o,r),d=t.length;let h;for(let p=0;p<d;++p){const e=t[p],{[l]:n,[c]:i}=e;h=(e._stacks||(e._stacks={}))[c]=AC(s,u,n),h[a]=i,h._top=PC(h,o,!0,r.type),h._bottom=PC(h,o,!1,r.type);(h._visualValues||(h._visualValues={}))[a]=i}}function IC(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function RC(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const OC=e=>"reset"===e||"none"===e,DC=(e,t)=>t?e:Object.assign({},e);class LC{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=NC(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&RC(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,s=t.xAxisID=uj(n.xAxisID,IC(e,"x")),i=t.yAxisID=uj(n.yAxisID,IC(e,"y")),o=t.rAxisID=uj(n.rAxisID,IC(e,"r")),a=t.indexAxis,l=t.iAxisID=r(a,s,i,o),c=t.vAxisID=r(a,i,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Zj(this._data,this),e._stacked&&RC(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(aj(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,s="x"===n.axis?"x":"y",i="x"===r.axis?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[i]:e[u]};return a}(t,e)}else if(n!==t){if(n){Zj(n,this);const e=this._cachedMeta;RC(e),e._parsed=[]}t&&Object.isExtensible(t)&&(s=this,(r=t)._chartjs?r._chartjs.listeners.push(s):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),Jj.forEach((e=>{const t="_onData"+kj(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];const o=n.apply(this,s);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...s)})),o}})})))),this._syncList=[],this._data=t}var r,s}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=NC(t.vScale,t),t.stack!==n.stack&&(r=!0,RC(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&(MC(this,t._parsed),t._stacked=NC(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:i}=n,o=s.axis;let a,l,c,u=0===e&&t===r.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=oj(r[e])?this.parseArrayData(n,r,e,t):aj(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const s=()=>null===l[o]||d&&l[o]<d[o];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(s()&&(u=!1),d=l);n._sorted=u}i&&MC(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:i}=e,o=s.axis,a=i.axis,l=s.getLabels(),c=s===i,u=new Array(r);let d,h,p;for(d=0,h=r;d<h;++d)p=d+n,u[d]={[o]:c||s.parse(l[p],p),[a]:i.parse(t[p],p)};return u}parseArrayData(e,t,n,r){const{xScale:s,yScale:i}=e,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=t[c],o[a]={x:s.parse(u[0],c),y:i.parse(u[1],c)};return o}parseObjectData(e,t,n,r){const{xScale:s,yScale:i}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+n,h=t[d],l[c]={x:s.parse(Sj(h,o),d),y:i.parse(Sj(h,a),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,i=t[e.axis];return EC({keys:CC(r,!0),values:t._stacks[e.axis]._visualValues},i,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let i=null===s?NaN:s;const o=r&&n._stacks[t.axis];r&&o&&(r.values=o,i=EC(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,i=r.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:CC(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(o);let d,h;function p(){h=r[d];const t=h[o.axis];return!lj(h[e.axis])||c>t||u<t}for(d=0;d<i&&(p()||(this.updateRangeFromParsed(l,e,h,a),!s));++d);if(s)for(d=i-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,e,h,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,i;for(r=0,s=t.length;r<s;++r)i=t[r][e.axis],lj(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,s;return aj(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:!1===e}}(uj(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=TC(e,n),s=TC(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,i=[],o=this._drawStart||0,a=this._drawCount||r.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,o,a),c=o;c<o+a;++c){const t=r[c];t.hidden||(t.active&&l?i.push(t):t.draw(e,s))}for(c=0;c<i.length;++c)i[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,n){return VT(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return VT(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,s=this._cachedDataOpts,i=e+"-"+t,o=s[i],a=this.enableOptionSharing&&_j(n);if(o)return DC(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(kT.elements[e]),p=l.resolveNamedOptions(d,h,(()=>this.getContext(n,r,t)),u);return p.$shared&&(p.$shared=a,s[i]=Object.freeze(DC(p,a))),p}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,i=`animation-${t}`,o=s[i];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,s=r.datasetAnimationScopeKeys(this._type,t),i=r.getOptionScopes(this.getDataset(),s);a=r.createResolver(i,this.getContext(e,n,t))}const l=new jC(r,a&&a.animations);return a&&a._cacheable&&(s[i]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||OC(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:i}}updateElement(e,t,n,r){OC(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!OC(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const r=n.length,s=t.length,i=Math.min(s,r);i&&this.parse(0,i),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,s=r.data,i=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=i;o--)e[o]=e[o-t]};for(a(s),o=e;o<i;++o)s[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&RC(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function FC(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,s=n.length;t<s;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=eT(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,s,i,o,a=t._length;const l=()=>{32767!==i&&-32768!==i&&(_j(o)&&(a=Math.min(a,Math.abs(i-o)||a)),o=i)};for(r=0,s=n.length;r<s;++r)i=t.getPixelForValue(n[r]),l();for(o=void 0,r=0,s=t.ticks.length;r<s;++r)i=t.getPixelForTick(r),l();return a}function zC(e,t,n,r){return oj(e)?function(e,t,n,r){const s=n.parse(e[0],r),i=n.parse(e[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:i,min:o,max:a}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function $C(e,t,n,r){const s=e.iScale,i=e.vScale,o=s.getLabels(),a=s===i,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=t[c],d={},d[s.axis]=a||s.parse(o[c],c),l.push(zC(h,d,i,c));return l}function BC(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function UC(e,t,n,r){let s=t.borderSkipped;const i={};if(!s)return void(e.borderSkipped=i);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,r,s,i;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:t,top:s,bottom:i}}(e);"middle"===s&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=u:(i[WC(u,o,a,l)]=!0,s=c)),i[WC(s,o,a,l)]=!0,e.borderSkipped=i}function WC(e,t,n,r){var s,i,o;return r?(o=n,e=HC(e=(s=e)===(i=t)?o:s===o?i:s,n,t)):e=HC(e,t,n),e}function HC(e,t,n){return"start"===e?t:"end"===e?n:e}function VC(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}class qC extends LC{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return $C(e,t,n,r)}parseArrayData(e,t,n,r){return $C(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:i}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===s.axis?o:a,c="x"===i.axis?o:a,u=[];let d,h,p,f;for(d=n,h=n+r;d<h;++d)f=t[d],p={},p[s.axis]=s.parse(Sj(f,l),d),u.push(zC(Sj(f,c),p,i,d));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),i=s._custom,o=BC(i)?"["+i.start+", "+i.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s="reset"===r,{index:i,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=s||ij(t[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[o.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||BC(t._custom)||i===f._top||i===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=m.options||e[h].options;UC(m,g,f,i),VC(m,g,c.ratio),this.updateElement(e[h],h,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),s=n.options.stacked,i=[],o=this._cachedMeta.controller.getParsed(t),a=o&&o[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===a)),r=t&&t[e.vScale.axis];if(ij(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===s||-1===i.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&i.push(c.stack),c.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=void 0!==t?r.indexOf(t):-1;return-1===s?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,i;for(s=0,i=t.data.length;s<i;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||FC(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:s,minBarLength:i}}=this,o=s||0,a=this.getParsed(e),l=a._custom,c=BC(l);let u,d,h=a[t.axis],p=0,f=n?this.applyStack(t,a,n):h;f!==h&&(p=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,0!==h&&Oj(h)!==Oj(l.barEnd)&&(p=0),p+=h);const m=ij(s)||c?p:s;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):g,d=u-g,Math.abs(d)<i){d=function(e,t,n){return 0!==e?Oj(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,o)*i,h===o&&(g-=d/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),p=Math.max(e,s);g=Math.max(Math.min(g,p),l),u=g+d,n&&!c&&(a._stacks[t.axis]._visualValues[r]=t.getValueForPixel(u)-t.getValueForPixel(g))}if(g===t.getPixelForValue(o)){const e=Oj(d)*t.getLineWidthForValue(o)/2;g+=e,d-=e}return{size:d,base:g,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,i=uj(r.maxBarThickness,1/0);let o,a;if(t.grouped){const n=s?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const s=t.pixels,i=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;null===o&&(o=i-(null===a?t.end-t.start:a-i)),null===a&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const s=n.barThickness;let i,o;return ij(s)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(i,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(i,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)null===this.getParsed(s)[t.axis]||n[s].hidden||n[s].draw(this._ctx)}}function KC(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class QC{static override(e){Object.assign(QC.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return KC()}parse(){return KC()}format(){return KC()}add(){return KC()}diff(){return KC()}startOf(){return KC()}endOf(){return KC()}}var YC=QC;function GC(e,t,n,r){const{controller:s,data:i,_sorted:o}=e,a=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&"r"!==t&&o&&i.length){const o=a._reversePixels?Xj:Gj;if(!r){const r=o(i,t,n);if(l){const{vScale:t}=s._cachedMeta,{_parsed:n}=e,i=n.slice(0,r.lo+1).reverse().findIndex((e=>!ij(e[t.axis])));r.lo-=Math.max(0,i);const o=n.slice(r.hi).findIndex((e=>!ij(e[t.axis])));r.hi+=Math.max(0,o)}return r}if(s._sharedOptions){const e=i[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=o(i,t,n-r),s=o(i,t,n+r);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:i.length-1}}function XC(e,t,n,r,s){const i=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=i.length;a<l;++a){const{index:e,data:n}=i[a],{lo:l,hi:c}=GC(i[a],t,o,s);for(let t=l;t<=c;++t){const s=n[t];s.skip||r(s,e,t)}}}function JC(e,t,n,r,s){const i=[];if(!s&&!e.isPointInArea(t))return i;return XC(e,n,t,(function(n,o,a){(s||NT(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&i.push({element:n,datasetIndex:o,index:a})}),!0),i}function ZC(e,t,n,r,s,i){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const s=t?Math.abs(e.x-r.x):0,i=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}(n);let l=Number.POSITIVE_INFINITY;return XC(e,n,t,(function(n,c,u){const d=n.inRange(t.x,t.y,s);if(r&&!d)return;const h=n.getCenterPoint(s);if(!(!!i||e.isPointInArea(h))&&!d)return;const p=a(t,h);p<l?(o=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function eE(e,t,n,r,s,i){return i||e.isPointInArea(t)?"r"!==n||r?ZC(e,t,n,r,s,i):function(e,t,n,r){let s=[];return XC(e,n,t,(function(e,n,i){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Wj(e,{x:t.x,y:t.y});qj(l,o,a)&&s.push({element:e,datasetIndex:n,index:i})})),s}(e,t,n,s):[]}function tE(e,t,n,r,s){const i=[],o="x"===n?"inXRange":"inYRange";let a=!1;return XC(e,n,t,((e,r,l)=>{e[o]&&e[o](t[n],s)&&(i.push({element:e,datasetIndex:r,index:l}),a=a||e.inRange(t.x,t.y,s))})),r&&!a?[]:i}var nE={evaluateInteractionItems:XC,modes:{index(e,t,n,r){const s=dC(t,e),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?JC(e,s,i,r,o):eE(e,s,i,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const s=dC(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?JC(e,s,i,r,o):eE(e,s,i,!1,r,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,r)=>JC(e,dC(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const s=dC(t,e),i=n.axis||"xy",o=n.includeInvisible||!1;return eE(e,s,i,n.intersect,r,o)},x:(e,t,n,r)=>tE(e,dC(t,e),"x",n.intersect,r),y:(e,t,n,r)=>tE(e,dC(t,e),"y",n.intersect,r)}};const rE=["left","top","right","bottom"];function sE(e,t){return e.filter((e=>e.pos===t))}function iE(e,t){return e.filter((e=>-1===rE.indexOf(e.pos)&&e.box.axis===t))}function oE(e,t){return e.sort(((e,n)=>{const r=t?n:e,s=t?e:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight}))}function aE(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:s}=n;if(!e||!rE.includes(r))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let i,o,a;for(i=0,o=e.length;i<o;++i){a=e[i];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*r:o&&t.availableWidth,a.height=s):(a.width=r,a.height=c?c*s:o&&t.availableHeight)}return n}function lE(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function cE(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function uE(e,t,n,r){const{pos:s,box:i}=n,o=e.maxPadding;if(!aj(s)){n.size&&(e[s]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?i.height:i.width),n.size=t.size/t.count,e[s]+=n.size}i.getPadding&&cE(o,i.getPadding());const a=Math.max(0,t.outerWidth-lE(o,e,"left","right")),l=Math.max(0,t.outerHeight-lE(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function dE(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function hE(e,t,n,r){const s=[];let i,o,a,l,c,u;for(i=0,o=e.length,c=0;i<o;++i){a=e[i],l=a.box,l.update(a.width||t.w,a.height||t.h,dE(a.horizontal,t));const{same:o,other:d}=uE(t,n,a,r);c|=o&&s.length,u=u||d,l.fullSize||s.push(a)}return c&&hE(s,t,n,r)||u}function pE(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function fE(e,t,n,r){const s=n.padding;let{x:i,y:o}=t;for(const a of e){const e=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const r=t.w*c,i=l.size||e.height;_j(l.start)&&(o=l.start),e.fullSize?pE(e,s.left,o,n.outerWidth-s.right-s.left,i):pE(e,t.left+l.placed,o,r,i),l.start=o,l.placed+=r,o=e.bottom}else{const r=t.h*c,o=l.size||e.width;_j(l.start)&&(i=l.start),e.fullSize?pE(e,i,s.top,o,n.outerHeight-s.bottom-s.top):pE(e,i,t.top+l.placed,o,r),l.start=i,l.placed+=r,i=e.right}}t.x=i,t.y=o}var mE={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=UT(e.options.layout.padding),i=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=function(e){const t=function(e){const t=[];let n,r,s,i,o,a;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],({position:i,options:{stack:o,stackWeight:a=1}}=s),t.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return t}(e),n=oE(t.filter((e=>e.box.fullSize)),!0),r=oE(sE(t,"left"),!0),s=oE(sE(t,"right")),i=oE(sE(t,"top"),!0),o=oE(sE(t,"bottom")),a=iE(t,"x"),l=iE(t,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:sE(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;pj(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},s);cE(h,UT(r));const p=Object.assign({maxPadding:h,w:i,h:o,x:s.left,y:s.top},s),f=aE(l.concat(c),d);hE(a.fullSize,p,d,f),hE(l,p,d,f),hE(c,p,d,f)&&hE(l,p,d,f),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),fE(a.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,fE(a.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},pj(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class gE{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class yE extends gE{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const vE="$chartjs",xE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bE=e=>null===e||""===e;const wE=!!mC&&{passive:!0};function SE(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,wE)}function kE(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function _E(e,t,n){const r=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||kE(n.addedNodes,r),t=t&&!kE(n.removedNodes,r);t&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}function jE(e,t,n){const r=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||kE(n.removedNodes,r),t=t&&!kE(n.addedNodes,r);t&&n()}));return s.observe(document,{childList:!0,subtree:!0}),s}const TE=new Map;let CE=0;function EE(){const e=window.devicePixelRatio;e!==CE&&(CE=e,TE.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function NE(e,t,n){const r=e.canvas,s=r&&oC(r);if(!s)return;const i=nT(((e,t)=>{const r=s.clientWidth;n(e,t),r<s.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||i(n,r)}));return o.observe(s),function(e,t){TE.size||window.addEventListener("resize",EE),TE.set(e,t)}(e,i),o}function AE(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){TE.delete(e),TE.size||window.removeEventListener("resize",EE)}(e)}function PE(e,t,n){const r=e.canvas,s=nT((t=>{null!==e.ctx&&n(function(e,t){const n=xE[e.type]||e.type,{x:r,y:s}=dC(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==s?s:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,wE)}(r,t,s),s}class ME extends gE{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[vE]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",bE(s)){const t=gC(e,"width");void 0!==t&&(e.width=t)}if(bE(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=gC(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[vE])return!1;const n=t[vE].initial;["height","width"].forEach((e=>{const r=n[e];ij(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[vE],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),s={attach:_E,detach:jE,resize:NE}[t]||PE;r[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:AE,detach:AE,resize:AE}[t]||SE)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return pC(e,t,n,r)}isAttached(e){const t=e&&oC(e);return!(!t||!t.isConnected)}}class IE{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Fj(this.x)&&Fj(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function RE(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}(e),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return function(e,t,n,r){let s,i=0,o=n[0];for(r=Math.ceil(r),s=0;s<e.length;s++)s===o&&(t.push(e[s]),i++,o=n[i*r])}(t,c,i,o/s),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),s=t.length/n;if(!r)return Math.max(s,1);const i=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let o=0,a=i.length-1;o<a;o++){const e=i[o];if(e>s)return e}return Math.max(s,1)}(i,t,s);if(o>0){let e,n;const r=o>1?Math.round((l-a)/(o-1)):null;for(OE(t,c,u,ij(r)?0:a-r,a),e=0,n=o-1;e<n;e++)OE(t,c,u,i[e],i[e+1]);return OE(t,c,u,l,ij(r)?t.length:l+r),c}return OE(t,c,u),c}function OE(e,t,n,r,s){const i=uj(r,0),o=Math.min(uj(s,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),s&&(a=s-r,n=a/Math.floor(a/n)),c=i;c<0;)u++,c=Math.round(i+u*n);for(l=Math.max(i,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(i+u*n))}const DE=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,LE=(e,t)=>Math.min(t||e,e);function FE(e,t){const n=[],r=e.length/t,s=e.length;let i=0;for(;i<s;i+=r)n.push(e[Math.floor(i)]);return n}function zE(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),i=e._startPixel,o=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(s);if(!(n&&(l=1===r?Math.max(c-i,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<i-a||c>o+a)))return c}function $E(e){return e.drawTicks?e.tickLength:0}function BE(e,t){if(!e.display)return 0;const n=WT(e.font,t),r=UT(e.padding);return(oj(e.text)?e.text.length:1)*n.lineHeight+r.height}function UE(e,t,n){let r=rT(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class WE extends IE{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=cj(e,Number.POSITIVE_INFINITY),t=cj(t,Number.NEGATIVE_INFINITY),n=cj(n,Number.POSITIVE_INFINITY),r=cj(r,Number.NEGATIVE_INFINITY),{min:cj(e,n),max:cj(t,r),minDefined:lj(e),maxDefined:lj(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds();if(s&&i)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),s||(n=Math.min(n,t.min)),i||(r=Math.max(r,t.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:cj(n,cj(r,n)),max:cj(r,cj(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){hj(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:i}=this.options,o=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:s}=e,i=dj(t,(s-r)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(r,-Math.abs(i)),max:o(s,i)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?FE(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=RE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){hj(this.options.afterUpdate,[this])}beforeSetDimensions(){hj(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){hj(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),hj(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){hj(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=hj(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){hj(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){hj(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=LE(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let i,o,a,l=r;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=Kj(this.chart.width-u,0,this.maxWidth);i=e.offset?this.maxWidth/n:h/(n-1),u+6>i&&(i=h/(n-(e.offset?.5:1)),o=this.maxHeight-$E(e.grid)-t.padding-BE(e.title,this.chart.options.font),a=Math.sqrt(u*u+d*d),l=Bj(Math.min(Math.asin(Kj((c.highest.height+6)/i,-1,1)),Math.asin(Kj(o/a,-1,1))-Math.asin(Kj(d/a,-1,1)))),l=Math.max(r,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){hj(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){hj(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,i=this._isVisible(),o=this.isHorizontal();if(i){const i=BE(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=$E(s)+i):(e.height=this.maxHeight,e.width=$E(s)+i),n.display&&this.ticks.length){const{first:t,last:r,widest:s,highest:i}=this._getLabelSizes(),a=2*n.padding,l=$j(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*s.width+c*i.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*s.width+u*i.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:i},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;a?l?(u=r*e.width,d=n*t.height):(u=n*e.height,d=r*t.width):"start"===s?d=t.width:"end"===s?u=e.width:"inner"!==s&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-o+i)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-c+i)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===s?(n=0,r=e.height):"end"===s&&(n=t.height,r=0),this.paddingTop=n+i,this.paddingBottom=r+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){hj(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)ij(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=FE(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:s}=this,i=[],o=[],a=Math.floor(t/LE(t,n));let l,c,u,d,h,p,f,m,g,y,v,x=0,b=0;for(l=0;l<t;l+=a){if(d=e[l].label,h=this._resolveTickFontOptions(l),r.font=p=h.string,f=s[p]=s[p]||{data:{},gc:[]},m=h.lineHeight,g=y=0,ij(d)||oj(d)){if(oj(d))for(c=0,u=d.length;c<u;++c)v=d[c],ij(v)||oj(v)||(g=_T(r,f.data,f.gc,g,v),y+=m)}else g=_T(r,f.data,f.gc,g,d),y=m;i.push(g),o.push(y),x=Math.max(g,x),b=Math.max(y,b)}!function(e,t){pj(e,(e=>{const n=e.gc,r=n.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[n[s]];n.splice(0,r)}}))}(s,t);const w=i.indexOf(x),S=o.indexOf(b),k=e=>({width:i[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(S),widths:i,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Kj(this._alignToPixels?jT(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return VT(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=VT(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=$j(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,o=s?s.widest.width+i:0,a=s?s.highest.height+i:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:i,border:o}=r,a=s.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=$E(s),d=[],h=o.setContext(this.getContext()),p=h.display?h.width:0,f=p/2,m=function(e){return jT(n,e,p)};let g,y,v,x,b,w,S,k,_,j,T,C;if("top"===i)g=m(this.bottom),w=this.bottom-u,k=g-f,j=m(e.top)+f,C=e.bottom;else if("bottom"===i)g=m(this.top),j=e.top,C=m(e.bottom)-f,w=g+f,k=this.top+u;else if("left"===i)g=m(this.right),b=this.right-u,S=g-f,_=m(e.left)+f,T=e.right;else if("right"===i)g=m(this.left),_=e.left,T=m(e.right)-f,b=g+f,S=this.left+u;else if("x"===t){if("center"===i)g=m((e.top+e.bottom)/2+.5);else if(aj(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}j=e.top,C=e.bottom,w=g+f,k=w+u}else if("y"===t){if("center"===i)g=m((e.left+e.right)/2);else if(aj(i)){const e=Object.keys(i)[0],t=i[e];g=m(this.chart.scales[e].getPixelForValue(t))}b=g-f,S=b-u,_=e.left,T=e.right}const E=uj(r.ticks.maxTicksLimit,c),N=Math.max(1,Math.ceil(c/E));for(y=0;y<c;y+=N){const e=this.getContext(y),t=s.setContext(e),r=o.setContext(e),i=t.lineWidth,c=t.color,u=r.dash||[],h=r.dashOffset,p=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;v=zE(this,y,a),void 0!==v&&(x=jT(n,v,i),l?b=S=_=T=x:w=k=j=C=x,d.push({tx1:b,ty1:w,tx2:S,ty2:k,x1:_,y1:j,x2:T,y2:C,width:i,color:c,borderDash:u,borderDashOffset:h,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,i=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=s,d=$E(n.grid),h=d+c,p=u?-c:h,f=-$j(this.labelRotation),m=[];let g,y,v,x,b,w,S,k,_,j,T,C,E="middle";if("top"===r)w=this.bottom-p,S=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+p,S=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(d);S=e.textAlign,b=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(d);S=e.textAlign,b=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(aj(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}S=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)b=(e.left+e.right)/2-h;else if(aj(r)){const e=Object.keys(r)[0],t=r[e];b=this.chart.scales[e].getPixelForValue(t)}S=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===a?E="top":"end"===a&&(E="bottom"));const N=this._getLabelSizes();for(g=0,y=o.length;g<y;++g){v=o[g],x=v.label;const e=s.setContext(this.getContext(g));k=this.getPixelForTick(g)+s.labelOffset,_=this._resolveTickFontOptions(g),j=_.lineHeight,T=oj(x)?x.length:1;const t=T/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let d,h=S;if(i?(b=k,"inner"===S&&(h=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==f?-T*j+j/2:"center"===l?-N.highest.height/2-t*j+j:-N.highest.height+j/2:"near"===l||0!==f?j/2:"center"===l?N.highest.height/2-t*j:N.highest.height-T*j,u&&(C*=-1),0===f||e.showLabelBackdrop||(b+=j/2*Math.sin(f))):(w=k,C=(1-T)*j/2),e.showLabelBackdrop){const t=UT(e.backdropPadding),n=N.heights[g],r=N.widths[g];let s=C-t.top,i=0-t.left;switch(E){case"middle":s-=n/2;break;case"bottom":s-=n}switch(S){case"center":i-=r/2;break;case"right":i-=r;break;case"inner":g===y-1?i-=r:g>0&&(i-=r/2)}d={left:i,top:s,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:x,font:_,textOffset:C,options:{rotation:f,color:n,strokeColor:a,strokeWidth:c,textAlign:h,textBaseline:E,translation:[b,w],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-$j(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,i=e+s,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?r?(l=this.right+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-i,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?r?(l=this.left+s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+i,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const o=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(s=0,i=r.length;s<i;++s){const e=r[s];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=jT(e,this.left,i)-i/2,c=jT(e,this.right,o)+o/2,u=d=a):(u=jT(e,this.top,i)-i/2,d=jT(e,this.bottom,o)+o/2,l=c=a),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&AT(t,n);const r=this.getLabelItems(e);for(const s of r){const e=s.options,n=s.font;RT(t,s.label,0,s.textOffset,n,e)}n&&PT(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=WT(n.font),i=UT(n.padding),o=n.align;let a=s.lineHeight/2;"bottom"===t||"center"===t||aj(t)?(a+=i.bottom,oj(n.text)&&(a+=s.lineHeight*(n.text.length-1))):a+=i.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,p,f=0;const m=o-s,g=a-i;if(e.isHorizontal()){if(h=sT(r,i,a),aj(n)){const e=Object.keys(n)[0],r=n[e];p=u[e].getPixelForValue(r)+m-t}else p="center"===n?(c.bottom+c.top)/2+m-t:DE(e,n,t);d=a-i}else{if(aj(n)){const e=Object.keys(n)[0],r=n[e];h=u[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:DE(e,n,t);p=sT(r,o,s),f="left"===n?-Pj:Pj}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}(this,a,t,o);RT(e,n.text,0,0,s,{color:n.color,maxWidth:u,rotation:d,textAlign:UE(o,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=uj(e.grid&&e.grid.z,-1),r=uj(e.border&&e.border.z,0);return this._isVisible()&&this.draw===WE.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,i;for(s=0,i=t.length;s<i;++s){const i=t[s];i[n]!==this.id||e&&i.type!==e||r.push(i)}return r}_resolveTickFontOptions(e){return WT(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class HE{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function(e,t,n){const r=vj(Object.create(null),[n?kT.get(n):{},kT.get(t),e.defaults]);kT.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),s=r.pop(),i=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");kT.route(i,s,l,a)}))}(t,e.defaultRoutes);e.descriptors&&kT.describe(t,e.descriptors)}(e,i,n),this.override&&kT.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in kT[r]&&(delete kT[r][n],this.override&&delete vT[n])}}class VE{constructor(){this.controllers=new HE(LC,"datasets",!0),this.elements=new HE(IE,"elements"),this.plugins=new HE(Object,"plugins"),this.scales=new HE(WE,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):pj(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=kj(e);hj(n["before"+r],[],n),t[e](n),hj(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var qE=new VE;class KE{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),i=this._notify(s,e,t,n);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,n,r){r=r||{};for(const s of e){const e=s.plugin;if(!1===hj(e[n],[t,r,s.options],e)&&r.cancelable)return!1}return!0}invalidate(){ij(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=uj(n.options&&n.options.plugins,{}),s=function(e){const t={},n=[],r=Object.keys(qE.plugins.items);for(let i=0;i<r.length;i++)n.push(qE.getPlugin(r[i]));const s=e.plugins||[];for(let i=0;i<s.length;i++){const e=s[i];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:s,localIds:i}=t;const o=[],a=e.getContext();for(const l of s){const t=l.id,s=QE(n[t],r);null!==s&&o.push({plugin:l,options:YE(e.config,{plugin:l,local:i[t]},s,a)})}return o}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function QE(e,t){return t||!1!==e?!0===e?{}:e:null}function YE(e,t,n,r){let{plugin:s,local:i}=t;const o=e.pluginScopeKeys(s),a=e.getOptionScopes(n,o);return i&&s.defaults&&a.push(s.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function GE(e,t){const n=kT.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function XE(e){if("x"===e||"y"===e||"r"===e)return e}function JE(e){if(XE(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n){const t=i.axis||("top"===(s=i.position)||"bottom"===s?"x":"left"===s||"right"===s?"y":void 0)||e.length>1&&XE(e[0].toLowerCase());if(t)return t}var s;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ZE(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function eN(e,t){const n=vT[e.type]||{scales:{}},r=t.scales||{},s=GE(e.type,t),i=Object.create(null);return Object.keys(r).forEach((t=>{const o=r[t];if(!aj(o))return console.error(`Invalid scale configuration for scale: ${t}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=JE(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return ZE(e,"x",n[0])||ZE(e,"y",n[0])}return{}}(t,e),kT.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,s),c=n.scales||{};i[t]=xj(Object.create(null),[{axis:a},o,c[a],c[l]])})),e.data.datasets.forEach((n=>{const s=n.type||e.type,o=n.indexAxis||GE(s,t),a=(vT[s]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),s=n[t+"AxisID"]||t;i[s]=i[s]||Object.create(null),xj(i[s],[{axis:t},r[s],a[e]])}))})),Object.keys(i).forEach((e=>{const t=i[e];xj(t,[kT.scales[t.type],kT.scale])})),i}function tN(e){const t=e.options||(e.options={});t.plugins=uj(t.plugins,{}),t.scales=eN(e,t)}function nN(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const rN=new Map,sN=new Set;function iN(e,t){let n=rN.get(e);return n||(n=t(),rN.set(e,n),sN.add(n)),n}const oN=(e,t,n)=>{const r=Sj(t,n);void 0!==r&&e.add(r)};class aN{constructor(e){this._config=function(e){return(e=e||{}).data=nN(e.data),tN(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nN(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return iN(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return iN(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return iN(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return iN(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,i=this._cachedScopes(e,n),o=i.get(t);if(o)return o;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>oN(a,e,t)))),t.forEach((e=>oN(a,r,e))),t.forEach((e=>oN(a,vT[s]||{},e))),t.forEach((e=>oN(a,kT,e))),t.forEach((e=>oN(a,xT,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),sN.has(t)&&i.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,vT[t]||{},kT.datasets[t]||{},{type:t},kT,xT]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:i,subPrefixes:o}=lN(this._resolverCache,e,r);let a=i;if(function(e,t){const{isScriptable:n,isIndexable:r}=QT(e);for(const s of t){const t=n(s),i=r(s),o=(i||t)&&e[s];if(t&&(jj(o)||cN(o))||i&&oj(o))return!0}return!1}(i,t)){s.$shared=!1;a=KT(i,n=jj(n)?n():n,this.createResolver(e,n,o))}for(const l of t)s[l]=a[l];return s}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:s}=lN(this._resolverCache,e,n);return aj(t)?KT(s,t,void 0,r):s}}function lN(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let i=r.get(s);if(!i){i={resolver:qT(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(s,i)}return i}const cN=e=>aj(e)&&Object.getOwnPropertyNames(e).some((t=>jj(e[t])));const uN=["top","bottom","left","right","chartArea"];function dN(e,t){return"top"===e||"bottom"===e||-1===uN.indexOf(e)&&"x"===t}function hN(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function pN(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),hj(n&&n.onComplete,[e],t)}function fN(e){const t=e.chart,n=t.options.animation;hj(n&&n.onProgress,[e],t)}function mN(e){return iC()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const gN={},yN=e=>{const t=mN(e);return Object.values(gN).filter((e=>e.canvas===t)).pop()};function vN(e,t,n){const r=Object.keys(e);for(const s of r){const r=+s;if(r>=t){const i=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=i)}}}function xN(e,t,n){return e.options.clip?e[n]:t[n]}class bN{static defaults=(()=>kT)();static instances=(()=>gN)();static overrides=(()=>vT)();static registry=(()=>qE)();static version="4.4.8";static getChart=(()=>yN)();static register(){qE.add(...arguments),wN()}static unregister(){qE.remove(...arguments),wN()}constructor(e,t){const n=this.config=new aN(t),r=mN(e),s=yN(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!iC()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?yE:ME}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,i.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=sj(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new KE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}((e=>this.update(e)),i.resizeDelay||0),this._dataChanges=[],gN[this.id]=this,o&&a?(wC.listen(this,"complete",pN),wC.listen(this,"progress",fN),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return ij(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qE}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return TT(this.canvas,this.ctx),this}stop(){return wC.stop(this),this}resize(e,t){wC.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(r,e,t,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,fC(this,o,!0)&&(this.notifyPlugins("resize",{size:i}),hj(n.onResize,[this,i],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){pj(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let s=[];t&&(s=s.concat(Object.keys(t).map((e=>{const n=t[e],r=JE(e,n),s="r"===r,i="x"===r;return{options:n,dposition:s?"chartArea":i?"bottom":"left",dtype:s?"radialLinear":i?"category":"linear"}})))),pj(s,(t=>{const s=t.options,i=s.id,o=JE(i,s),a=uj(s.type,t.dtype);void 0!==s.position&&dN(s.position,o)===dN(t.dposition)||(s.position=t.dposition),r[i]=!0;let l=null;if(i in n&&n[i].type===a)l=n[i];else{l=new(qE.getScale(a))({id:i,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,e)})),pj(r,((e,t)=>{e||delete n[t]})),pj(n,(e=>{mE.configure(this,e,e.options),mE.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(hN("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let s=this.getDatasetMeta(n);const i=r.type||this.config.type;if(s.type&&s.type!==i&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=i,s.indexAxis=r.indexAxis||GE(i,this.options),s.order=r.order||0,s.index=n,s.label=""+r.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const t=qE.getController(i),{datasetElementType:r,dataElementType:o}=kT.datasets[i];Object.assign(t,{dataElementType:qE.getElement(o),datasetElementType:r&&qE.getElement(r)}),s.controller=new t(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){pj(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===s.indexOf(e);e.buildOrUpdateElements(t),i=Math.max(+e.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),r||pj(s,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(hN("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){pj(this.scales,(e=>{mE.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Tj(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){vN(e,r,"_removeElements"===n?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let s=1;s<t;s++)if(!Tj(r,n(s)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;mE.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],pj(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,jj(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(wC.has(this)?this.attached&&!wC.running(this)&&wC.start(this):(this.draw(),pN({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];e&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,s=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:xN(n,t,"left"),right:xN(n,t,"right"),top:xN(r,t,"top"),bottom:xN(r,t,"bottom")}:t}(e,this.chartArea),i={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(r&&AT(t,{left:!1===n.left?0:s.left-n.left,right:!1===n.right?this.width:s.right+n.right,top:!1===n.top?0:s.top-n.top,bottom:!1===n.bottom?this.height:s.bottom+n.bottom}),e.controller.draw(),r&&PT(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return NT(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=nE.modes[t];return"function"===typeof s?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=VT(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,r);_j(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),wC.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),TT(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete gN[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};pj(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():i()}unbindEvents(){pj(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},pj(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,i,o,a;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){i=e[o];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[r+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!fj(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=s(t,e),o=n?e:s(e,t);i.length&&this.updateHoverStyle(i,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,i=t,o=this._getActiveElements(e,r,n,i),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,hj(s.onHover,[e,o,this],this),a&&hj(s.onClick,[e,o,this],this));const c=!fj(o,r);return(c||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}function wN(){return pj(bN.instances,(e=>e._plugins.invalidate()))}function SN(e,t){const{x:n,y:r,base:s,width:i,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return e.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),c=r-d,u=r+d):(d=i/2,a=n-d,l=n+d,c=Math.min(r,s),u=Math.max(r,s)),{left:a,top:c,right:l,bottom:u}}function kN(e,t,n,r){return e?0:Kj(t,n,r)}function _N(e){const t=SN(e),n=t.right-t.left,r=t.bottom-t.top,s=function(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,i=$T(r);return{t:kN(s.top,i.top,0,n),r:kN(s.right,i.right,0,t),b:kN(s.bottom,i.bottom,0,n),l:kN(s.left,i.left,0,t)}}(e,n/2,r/2),i=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,i=BT(s),o=Math.min(t,n),a=e.borderSkipped,l=r||aj(s);return{topLeft:kN(!l||a.top||a.left,i.topLeft,0,o),topRight:kN(!l||a.top||a.right,i.topRight,0,o),bottomLeft:kN(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:kN(!l||a.bottom||a.right,i.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:i},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function jN(e,t,n,r){const s=null===t,i=null===n,o=e&&!(s&&i)&&SN(e,r);return o&&(s||Qj(t,o.left,o.right))&&(i||Qj(n,o.top,o.bottom))}function TN(e,t){e.rect(t.x,t.y,t.w,t.h)}function CN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,i=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+i,h:e.h+o,radius:e.radius}}class EN extends IE{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:i}=_N(this),o=(a=i.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?OT:TN;var a;e.save(),i.w===s.w&&i.h===s.h||(e.beginPath(),o(e,CN(i,t,s)),e.clip(),o(e,CN(s,-t,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,CN(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return jN(this,e,t,n)}inXRange(e,t){return jN(this,e,null,t)}inYRange(e,t){return jN(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}const NN=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class AN extends IE{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=hj(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=WT(n.font),s=r.size,i=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=NN(n,s);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(i,s,o,a)+10):(c=this.maxHeight,l=this._fitCols(i,r,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:s,maxWidth:i,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+o;let u=e;s.textAlign="left",s.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach(((e,p)=>{const f=n+t/2+s.measureText(e.text).width;(0===p||l[l.length-1]+f+2*o>i)&&(u+=c,l[l.length-(p>0?0:1)]=0,h+=c,d++),a[p]={left:0,top:h,row:d,width:f,height:r},l[l.length-1]+=f+o})),u}_fitCols(e,t,n,r){const{ctx:s,maxHeight:i,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=i-e;let u=o,d=0,h=0,p=0,f=0;return this.legendItems.forEach(((e,i)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,s){const i=function(e,t,n,r){let s=e.text;s&&"string"!==typeof s&&(s=s.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(s).width}(r,e,t,n),o=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=PN(t,n));return r}(s,r,t.lineHeight);return{itemWidth:i,itemHeight:o}}(n,t,s,e,r);i>0&&h+g+2*o>c&&(u+=d+o,l.push({width:d,height:h}),p+=d+o,f++,d=h=0),a[i]={left:p,top:h,col:f,width:m,height:g},d=Math.max(d,m),h+=g+o})),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,i=yC(s,this.left,this.width);if(this.isHorizontal()){let s=0,o=sT(n,this.left+r,this.right-this.lineWidths[s]);for(const a of t)s!==a.row&&(s=a.row,o=sT(n,this.left+r,this.right-this.lineWidths[s])),a.top+=this.top+e+r,a.left=i.leftForLtr(i.x(o),a.width),o+=a.width+r}else{let s=0,o=sT(n,this.top+e+r,this.bottom-this.columnSizes[s].height);for(const a of t)a.col!==s&&(s=a.col,o=sT(n,this.top+e+r,this.bottom-this.columnSizes[s].height)),a.top=o,a.left+=this.left+r,a.left=i.leftForLtr(i.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;AT(e,this),this._draw(),PT(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:i}=e,o=kT.color,a=yC(e.rtl,this.left,this.width),l=WT(i.font),{padding:c}=i,u=l.size,d=u/2;let h;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=NN(i,u),g=this.isHorizontal(),y=this._computeTitleHeight();h=g?{x:sT(s,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:sT(s,this.top+y+c,this.bottom-t[0].height),line:0},vC(this.ctx,e.textDirection);const v=m+c;this.legendItems.forEach(((x,b)=>{r.strokeStyle=x.fontColor,r.fillStyle=x.fontColor;const w=r.measureText(x.text).width,S=a.textAlign(x.textAlign||(x.textAlign=i.textAlign)),k=p+d+w;let _=h.x,j=h.y;a.setWidth(this.width),g?b>0&&_+k+c>this.right&&(j=h.y+=v,h.line++,_=h.x=sT(s,this.left+c,this.right-n[h.line])):b>0&&j+v>this.bottom&&(_=h.x=_+t[h.line].width+c,h.line++,j=h.y=sT(s,this.top+y+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;r.save();const s=uj(n.lineWidth,1);if(r.fillStyle=uj(n.fillStyle,o),r.lineCap=uj(n.lineCap,"butt"),r.lineDashOffset=uj(n.lineDashOffset,0),r.lineJoin=uj(n.lineJoin,"miter"),r.lineWidth=s,r.strokeStyle=uj(n.strokeStyle,o),r.setLineDash(uj(n.lineDash,[])),i.usePointStyle){const o={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=a.xPlus(e,p/2);ET(r,o,l,t+d,i.pointStyleWidth&&p)}else{const i=t+Math.max((u-f)/2,0),o=a.leftForLtr(e,p),l=BT(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?OT(r,{x:o,y:i,w:p,h:f,radius:l}):r.rect(o,i,p,f),r.fill(),0!==s&&r.stroke()}r.restore()}(a.x(_),j,x),_=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(S,_+p+d,g?_+k:this.right,e.rtl),function(e,t,n){RT(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(_),j,x),g)h.x+=k+c;else if("string"!==typeof x.text){const e=l.lineHeight;h.y+=PN(x,e)+c}else h.y+=v})),xC(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=WT(t.font),r=UT(t.padding);if(!t.display)return;const s=yC(e.rtl,this.left,this.width),i=this.ctx,o=t.position,a=n.size/2,l=r.top+a;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=sT(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+sT(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=sT(o,u,u+d);i.textAlign=s.textAlign(rT(o)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=n.string,RT(i,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=WT(e.font),n=UT(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,s;if(Qj(e,this.left,this.right)&&Qj(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],Qj(e,r.left,r.left+r.width)&&Qj(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,o=(s=n,null!==(r=i)&&null!==s&&r.datasetIndex===s.datasetIndex&&r.index===s.index);i&&!o&&hj(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!o&&hj(t.onHover,[e,n,this],this)}else n&&hj(t.onClick,[e,n,this],this);var r,s}}function PN(e,t){return t*(e.text?e.text.length:0)}var MN={id:"legend",_element:AN,start(e,t,n){const r=e.legend=new AN({ctx:e.ctx,options:n,chart:e});mE.configure(e,r,n),mE.addBox(e,r)},stop(e){mE.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;mE.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=UT(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class IN extends IE{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=oj(n.text)?n.text.length:1;this._padding=UT(n.padding);const s=r*WT(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:s,options:i}=this,o=i.align;let a,l,c,u=0;return this.isHorizontal()?(l=sT(o,n,s),c=t+e,a=s-n):("left"===i.position?(l=n+e,c=sT(o,r,t),u=-.5*Cj):(l=s-e,c=sT(o,t,r),u=.5*Cj),a=r-t),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=WT(t.font),r=n.lineHeight/2+this._padding.top,{titleX:s,titleY:i,maxWidth:o,rotation:a}=this._drawArgs(r);RT(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:rT(t.align),textBaseline:"middle",translation:[s,i]})}}var RN={id:"title",_element:IN,start(e,t,n){!function(e,t){const n=new IN({ctx:e.ctx,options:t,chart:e});mE.configure(e,n,t),mE.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;mE.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;mE.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const ON={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,i=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),s+=e.y,++i}}if(0===i||0===r.size)return!1;return{x:[...r].reduce(((e,t)=>e+t))/r.size,y:s/i}},nearest(e,t){if(!e.length)return!1;let n,r,s,i=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Hj(t,r.getCenterPoint());e<a&&(a=e,s=r)}}if(s){const e=s.tooltipPosition();i=e.x,o=e.y}return{x:i,y:o}}};function DN(e,t){return t&&(oj(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function LN(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function FN(e,t){const{element:n,datasetIndex:r,index:s}=t,i=e.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:e,label:o,parsed:i.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function zN(e,t){const n=e.chart.ctx,{body:r,footer:s,title:i}=e,{boxWidth:o,boxHeight:a}=t,l=WT(t.bodyFont),c=WT(t.titleFont),u=WT(t.footerFont),d=i.length,h=s.length,p=r.length,f=UT(t.padding);let m=f.height,g=0,y=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y){m+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let v=0;const x=function(e){g=Math.max(g,n.measureText(e).width+v)};return n.save(),n.font=c.string,pj(e.title,x),n.font=l.string,pj(e.beforeBody.concat(e.afterBody),x),v=t.displayColors?o+2+t.boxPadding:0,pj(r,(e=>{pj(e.before,x),pj(e.lines,x),pj(e.after,x)})),v=0,n.font=u.string,pj(e.footer,x),n.restore(),g+=f.width,{width:g,height:m}}function $N(e,t,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return"center"===r?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),function(e,t,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;return"left"===e&&s+i+o>t.width||"right"===e&&s-i-o<0||void 0}(c,e,t,n)&&(c="center"),c}function BN(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||$N(e,t,n,r),yAlign:r}}function UN(e,t,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=BT(o);let f=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,a);const m=function(e,t,n){let{y:r,height:s}=e;return"top"===t?r+=n:r-="bottom"===t?s+n:s/2,r}(t,l,c);return"center"===l?"left"===a?f+=c:"right"===a&&(f-=c):"left"===a?f-=Math.max(u,h)+s:"right"===a&&(f+=Math.max(d,p)+s),{x:Kj(f,0,r.width-t.width),y:Kj(m,0,r.height-t.height)}}function WN(e,t,n){const r=UT(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function HN(e){return DN([],LN(e))}function VN(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const qN={beforeTitle:rj,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:rj,beforeBody:rj,beforeLabel:rj,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ij(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:rj,afterBody:rj,beforeFooter:rj,footer:rj,afterFooter:rj};function KN(e,t,n,r){const s=e[t].call(n,r);return"undefined"===typeof s?qN[t].call(n,r):s}class QN extends IE{static positioners=(()=>ON)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new jC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,VT(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=KN(n,"beforeTitle",this,e),s=KN(n,"title",this,e),i=KN(n,"afterTitle",this,e);let o=[];return o=DN(o,LN(r)),o=DN(o,LN(s)),o=DN(o,LN(i)),o}getBeforeBody(e,t){return HN(KN(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return pj(e,(e=>{const t={before:[],lines:[],after:[]},s=VN(n,e);DN(t.before,LN(KN(s,"beforeLabel",this,e))),DN(t.lines,KN(s,"label",this,e)),DN(t.after,LN(KN(s,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return HN(KN(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=KN(n,"beforeFooter",this,e),s=KN(n,"footer",this,e),i=KN(n,"afterFooter",this,e);let o=[];return o=DN(o,LN(r)),o=DN(o,LN(s)),o=DN(o,LN(i)),o}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],i=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(FN(this.chart,t[o]));return e.filter&&(l=l.filter(((t,r,s)=>e.filter(t,r,s,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),pj(l,(t=>{const n=VN(e.callbacks,t);r.push(KN(n,"labelColor",this,t)),s.push(KN(n,"labelPointStyle",this,t)),i.push(KN(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,i=[];if(r.length){const e=ON[n.position].call(this,r,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const t=this._size=zN(this,n),o=Object.assign({},e,t),a=BN(this.chart,n,o),l=UN(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:i,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=BT(o),{x:d,y:h}=e,{width:p,height:f}=t;let m,g,y,v,x,b;return"center"===s?(x=h+f/2,"left"===r?(m=d,g=m-i,v=x+i,b=x-i):(m=d+p,g=m+i,v=x-i,b=x+i),y=m):(g="left"===r?d+Math.max(a,c)+i:"right"===r?d+p-Math.max(l,u)-i:this.caretX,"top"===s?(v=h,x=v-i,m=g-i,y=g+i):(v=h+f,x=v+i,m=g+i,y=g-i),b=v),{x1:m,x2:g,x3:y,y1:v,y2:x,y3:b}}drawTitle(e,t,n){const r=this.title,s=r.length;let i,o,a;if(s){const l=yC(n.rtl,this.x,this.width);for(e.x=WN(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",i=WT(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=i.string,a=0;a<s;++a)t.fillText(r[a],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+o,a+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,r,s){const i=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=s,c=WT(s.bodyFont),u=WN(this,"left",s),d=r.x(u),h=a<c.lineHeight?(c.lineHeight-a)/2:0,p=t.y+h;if(s.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(d,l)+l/2,c=p+a/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,CT(e,t,n,c),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,CT(e,t,n,c)}else{e.lineWidth=aj(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=r.leftForLtr(d,l),n=r.leftForLtr(r.xPlus(d,1),l-2),o=BT(i.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=s.multiKeyBackground,OT(e,{x:t,y:p,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),OT(e,{x:n,y:p+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,p,l,a),e.strokeRect(t,p,l,a),e.fillStyle=i.backgroundColor,e.fillRect(n,p+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:i,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=WT(n.bodyFont);let d=u.lineHeight,h=0;const p=yC(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+s},m=p.textAlign(i);let g,y,v,x,b,w,S;for(t.textAlign=i,t.textBaseline="middle",t.font=u.string,e.x=WN(this,m,n),t.fillStyle=n.bodyColor,pj(this.beforeBody,f),h=o&&"right"!==m?"center"===i?l/2+c:l+2+c:0,x=0,w=r.length;x<w;++x){for(g=r[x],y=this.labelTextColors[x],t.fillStyle=y,pj(g.before,f),v=g.lines,o&&v.length&&(this._drawColorBox(t,e,x,p,n),d=Math.max(u.lineHeight,a)),b=0,S=v.length;b<S;++b)f(v[b]),d=u.lineHeight;pj(g.after,f)}h=0,d=u.lineHeight,pj(this.afterBody,f),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let i,o;if(s){const a=yC(n.rtl,this.x,this.width);for(e.x=WN(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",i=WT(n.footerFont),t.fillStyle=n.footerColor,t.font=i.string,o=0;o<s;++o)t.fillText(r[o],a.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:i}=this,{x:o,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=BT(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+u,a),"top"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+l-d,a),t.quadraticCurveTo(o+l,a,o+l,a+d),"center"===i&&"right"===s&&this.drawCaret(e,t,n,r),t.lineTo(o+l,a+c-p),t.quadraticCurveTo(o+l,a+c,o+l-p,a+c),"bottom"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+h,a+c),t.quadraticCurveTo(o,a+c,o,a+c-h),"center"===i&&"left"===s&&this.drawCaret(e,t,n,r),t.lineTo(o,a+u),t.quadraticCurveTo(o,a,o+u,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const n=ON[e.position].call(this,this._active,this._eventPosition);if(!n)return;const i=this._size=zN(this,e),o=Object.assign({},n,this._size),a=BN(t,e,o),l=UN(e,o,a,t);r._to===l.x&&s._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=i.width,this.height=i.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=UT(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),vC(e,t.textDirection),s.y+=i.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),xC(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),s=!fj(n,r),i=this._positionChanged(r,t);(s||i)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],i=this._getActiveElements(e,s,t,n),o=this._positionChanged(i,e),a=t||!fj(i,s)||o;return a&&(this._active=i,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,r){const s=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,i=ON[s.position].call(this,e,t);return!1!==i&&(n!==i.x||r!==i.y)}}var YN={id:"tooltip",_element:QN,positioners:ON,afterInit(e,t,n){n&&(e.tooltip=new QN({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function GN(e,t,n,r){const s=e.indexOf(t);if(-1===s)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return s!==e.lastIndexOf(t)?n:s}function XN(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class JN extends WE{static id="category";static defaults=(()=>({ticks:{callback:XN}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ij(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Kj(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:GN(n,e,uj(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=t;i++)r.push({value:i});return r}getLabelForValue(e){return XN.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function ZN(e,t){const n=[],{bounds:r,step:s,min:i,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=s||1,p=c-1,{min:f,max:m}=t,g=!ij(i),y=!ij(o),v=!ij(l),x=(m-f)/(u+1);let b,w,S,k,_=Lj((m-f)/p/h)*h;if(_<1e-14&&!g&&!y)return[{value:f},{value:m}];k=Math.ceil(m/_)-Math.floor(f/_),k>p&&(_=Lj(k*_/p/h)*h),ij(a)||(b=Math.pow(10,a),_=Math.ceil(_*b)/b),"ticks"===r?(w=Math.floor(f/_)*_,S=Math.ceil(m/_)*_):(w=f,S=m),g&&y&&s&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-i)/s,_/1e3)?(k=Math.round(Math.min((o-i)/_,c)),_=(o-i)/k,w=i,S=o):v?(w=g?i:w,S=y?o:S,k=l-1,_=(S-w)/k):(k=(S-w)/_,k=Dj(k,Math.round(k),_/1e3)?Math.round(k):Math.ceil(k));const j=Math.max(Uj(_),Uj(w));b=Math.pow(10,ij(a)?j:a),w=Math.round(w*b)/b,S=Math.round(S*b)/b;let T=0;for(g&&(d&&w!==i?(n.push({value:i}),w<i&&T++,Dj(Math.round((w+T*_)*b)/b,i,eA(i,x,e))&&T++):w<i&&T++);T<k;++T){const e=Math.round((w+T*_)*b)/b;if(y&&e>o)break;n.push({value:e})}return y&&d&&S!==o?n.length&&Dj(n[n.length-1].value,o,eA(o,x,e))?n[n.length-1].value=o:n.push({value:o}):y&&S!==o||n.push({value:S}),n}function eA(e,t,n){let{horizontal:r,minRotation:s}=n;const i=$j(s),o=(r?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class tA extends WE{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ij(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const i=e=>r=t?r:e,o=e=>s=n?s:e;if(e){const e=Oj(r),t=Oj(s);e<0&&t<0?o(0):e>0&&t>0&&i(0)}if(r===s){let t=0===s?1:Math.abs(.05*s);o(s+t),e||i(r-t)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=ZN({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&zj(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return mT(e,this.chart.options.locale,this.options.ticks.format)}}class nA extends tA{static id="linear";static defaults=(()=>({ticks:{callback:yT.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=lj(e)?e:0,this.max=lj(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=$j(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}yT.formatters.logarithmic;yT.formatters.numeric;const rA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},sA=Object.keys(rA);function iA(e,t){return e-t}function oA(e,t){if(ij(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:i}=e._parseOpts;let o=t;return"function"===typeof r&&r(o),lj(o)||("string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(s&&("week"!==s||!Fj(i)&&!0!==i?n.startOf(o,s):n.startOf(o,"isoWeek",i)),+o)}function aA(e,t,n,r){const s=sA.length;for(let i=sA.indexOf(e);i<s-1;++i){const e=rA[sA[i]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(s*e.size))<=r)return sA[i]}return sA[s-1]}function lA(e,t,n){if(n){if(n.length){const{lo:r,hi:s}=Yj(n,t);e[n[r]>=t?n[r]:n[s]]=!0}}else e[t]=!0}function cA(e,t,n){const r=[],s={},i=t.length;let o,a;for(0;o<i;++o)t[o],s[a]=o,r.push({value:a,major:!1});return 0!==i&&n?function(e,t,n,r){const s=e._adapter,i=+s.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(i;a<=o;+s.add(a,1,r))n[a],l>=0&&(t[l].major=!0);return t}(e,r,s,n):r}class uA extends WE{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new YC(e.adapters.date);r.init(t),xj(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:oA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:i,maxDefined:o}=this.getUserBounds();function a(e){i||isNaN(e.min)||Math.min(r,e.min),o||isNaN(e.max)||Math.max(s,e.max)}i&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),lj(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),lj(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(e[0],e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,i=function(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)0;for(;s>r&&e[s-1]>n;)0;return r>0||s<e.length?e.slice(r,s):e}(r,s,this.max);return this._unit=t.unit||(n.autoSkip?aA(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,n,r,s){for(let i=sA.length-1;i>=sA.indexOf(n);i--){const n=sA[i];if(rA[n].common&&e._adapter.diff(s,r,n)>=t-1)return n}return sA[n?sA.indexOf(n):0]}(this,i.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=sA.indexOf(e)+1,n=sA.length;t<n;++t)if(rA[sA[t]].common)return sA[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&i.reverse(),cA(this,i,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,s=0;this.options.offset&&n.length&&(this.getDecimalForValue(n[0]),1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,this.getDecimalForValue(n[n.length-1]),1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const i=n.length<3?.5:.25;Kj(r,0,i),Kj(s,0,i),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,i=s.unit||aA(s.minUnit,t,n,this._getLabelCapacity(t)),o=uj(r.ticks.stepSize,1),a="week"===i&&s.isoWeekday,l=Fj(a)||!0===a,c={};let u,d,h=t;if(l&&+e.startOf(h,"isoWeek",a),+e.startOf(h,l?"day":i),e.diff(n,t,i)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+i);const p="data"===r.ticks.source&&this.getDataTimestamps();for(0;u<n;+e.add(u,o,i),d++)lA(c,u,p);return u!==n&&"ticks"!==r.bounds&&1!==d||lA(c,u,p),Object.keys(c).sort(iA).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,s=t||n[r];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,r){const s=this.options,i=s.ticks.callback;if(i)return hj(i,[e,t,n],this);const o=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,r||(h?u:c))}generateTickLabels(e){let t,n,r;for(e.length;t<n;++t)e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=$j(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),i=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*i,h:n*i+o*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,cA(this,[e],this._majorUnit),r),i=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(r.length;e<t;++e)n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(r.length;t<n;++t)e.push(oA(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return eT(e.sort(iA))}}const dA="label";function hA(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function pA(e,t){e.labels=t}function fA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dA;const r=[];e.datasets=t.map((t=>{const s=e.datasets.find((e=>e[n]===t[n]));return s&&t.data&&!r.includes(s)?(r.push(s),Object.assign(s,t),s):{...t}}))}function mA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dA;const n={labels:[],datasets:[]};return pA(n,e.labels),fA(n,e.datasets,t),n}function gA(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...p}=e,f=(0,s.useRef)(null),m=(0,s.useRef)(null),g=()=>{f.current&&(m.current=new bN(f.current,{type:a,data:mA(l,o),options:c&&{...c},plugins:u}),hA(t,m.current))},y=()=>{hA(t,null),m.current&&(m.current.destroy(),m.current=null)};return(0,s.useEffect)((()=>{!i&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[i,c]),(0,s.useEffect)((()=>{!i&&m.current&&pA(m.current.config.data,l.labels)}),[i,l.labels]),(0,s.useEffect)((()=>{!i&&m.current&&l.datasets&&fA(m.current.config.data,l.datasets,o)}),[i,l.datasets]),(0,s.useEffect)((()=>{m.current&&(i?(y(),setTimeout(g)):m.current.update(h))}),[i,c,l.labels,l.datasets,h]),(0,s.useEffect)((()=>{m.current&&(y(),setTimeout(g))}),[a]),(0,s.useEffect)((()=>(g(),()=>y())),[]),s.createElement("canvas",{ref:f,role:"img",height:n,width:r,...p},d)}const yA=(0,s.forwardRef)(gA);function vA(e,t){return bN.register(t),(0,s.forwardRef)(((t,n)=>s.createElement(yA,{...t,ref:n,type:e})))}const xA=vA("bar",qC),bA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function wA(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const SA={date:wA({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:wA({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:wA({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},kA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function _A(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=n?.width?String(n.width):t;r=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=n?.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const jA={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:_A({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:_A({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:_A({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:_A({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:_A({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function TA(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,(e=>e.test(o))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const CA={ordinalNumber:(EA={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(EA.matchPattern);if(!n)return null;const r=n[0],s=e.match(EA.parsePattern);if(!s)return null;let i=EA.valueCallback?EA.valueCallback(s[0]):s[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:TA({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:TA({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:TA({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:TA({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:TA({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var EA;const NA={code:"en-US",formatDistance:(e,t,n)=>{let r;const s=bA[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:SA,formatRelative:(e,t,n,r)=>kA[e],localize:jA,match:CA,options:{weekStartsOn:0,firstWeekContainsDate:1}};let AA={};function PA(){return AA}Math.pow(10,8);const MA=6048e5,IA=Symbol.for("constructDateFrom");function RA(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&IA in e?e[IA](t):e instanceof Date?new e.constructor(t):new Date(t)}function OA(e,t){return RA(t||e,e)}function DA(e){const t=OA(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function LA(e,t){const n=OA(e,t?.in);return n.setHours(0,0,0,0),n}function FA(e,t,n){const[r,s]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=RA.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(s)}(n?.in,e,t),i=LA(r),o=LA(s),a=+i-DA(i),l=+o-DA(o);return Math.round((a-l)/864e5)}function zA(e,t){const n=OA(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $A(e,t){const n=OA(e,t?.in);return FA(n,zA(n))+1}function BA(e,t){const n=PA(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=OA(e,t?.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function UA(e,t){return BA(e,{...t,weekStartsOn:1})}function WA(e,t){const n=OA(e,t?.in),r=n.getFullYear(),s=RA(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=UA(s),o=RA(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=UA(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function HA(e,t){const n=WA(e,t),r=RA(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),UA(r)}function VA(e,t){const n=OA(e,t?.in),r=+UA(n)-+HA(n);return Math.round(r/MA)+1}function qA(e,t){const n=OA(e,t?.in),r=n.getFullYear(),s=PA(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=RA(t?.in||e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=BA(o,t),l=RA(t?.in||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=BA(l,t);return+n>=+a?r+1:+n>=+c?r:r-1}function KA(e,t){const n=PA(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=qA(e,t),i=RA(t?.in||e,0);i.setFullYear(s,0,r),i.setHours(0,0,0,0);return BA(i,t)}function QA(e,t){const n=OA(e,t?.in),r=+BA(n,t)-+KA(n,t);return Math.round(r/MA)+1}function YA(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const GA={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return YA("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):YA(n+1,2)},d:(e,t)=>YA(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>YA(e.getHours()%12||12,t.length),H:(e,t)=>YA(e.getHours(),t.length),m:(e,t)=>YA(e.getMinutes(),t.length),s:(e,t)=>YA(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return YA(Math.trunc(r*Math.pow(10,n-3)),t.length)}},XA="midnight",JA="noon",ZA="morning",eP="afternoon",tP="evening",nP="night",rP={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return GA.y(e,t)},Y:function(e,t,n,r){const s=qA(e,r),i=s>0?s:1-s;if("YY"===t){return YA(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):YA(i,t.length)},R:function(e,t){return YA(WA(e),t.length)},u:function(e,t){return YA(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return YA(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return YA(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return GA.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return YA(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=QA(e,r);return"wo"===t?n.ordinalNumber(s,{unit:"week"}):YA(s,t.length)},I:function(e,t,n){const r=VA(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):YA(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):GA.d(e,t)},D:function(e,t,n){const r=$A(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):YA(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return YA(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return YA(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=0===r?7:r;switch(t){case"i":return String(s);case"ii":return YA(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(s=12===r?JA:0===r?XA:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(s=r>=17?tP:r>=12?eP:r>=4?ZA:nP,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return GA.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):GA.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):YA(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):YA(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):GA.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):GA.s(e,t)},S:function(e,t){return GA.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return iP(r);case"XXXX":case"XX":return oP(r);default:return oP(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return iP(r);case"xxxx":case"xx":return oP(r);default:return oP(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sP(r,":");default:return"GMT"+oP(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sP(r,":");default:return"GMT"+oP(r,":")}},t:function(e,t,n){return YA(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return YA(+e,t.length)}};function sP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return 0===i?n+String(s):n+String(s)+t+YA(i,2)}function iP(e,t){if(e%60===0){return(e>0?"-":"+")+YA(Math.abs(e)/60,2)}return oP(e,t)}function oP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+YA(Math.trunc(r/60),2)+t+YA(r%60,2)}const aP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},lP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},cP={p:lP,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return aP(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",aP(r,t)).replace("{{time}}",lP(s,t))}},uP=/^D+$/,dP=/^Y+$/,hP=["D","DD","YY","YYYY"];function pP(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function fP(e){return!(!pP(e)&&"number"!==typeof e||isNaN(+OA(e)))}const mP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yP=/^'([^]*?)'?$/,vP=/''/g,xP=/[a-zA-Z]/;function bP(e,t,n){const r=PA(),s=n?.locale??r.locale??NA,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=OA(e,n?.in);if(!fP(a))throw new RangeError("Invalid time value");let l=t.match(gP).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,cP[t])(e,s.formatLong)}return e})).join("").match(mP).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:wP(e)};if(rP[t])return{isToken:!0,value:e};if(t.match(xP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map((r=>{if(!r.isToken)return r.value;const i=r.value;(!n?.useAdditionalWeekYearTokens&&function(e){return dP.test(e)}(i)||!n?.useAdditionalDayOfYearTokens&&function(e){return uP.test(e)}(i))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),hP.includes(e))throw new RangeError(r)}(i,t,String(e));return(0,rP[i[0]])(a,i,s.localize,c)})).join("")}function wP(e){const t=e.match(yP);return t?t[1].replace(vP,"'"):e}const SP=e=>{var t,n,r,i,o,a;let{userId:l,trackId:c,userProgress:u,facts:d,progressPercentage:h,isLoading:p,targetFluency:f=1.5}=e;const[m,g]=(0,s.useState)(null),[y,v]=(0,s.useState)(null),x=(0,s.useCallback)(((e,t)=>!!t&&("mastered"===t.status||(1.5===f?"fluency1Practice"===t.status||"automatic"===t.status:"fluency1_5Practice"===t.status||"fluency1Practice"===t.status||"automatic"===t.status))),[f]),b=e=>{if(!e||0===e.length)return"bg-gray-50 hover:bg-gray-100";if(!u)return"bg-gray-200 hover:bg-gray-300";let t=e.length>0;for(const s of e){const e=u.facts[s.factId];if(!x(s,e)){t=!1;break}}if(t)return"bg-green-500 hover:bg-green-600";let n="notStarted";const r={notStarted:0,learning:1,accuracyPractice:2,fluency6Practice:3,fluency3Practice:4,fluency2Practice:5,fluency1_5Practice:6,fluency1Practice:7,automatic:8,mastered:9};for(const s of e){const e=u.facts[s.factId];if(!e)continue;const t=e.status;r[t]>r[n]&&(n=t)}switch(n){case"notStarted":default:return"bg-gray-200 hover:bg-gray-300";case"learning":return"bg-blue-200 hover:bg-blue-300";case"accuracyPractice":return"bg-orange-400 hover:bg-orange-500";case"fluency6Practice":return"bg-yellow-400 hover:bg-yellow-500";case"fluency3Practice":case"fluency2Practice":case"fluency1_5Practice":case"fluency1Practice":case"automatic":return"bg-lime-400 hover:bg-lime-500"}};if(p)return(0,No.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,No.jsx)(iS,{size:40,thickness:4,sx:{color:"#3b82f6"}})});if(y)return(0,No.jsx)("div",{className:"p-4 bg-white rounded-lg shadow-md",children:(0,No.jsx)("div",{className:"text-center text-red-500",children:y})});if(!d||0===d.length)return(0,No.jsx)("div",{className:"p-4 bg-white rounded-lg shadow-md",children:(0,No.jsx)("div",{className:"text-center text-gray-500",children:"No facts data available for this track."})});const{rowNumbers:w,colNumbers:S,factGrid:k,operator:_,isSubtractionOrDivision:j}=(()=>{const e=new Set,t=new Set,n={};let r="+";const s="TRACK2"===c||"TRACK4"===c||"TRACK5"===c||"TRACK8"===c;return d.forEach((i=>{s?(e.add(i.result),t.add(i.operand2),n[i.result]||(n[i.result]={}),n[i.result][i.operand2]||(n[i.result][i.operand2]=[]),n[i.result][i.operand2].push(i)):(e.add(i.operand1),t.add(i.operand2),n[i.operand1]||(n[i.operand1]={}),n[i.operand1][i.operand2]||(n[i.operand1][i.operand2]=[]),n[i.operand1][i.operand2].push(i)),r="addition"===i.operation?"+":"subtraction"===i.operation?"\u2212":"multiplication"===i.operation?"\xd7":"\xf7"})),{rowNumbers:Array.from(e).sort(((e,t)=>e-t)),colNumbers:Array.from(t).sort(((e,t)=>e-t)),factGrid:n,operator:r,isSubtractionOrDivision:s}})();return(0,No.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[(0,No.jsxs)("div",{className:"mb-3",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text mb-2",children:"Track Progress"}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,No.jsx)("div",{className:"h-full bg-green-500",style:{width:`${h}%`,transition:"width 0.5s ease-in-out"}})}),(0,No.jsxs)("span",{className:"text-sm text-gray-500 min-w-[3rem] text-right",children:[Math.round(h),"%"]})]})]}),(0,No.jsxs)("div",{className:"flex flex-row items-start gap-4",children:[(0,No.jsxs)("div",{className:"flex flex-col gap-2 mr-4",children:[(0,No.jsx)("h2",{className:"text-lg font-bold text-gray-700 mb-2",children:"Facts Grid"}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-200 border border-gray-300"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Not Started"})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-blue-200 border border-blue-300"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Learning"})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-orange-400 border border-orange-500"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Accuracy"})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-yellow-400 border border-yellow-500"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Fluency 6s"})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-lime-400 border border-lime-500"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:1===f?"Fluency 3s-1.5s":1.5===f?"Fluency 3s-2s":2===f?"Fluency 3s":`Fluency 3s-${f}s`})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-500 border border-green-600"}),(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Mastered"})]})]}),(0,No.jsx)("div",{className:"flex-1",children:(0,No.jsx)("div",{className:"relative w-full aspect-square max-w-[55vh] max-h-[55vh] mx-auto",children:(0,No.jsx)("div",{className:"w-full h-full",children:(0,No.jsxs)("div",{className:"grid gap-1 h-full",style:{gridTemplateColumns:`1.5rem repeat(${S.length}, minmax(${Math.max(.5,1.8-.05*S.length)}rem, 1fr))`,gridTemplateRows:`1.5rem repeat(${w.length}, minmax(${Math.max(.5,1.8-.05*w.length)}rem, 1fr))`,fontSize:Math.max(.65,.9-.01*Math.max(w.length,S.length))+"rem"},children:[(0,No.jsx)("div",{className:"flex items-center justify-center text-xs font-medium text-gray-500",children:_}),S.map((e=>(0,No.jsx)("div",{className:"flex items-center justify-center text-xs font-medium text-gray-500",style:{fontSize:Math.max(.65,.85-.01*S.length)+"rem"},children:e},e))),w.map((e=>(0,No.jsxs)(s.Fragment,{children:[(0,No.jsx)("div",{className:"flex items-center justify-center text-xs font-medium text-gray-500",style:{fontSize:Math.max(.65,.85-.01*w.length)+"rem"},children:e}),S.map((t=>{var n;const r=null===(n=k[e])||void 0===n?void 0:n[t],s=r&&r.length>0;return(0,No.jsx)("button",{className:`\n                            w-full\n                            h-full\n                            rounded\n                            text-white\n                            font-medium\n                            transition-all\n                            duration-200\n                            transform\n                            ${b(r)}\n                            ${s?"hover:shadow-sm hover:scale-105 active:scale-95 cursor-pointer":"cursor-default"}\n                          `,onClick:s?()=>g({i:e,j:t}):void 0,"aria-disabled":!s},t)}))]},e)))]})})})})]}),m&&(0,No.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 transition-opacity duration-200 ease-in-out z-50",onClick:()=>g(null),children:(0,No.jsx)(Wg.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-lg shadow-md p-6",onClick:e=>e.stopPropagation(),children:(0,No.jsx)("div",{className:"text-4xl font-bold flex items-center space-x-4",children:j?(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("span",{className:"text-gray-800",children:(null===(t=k[m.i])||void 0===t||null===(n=t[m.j])||void 0===n||null===(r=n[0])||void 0===r?void 0:r.operand1)||"?"}),(0,No.jsx)("span",{className:"text-blue-500",children:_}),(0,No.jsx)("span",{className:"text-gray-800",children:m.j}),(0,No.jsx)("span",{className:"text-blue-500",children:"="}),(0,No.jsx)("span",{className:"text-gray-800",children:m.i})]}):(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("span",{className:"text-gray-800",children:m.i}),(0,No.jsx)("span",{className:"text-blue-500",children:_}),(0,No.jsx)("span",{className:"text-gray-800",children:m.j}),(0,No.jsx)("span",{className:"text-blue-500",children:"="}),(0,No.jsx)("span",{className:"text-gray-800",children:(null===(i=k[m.i])||void 0===i||null===(o=i[m.j])||void 0===o||null===(a=o[0])||void 0===a?void 0:a.result)||"?"})]})})})})]})};bN.register(JN,nA,EN,RN,YN,MN);const kP={TRACK1:"Addition",TRACK2:"Subtraction",TRACK3:"Multiplication",TRACK4:"Division",TRACK5:"Division (Quotient \u226412)",TRACK6:"Addition (\u226420)",TRACK7:"Multiplication (\u226412)",TRACK8:"Subtraction (\u226420)"},_P={TRACK5:"Division",TRACK6:"Addition",TRACK7:"Multiplication",TRACK8:"Subtraction"},jP=e=>{let{userId:t,name:n,email:r,onBack:i,studentData:o}=e;const[a,l]=(0,s.useState)(!o),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)("5"),[p,f]=(0,s.useState)([]),[m,g]=(0,s.useState)(o||null),[y,v]=(0,s.useState)([]),[x,b]=(0,s.useState)(""),[w,S]=(0,s.useState)(""),[k,_]=(0,s.useState)(!1),[j,T]=(0,s.useState)(null),[C,E]=(0,s.useState)(!1),[N,A]=(0,s.useState)([]),[P,M]=(0,s.useState)({}),[I,R]=(0,s.useState)(!1),[O,D]=(0,s.useState)(null),[L,F]=(0,s.useState)({}),[z,$]=(0,s.useState)({}),[B,U]=(0,s.useState)([]),[W,H]=(0,s.useState)(null),[V,q]=(0,s.useState)(null),[K,Q]=(0,s.useState)(0),[Y,G]=(0,s.useState)(!1),[X,J]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=e=>{g(e);const t=Object.keys(e.tracks||{});v(t),t.length>0&&b(t[0]),e.focusTrack&&S(e.focusTrack)};(async()=>{if(o)e(o);else{l(!0),u(null);try{const n=(await bo())[t];if(!n)throw new Error("Student data not found");e(n)}catch(n){console.error("Error fetching student data:",n),u("Failed to load student data")}finally{l(!1)}}})()}),[t,o]),(0,s.useEffect)((()=>{if(!m||!x)return;const e=m.tracks[x];if(null!==e&&void 0!==e&&e.cqpmHistory&&e.cqpmHistory.length>0){const t=e.cqpmHistory.map((e=>({date:e.date,cqpm:e.cqpm})));f(t)}else f([])}),[x,m]),(0,s.useEffect)((()=>{(async()=>{R(!0),D(null);try{const e=await(async e=>{try{var t;const n=await fo.get("/sessionAnalytics/userSessionsLastWeek",{params:{userId:e}});if(null===(t=n.data)||void 0===t||!t.success)throw new Error("Failed to fetch user sessions from last week");return n.data.data}catch(c){throw console.error("Error fetching user sessions from last week:",c),c instanceof Error?c:new Error("Failed to fetch user sessions from last week")}})(t);A(e||[]);const n={},r=new Set;e.forEach((e=>{const t=bP(new Date(e.startTime),"yyyy-MM-dd");n[t]||(n[t]=[]),n[t].push(e),e.trackId&&r.add(e.trackId)})),M(n),v((e=>{const t=new Set([...e,...Array.from(r)]),n=Array.from(t);return n.length>0&&!x&&b(n[0]),n}));const s=bP(new Date,"yyyy-MM-dd"),i={};Object.keys(n).forEach((e=>{i[e]=e===s})),F(i)}catch(e){console.error("Error fetching session data:",e),D("Failed to load session data")}finally{R(!1)}})()}),[t,x]),(0,s.useEffect)((()=>{if(!t||!x)return;(async()=>{G(!0),J(null);try{sessionStorage.setItem("activeTrackId",x);const[e,n]=await Promise.all([yo(x),go(t)]);U(e),H(null);const r=n.tracks.find((e=>e.trackId===x));if(r&&(q(r),e.length>0)){let t=0;const n=e.length;e.forEach((e=>{const n=r.facts[e.factId];n&&"mastered"===n.status&&t++}));Q(n>0?t/n*100:0)}}catch(e){console.error("Error fetching progress data:",e),J("Failed to load progress data")}finally{G(!1)}})()}),[t,x]);const Z={labels:p.map((e=>bP(new Date(e.date),"MMM dd"))),datasets:[{label:"CQPM",data:p.map((e=>e.cqpm)),backgroundColor:"rgba(59, 130, 246, 0.7)",borderColor:"rgba(37, 99, 235, 1)",borderWidth:1,borderRadius:4,barThickness:20}]},ee=(()=>{if(!m||!x)return{latestCQPM:null,previousCQPM:null,change:null,noAssessmentData:!0};const e=(m.tracks||{})[x];if(!e)return{latestCQPM:null,previousCQPM:null,change:null,noAssessmentData:!0};let t=null;return null!==e.latestCQPM&&null!==e.previousCQPM&&(t=e.latestCQPM-e.previousCQPM),{latestCQPM:e.latestCQPM,previousCQPM:e.previousCQPM,change:t,noAssessmentData:!1}})(),te=()=>x?kP[x]||x:"No Track Selected",ne=e=>{if(e<60)return`${e}s`;const t=Math.floor(e/60),n=e%60;return n>0?`${t}m ${n}s`:`${t}m`},re=e=>({learn:"Learning","accuracy-practice":"Accuracy Practice","fluency-practice":"Fluency Practice",assessment:"Assessment",dashboard:"Dashboard",other:"Other"}[e]||e),se=e=>kP[e]||e;return a?(0,No.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,No.jsx)(iS,{size:40,thickness:4,sx:{color:"#3b82f6"}})}):c?(0,No.jsxs)("div",{className:"p-4 rounded-lg bg-red-50 text-red-500 text-base text-center",children:[c,(0,No.jsxs)(ic,{variant:"outline",onClick:i,className:"mt-4",children:[(0,No.jsx)(py,{className:"mr-2"})," Go Back"]})]}):(0,No.jsxs)("div",{className:"space-y-4 mx-4 my-6",children:[(0,No.jsx)("div",{children:(0,No.jsxs)(ic,{variant:"outline",onClick:i,className:"mb-2",children:[(0,No.jsx)(py,{className:"mr-2"})," Back to Students"]})}),(0,No.jsx)(Ya,{className:"rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:(0,No.jsxs)(Ga,{className:"p-4",children:[(0,No.jsxs)("h2",{className:"text-xl font-semibold text-blue-700 flex items-center mb-3",children:[(0,No.jsx)(By,{className:"mr-2"})," Personal Information"]}),(0,No.jsxs)("div",{className:"grid md:grid-cols-4 gap-3",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Name"}),(0,No.jsx)("div",{className:"text-sm font-semibold",children:n})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Email"}),(0,No.jsx)("div",{className:"text-sm",children:r})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Grade"}),(0,No.jsx)("div",{className:"text-sm",children:d})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Focus Track"}),w?(0,No.jsxs)("div",{className:"flex flex-col",children:[(0,No.jsxs)("div",{className:"flex items-center",children:[(0,No.jsx)("div",{className:"text-sm font-medium mr-2",children:(ie=w,_P[ie]||ie)}),(0,No.jsxs)(ic,{variant:"outline",size:"sm",onClick:()=>E(!0),disabled:k||C,className:"text-xs py-1 h-auto flex items-center",children:["Move to Next Track ",(0,No.jsx)(fy,{className:"ml-1",size:12})]})]}),C&&(0,No.jsxs)("div",{className:"mt-2 p-2 border border-amber-200 bg-amber-50 rounded-md text-xs",children:[(0,No.jsx)("p",{className:"font-medium text-amber-800 mb-1",children:"Move student to the next track?"}),(0,No.jsx)("p",{className:"text-gray-600 mb-2",children:"This will change the student's learning path. This action cannot be undone."}),(0,No.jsxs)("div",{className:"flex gap-2",children:[(0,No.jsx)(ic,{variant:"default",size:"sm",onClick:async()=>{_(!0),T(null);try{const e=await Eo(t);e.success?(T("Focus Track was updated successfully. Refresh the page to see the latest value."),setTimeout((()=>{T&&T(null)}),5e3)):T(e.message||"Failed to update focus track")}catch(c){console.error("Error changing focus track:",c),T("An error occurred while updating focus track")}finally{_(!1),E(!1)}},disabled:k,className:"text-xs py-1 h-auto",children:k?(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)(iS,{size:12,className:"mr-1"})," Updating..."]}):"Confirm"}),(0,No.jsx)(ic,{variant:"outline",size:"sm",onClick:()=>E(!1),disabled:k,className:"text-xs py-1 h-auto",children:"Cancel"})]})]}),j&&(0,No.jsx)("div",{className:"text-xs mt-1 "+(j.includes("Success")?"text-green-500":"text-red-500"),children:j})]}):(0,No.jsx)("div",{className:"text-xs text-gray-500",children:"Not set"})]})]})]})}),y.length>0&&(0,No.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,No.jsx)("div",{className:"text-xs font-medium text-gray-700",children:"Select Track:"}),(0,No.jsx)("select",{value:x,onChange:e=>{const t=e.target.value;U([]),H(null),q(null),Q(0),G(!0),b(t)},className:"ml-2 border border-gray-300 rounded-md px-2 py-1 bg-white text-gray-700 text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:y.map((e=>(0,No.jsx)("option",{value:e,children:kP[e]||e},e)))})]}),(0,No.jsx)(Ya,{className:"rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:(0,No.jsxs)(Ga,{className:"p-4",children:[(0,No.jsxs)("h2",{className:"text-xl font-semibold text-blue-700 flex items-center mb-3",children:[(0,No.jsx)(gy,{className:"mr-2"})," CQPM Summary: ",te()]}),(0,No.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,No.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100",children:[(0,No.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Latest CQPM"}),(0,No.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:null!==ee.latestCQPM?ee.latestCQPM.toFixed(1):"-"})]}),(0,No.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,No.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Previous CQPM"}),(0,No.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:null!==ee.previousCQPM?ee.previousCQPM.toFixed(1):"-"})]}),(0,No.jsxs)("div",{className:"p-3 rounded-lg border "+(ee.change&&ee.change>0?"bg-green-50 border-green-100":"bg-red-50 border-red-100"),children:[(0,No.jsx)("div",{className:"text-xs font-medium text-gray-500",children:"Change from Previous"}),(0,No.jsx)("div",{className:"text-2xl font-bold "+(ee.change&&ee.change>0?"text-green-600":"text-red-600"),children:null!==ee.change?(ee.change>0?"+":"")+ee.change.toFixed(1):"-"})]})]}),ee.noAssessmentData&&(0,No.jsx)("div",{className:"mt-3 p-2 bg-amber-50 border border-amber-100 rounded-lg text-sm text-amber-800",children:(0,No.jsxs)("div",{className:"flex items-center",children:[(0,No.jsx)(Ny,{className:"mr-2 flex-shrink-0"}),(0,No.jsx)("span",{children:"No assessment data available for this track. Student has worked on this track but hasn't completed any assessments yet."})]})})]})}),(0,No.jsx)(Ya,{className:"rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:(0,No.jsxs)(Ga,{className:"p-4",children:[(0,No.jsxs)("h2",{className:"text-xl font-semibold text-blue-700 flex items-center mb-3",children:[(0,No.jsx)(Ey,{className:"mr-2"})," Progress Grid: ",te()]}),(0,No.jsx)(SP,{userId:t,trackId:x,userProgress:V,facts:B,progressPercentage:K,isLoading:Y})]})}),(0,No.jsx)(Ya,{className:"rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:(0,No.jsxs)(Ga,{className:"p-4",children:[(0,No.jsxs)("h2",{className:"text-xl font-semibold text-blue-700 flex items-center mb-3",children:[(0,No.jsx)(_y,{className:"mr-2"})," Sessions Timeline (Last 7 Days)",x&&(0,No.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["Filtered by: ",se(x)]})]}),I?(0,No.jsx)("div",{className:"flex justify-center items-center min-h-[150px]",children:(0,No.jsx)(iS,{size:24,thickness:4,sx:{color:"#3b82f6"}})}):O?(0,No.jsx)("div",{className:"p-3 rounded-lg bg-red-50 text-red-500 text-center text-xs border border-red-100",children:O}):0===Object.keys(P).length?(0,No.jsx)("div",{className:"p-3 text-gray-500 text-center text-xs bg-gray-50 rounded-lg border border-gray-200",children:"No session data available for the last 7 days."}):(0,No.jsxs)("div",{className:"space-y-3",children:[Object.keys(P).sort(((e,t)=>new Date(t).getTime()-new Date(e).getTime())).map((e=>{const t=(e=>{const t=P[e]||[];return(x?t.filter((e=>e.trackId===x)):t).reduce(((e,t)=>({totalTime:e.totalTime+t.totalDuration,learningTime:e.learningTime+t.learningTime,accuracyTime:e.accuracyTime+t.accuracyPracticeTime,fluencyTime:e.fluencyTime+(t.fluency6PracticeTime||0)+(t.fluency3PracticeTime||0)+(t.fluency2PracticeTime||0)+(t.fluency1_5PracticeTime||0)+(t.fluency1PracticeTime||0),assessmentTime:e.assessmentTime+t.assessmentTime,sessionCount:e.sessionCount+1})),{totalTime:0,learningTime:0,accuracyTime:0,fluencyTime:0,assessmentTime:0,sessionCount:0})})(e),n=L[e]||!1,r=bP(new Date,"yyyy-MM-dd"),s=e===r,i=x?P[e].filter((e=>e.trackId===x)):P[e];return 0===i.length?null:(0,No.jsxs)("div",{className:"border rounded-lg overflow-hidden shadow-sm",children:[(0,No.jsxs)("div",{className:`p-2 flex flex-wrap items-center justify-between ${s?"bg-blue-50 border-b border-blue-100":"bg-gray-50 border-b border-gray-200"} cursor-pointer`,onClick:()=>(e=>{F((t=>({...t,[e]:!t[e]})))})(e),children:[(0,No.jsxs)("div",{className:"flex items-center",children:[(0,No.jsx)("div",{className:"mr-1 text-gray-500",children:n?(0,No.jsx)(wy,{size:16}):(0,No.jsx)(ky,{size:16})}),(0,No.jsxs)("h3",{className:"font-medium text-xs ml-1 "+(s?"text-blue-700":"text-gray-800"),children:[bP(new Date(e),"EEEE, MMMM d, yyyy"),s&&(0,No.jsx)("span",{className:"ml-1 text-xs px-1 py-0.5 bg-blue-100 text-blue-800 rounded-full",children:"Today"})]})]}),(0,No.jsxs)("div",{className:"flex items-center space-x-3 text-xs",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("span",{className:"font-medium",children:t.sessionCount}),(0,No.jsx)("span",{className:"text-gray-500 ml-0.5",children:1===t.sessionCount?"session":"sessions"})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("span",{className:"font-medium",children:ne(t.totalTime)}),(0,No.jsx)("span",{className:"text-gray-500 ml-0.5",children:"total"})]})]})]}),(0,No.jsxs)("div",{className:"px-2 py-1 bg-white flex flex-wrap gap-1 border-b border-gray-100",children:[t.learningTime>0&&(0,No.jsxs)("div",{className:"text-[10px] bg-green-100 text-green-800 px-2 py-0.5 rounded-full font-medium",children:["Learning: ",ne(t.learningTime)]}),t.accuracyTime>0&&(0,No.jsxs)("div",{className:"text-[10px] bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full font-medium",children:["Accuracy: ",ne(t.accuracyTime)]}),t.fluencyTime>0&&(0,No.jsxs)("div",{className:"text-[10px] bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full font-medium",children:["Fluency: ",ne(t.fluencyTime)]}),t.assessmentTime>0&&(0,No.jsxs)("div",{className:"text-[10px] bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full font-medium",children:["Assessment: ",ne(t.assessmentTime)]})]}),n&&(0,No.jsx)("div",{className:"p-2 space-y-2 bg-white",children:i.map((e=>(0,No.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors duration-150",children:[(0,No.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-2",children:[(0,No.jsxs)("div",{className:"font-medium text-gray-800 text-xs",children:[bP(new Date(e.startTime),"h:mm a")," -",bP(new Date(e.endTime),"h:mm a"),(0,No.jsx)("span",{className:"ml-1 px-2 py-0.5 text-[10px] bg-blue-100 text-blue-800 rounded-full font-medium",children:se(e.trackId)})]}),(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsxs)("div",{className:"text-[10px] bg-gray-100 px-2 py-0.5 rounded-full text-gray-700 font-medium",children:["Total time: ",ne(e.totalDuration)]}),(0,No.jsxs)("div",{className:"text-[10px] bg-gray-100 px-2 py-0.5 rounded-full text-gray-700 font-medium",children:["Active time: ",ne(e.learningTime+e.accuracyPracticeTime+(e.fluency6PracticeTime||0)+(e.fluency3PracticeTime||0)+(e.fluency2PracticeTime||0)+(e.fluency1_5PracticeTime||0)+(e.fluency1PracticeTime||0)+e.assessmentTime)]})]})]}),(0,No.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-2",children:[e.learningTime>0&&(0,No.jsxs)("div",{className:"text-[10px] bg-green-100 text-green-800 px-2 py-1 rounded font-medium flex items-center justify-center",children:["Learning: ",ne(e.learningTime)]}),e.accuracyPracticeTime>0&&(0,No.jsxs)("div",{className:"text-[10px] bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium flex items-center justify-center",children:["Accuracy: ",ne(e.accuracyPracticeTime)]}),(e.fluency6PracticeTime||0)+(e.fluency3PracticeTime||0)+(e.fluency2PracticeTime||0)+(e.fluency1_5PracticeTime||0)+(e.fluency1PracticeTime||0)>0&&(0,No.jsxs)("div",{className:"text-[10px] bg-purple-100 text-purple-800 px-2 py-1 rounded font-medium flex items-center justify-center",children:["Fluency: ",ne((e.fluency6PracticeTime||0)+(e.fluency3PracticeTime||0)+(e.fluency2PracticeTime||0)+(e.fluency1_5PracticeTime||0)+(e.fluency1PracticeTime||0))]}),e.assessmentTime>0&&(0,No.jsxs)("div",{className:"text-[10px] bg-amber-100 text-amber-800 px-2 py-1 rounded font-medium flex items-center justify-center",children:["Assessment: ",ne(e.assessmentTime)]})]}),(0,No.jsxs)("div",{className:"text-[10px] text-gray-700 mt-2 p-2 rounded-lg border border-gray-100",children:[(0,No.jsxs)("div",{className:"flex items-center justify-between",children:[(0,No.jsx)("span",{className:"font-medium",children:"Pages visited: "}),e.pageTransitions.length>5&&(0,No.jsx)("button",{onClick:()=>{return t=e.sessionId,void $((e=>({...e,[t]:!e[t]})));var t},className:"text-blue-600 hover:text-blue-800 text-[10px] font-medium",children:z[e.sessionId]?"Show less":"Show all"})]}),(0,No.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.pageTransitions.slice(0,z[e.sessionId]?void 0:5).map(((e,t)=>{return(0,No.jsx)("span",{className:`px-2 py-0.5 rounded-full ${n=e.page,{learn:"bg-green-100 text-green-800","accuracy-practice":"bg-blue-100 text-blue-800","fluency-practice":"bg-purple-100 text-purple-800",assessment:"bg-amber-100 text-amber-800",dashboard:"bg-gray-100 text-gray-800",other:"bg-gray-100 text-gray-800"}[n]||"bg-gray-100 text-gray-800"} font-medium`,children:re(e.page)},t);var n}))})]})]},e.sessionId)))})]},e)})).filter(Boolean)," "]})]})}),(0,No.jsx)(Ya,{className:"rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:(0,No.jsxs)(Ga,{className:"p-4",children:[(0,No.jsxs)("h2",{className:"text-xl font-semibold text-blue-700 flex items-center mb-3",children:[(0,No.jsx)(gy,{className:"mr-2"})," CQPM History: ",te(),(0,No.jsxs)("span",{className:"ml-2 text-[10px] text-gray-500 flex items-center",children:[(0,No.jsx)(Ny,{className:"mr-1",size:10}),"Multiple assessments on the same day are averaged"]})]}),p.length>0?(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("div",{style:{height:"250px"},children:(0,No.jsx)(xA,{data:Z,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12,family:"'Inter', sans-serif"},color:"#4b5563"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#1f2937",bodyColor:"#4b5563",borderColor:"#e5e7eb",borderWidth:1,padding:10,cornerRadius:6,displayColors:!1,callbacks:{title:function(e){return e[0].label},label:function(e){return`${e.dataset.label||""}: ${e.raw.toFixed(1)}`}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(229, 231, 235, 0.5)"},ticks:{font:{size:11},color:"#6b7280",callback:function(e){return e}}},x:{grid:{display:!1},ticks:{font:{size:11},color:"#6b7280"}}}}})}),(0,No.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,No.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 rounded-lg overflow-hidden border border-gray-200",children:[(0,No.jsx)("thead",{className:"bg-gray-50",children:(0,No.jsx)("tr",{children:p.map(((e,t)=>(0,No.jsx)("th",{className:"px-4 py-2 text-[10px] font-medium text-gray-700 uppercase tracking-wider",children:bP(new Date(e.date),"MMM dd")},t)))})}),(0,No.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(0,No.jsx)("tr",{children:p.map(((e,t)=>(0,No.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-xs text-center font-medium text-blue-600",children:e.cqpm.toFixed(1)},t)))})})]})})]}):(0,No.jsxs)("div",{className:"p-4 text-center text-gray-500 bg-gray-50 rounded-lg border border-gray-200",children:[(0,No.jsx)(Ny,{className:"mx-auto mb-2",size:20}),(0,No.jsx)("p",{className:"text-sm",children:"No assessment data available for this track yet."}),(0,No.jsx)("p",{className:"text-xs mt-1 text-gray-400",children:"CQPM history will appear here after the student completes assessments."})]})]})})]});var ie},TP=["Name","Campus","Last Active","Active Track","Time Today","Time last 7 days","Facts Learnt","Facts Accuracy","Facts Fluency (1.5s)","Today's Goals","Goals per Day","Goal Completion Rate","Latest CQPM","Previous CQPM"],CP={0:["Name","Campus","Last Active","Active Track","Time Today","Time last 7 days","Goal Completion Rate"],1:["Name","Campus","Last Active","Today's Goals","Goals per Day","Facts Learnt","Facts Accuracy","Facts Fluency (1.5s)"],2:["Name","Campus","Last Active"],3:["Name","Campus","Last Active","Latest CQPM","Previous CQPM"]},EP={backgroundColor:"#f0f9ff",fontWeight:600,color:"#334155",borderBottom:"2px solid #bfdbfe",padding:"8px 16px",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.05em"},NP={Name:{maxWidth:"150px"},Campus:{maxWidth:"200px"}},AP={TRACK1:"Addition",TRACK2:"Subtraction",TRACK3:"Multiplication",TRACK4:"Division",TRACK5:"Division (Quotient \u226412)",TRACK6:"Addition (\u226420)",TRACK7:"Multiplication (\u226412)",TRACK8:"Subtraction (\u226420)"},PP=s.memo((e=>{let{availableCampuses:t,selectedCampuses:n,onSelectionChange:r}=e;const[i,o]=(0,s.useState)(!1),a=s.useRef(null);s.useEffect((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&o(!1)};return i&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[i]);return(0,No.jsxs)("div",{className:"relative",ref:a,children:[(0,No.jsxs)(ic,{variant:"outline",onClick:()=>o(!i),className:"w-64 justify-between text-sm",children:[(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)(Cy,{size:14}),(0,No.jsx)("span",{children:0===n.length?"Filter by Campus":n.length===t.length?"All Campuses":`${n.length} Campus${1!==n.length?"es":""}`})]}),(0,No.jsx)(wy,{size:14,className:"transition-transform "+(i?"rotate-180":"")})]}),i&&(0,No.jsxs)("div",{className:"absolute top-full left-0 mt-1 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-96 overflow-hidden",children:[(0,No.jsx)("div",{className:"p-3 border-b border-gray-100",children:(0,No.jsxs)("div",{className:"flex gap-2",children:[(0,No.jsx)(ic,{size:"sm",variant:"outline",onClick:()=>{r(t)},className:"text-xs",children:"Select All"}),(0,No.jsx)(ic,{size:"sm",variant:"outline",onClick:()=>{r([])},className:"text-xs",children:"Clear All"}),(0,No.jsx)(ic,{size:"sm",variant:"ghost",onClick:()=>o(!1),className:"text-xs ml-auto",children:(0,No.jsx)(Wy,{size:14})})]})}),(0,No.jsx)("div",{className:"max-h-64 overflow-y-auto",children:t.map((e=>(0,No.jsxs)("label",{className:"flex items-center gap-3 p-3 hover:bg-gray-50 cursor-pointer",children:[(0,No.jsx)("input",{type:"checkbox",checked:n.includes(e),onChange:()=>(e=>{n.includes(e)?r(n.filter((t=>t!==e))):r([...n,e])})(e),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,No.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:e})]},e)))})]})]})})),MP=s.memo((e=>{let{dailyTimeData:t}=e;const n=e=>{const t=new Date(e),n=new Date,r=new Date;return r.setDate(r.getDate()-1),t.toDateString()===n.toDateString()?"Today":t.toDateString()===r.toDateString()?"Yesterday":t.toLocaleDateString("en-US",{month:"short",day:"numeric"})},r=e=>`${Math.round(e/60)} min`;return t&&0!==t.length?(0,No.jsx)("div",{className:"flex items-center h-8 ml-3 gap-1 min-w-[90px] justify-center",children:t.map(((e,t)=>{const s=Math.min(100,e.totalTime/1200*100),i=Math.max(s/100*24,2),o=0===(a=e.totalTime)?"#e2e8f0":a>=900?"#22c55e":a>=600?"#eab308":"#ef4444";var a;return(0,No.jsx)(Hw,{title:`${n(e.date)}: ${r(e.totalTime)}`,arrow:!0,placement:"top",children:(0,No.jsx)("div",{className:"flex flex-col justify-end h-full",children:(0,No.jsx)("div",{className:"w-2 rounded-t-sm",style:{height:`${e.totalTime>0?i:1}px`,backgroundColor:o,minHeight:"1px",transition:"height 0.2s ease-in-out"}})})},t)}))}):null})),IP=s.memo((e=>{let{dailyGoalsData:t}=e;const n=e=>{const t=new Date(e),n=new Date,r=new Date;return r.setDate(r.getDate()-1),t.toDateString()===n.toDateString()?"Today":t.toDateString()===r.toDateString()?"Yesterday":t.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return t&&0!==t.length?(0,No.jsx)("div",{className:"flex items-center h-8 gap-1 min-w-[120px] justify-end",children:t.map(((e,t)=>{const r=((e,t)=>{if(0===t)return"#e2e8f0";const n=e/t;return 1===n?"#22c55e":n>=.5?"#eab308":"#ef4444"})(e.achieved,e.total);return(0,No.jsx)(Hw,{title:`${n(e.date)}: ${e.achieved}/${e.total} goals achieved`,arrow:!0,placement:"top",children:(0,No.jsx)("div",{className:"flex items-center justify-center h-6 w-6 rounded-full border",style:{backgroundColor:r,opacity:e.total>0?1:.3,color:"white",fontWeight:600,fontSize:"10px",lineHeight:1,cursor:"pointer"},children:e.total>0?`${e.achieved}/${e.total}`:"-"})},t)}))}):null})),RP=s.memo((()=>(0,No.jsx)(Hw,{title:(0,No.jsxs)("div",{className:"p-1",children:[(0,No.jsx)("div",{className:"mb-2 font-medium",children:"Time Chart Color Coding:"}),(0,No.jsxs)("div",{className:"flex items-center mb-1",children:[(0,No.jsx)("div",{className:"w-3 h-3 bg-green-500 mr-2 rounded-sm"}),(0,No.jsx)("span",{children:"Good: 15+ minutes"})]}),(0,No.jsxs)("div",{className:"flex items-center mb-1",children:[(0,No.jsx)("div",{className:"w-3 h-3 bg-yellow-500 mr-2 rounded-sm"}),(0,No.jsx)("span",{children:"Fair: 10-15 minutes"})]}),(0,No.jsxs)("div",{className:"flex items-center mb-1",children:[(0,No.jsx)("div",{className:"w-3 h-3 bg-red-500 mr-2 rounded-sm"}),(0,No.jsx)("span",{children:"Low: Under 10 minutes"})]}),(0,No.jsxs)("div",{className:"flex items-center",children:[(0,No.jsx)("div",{className:"w-3 h-3 bg-gray-200 mr-2 rounded-sm"}),(0,No.jsx)("span",{children:"No activity"})]})]}),arrow:!0,placement:"top",children:(0,No.jsx)(Wk.A,{fontSize:"small",className:"text-gray-400 cursor-help ml-1"})}))),OP=s.memo((()=>(0,No.jsx)(Hw,{title:(0,No.jsxs)("div",{className:"p-1",children:[(0,No.jsx)("div",{className:"mb-2 font-medium",children:"Goals Chart Color Coding:"}),(0,No.jsxs)("div",{className:"flex items-center mb-1",children:[(0,No.jsx)("div",{className:"w-3 h-3 bg-green-500 mr-2 rounded-sm"}),(0,No.jsx)("span",{children:"All goals achieved (3/3)"})]}),(0,No.jsxs)("div",{className:"flex items-center mb-1",children:[(0,No.jsx)("div",{className:"w-3 h-3 bg-yellow-500 mr-2 rounded-sm"}),(0,No.jsx)("span",{children:"Half or more goals achieved (1-2/3)"})]}),(0,No.jsxs)("div",{className:"flex items-center mb-1",children:[(0,No.jsx)("div",{className:"w-3 h-3 bg-red-500 mr-2 rounded-sm"}),(0,No.jsx)("span",{children:"Less than half goals achieved (0/3)"})]}),(0,No.jsxs)("div",{className:"flex items-center",children:[(0,No.jsx)("div",{className:"w-3 h-3 bg-gray-200 mr-2 rounded-sm"}),(0,No.jsx)("span",{children:"No goals set"})]})]}),arrow:!0,placement:"top",children:(0,No.jsx)(Wk.A,{fontSize:"small",className:"text-gray-400 cursor-help ml-1"})}))),DP=s.memo((()=>(0,No.jsx)("div",{className:"flex justify-center items-center p-8 min-h-[200px]",children:(0,No.jsx)(iS,{size:40,thickness:4,sx:{color:"#3b82f6"}})}))),LP=s.memo((e=>{let{message:t}=e;return(0,No.jsx)(ok,{severity:"error",className:"m-4 rounded-lg border border-red-200 shadow-sm",sx:{fontWeight:500,"& .MuiAlert-icon":{color:"#ef4444"}},children:t})})),FP=s.memo((()=>(0,No.jsx)(ok,{severity:"info",className:"m-4 rounded-lg border border-blue-200 shadow-sm",sx:{fontWeight:500,"& .MuiAlert-icon":{color:"#3b82f6"}},children:"No user data available"}))),zP=s.memo((e=>{let{activeTab:t}=e;const n=CP[t];return(0,No.jsx)(y_,{children:(0,No.jsx)(k_,{children:TP.map(((e,t)=>n.includes(e)?(0,No.jsx)(a_,{align:t>1?"right":"left",sx:{...EP,...NP[e]||{}},children:(0,No.jsxs)("div",{className:"flex items-center "+(t>1?"justify-end":"justify-start"),children:[e,"Time last 7 days"===e&&(0,No.jsx)(RP,{}),"Goals per Day"===e&&(0,No.jsx)(OP,{})]})},t):null))})})})),$P=s.memo((e=>{let{user:t,index:n,onRowClick:r,activeTab:s}=e;const i=e=>`${Math.floor(e/60)} min`,o=CP[s];return(0,No.jsxs)(k_,{sx:{backgroundColor:n%2===0?"#ffffff":"#f8fafc","&:hover":{backgroundColor:"#f1f5f9",cursor:"pointer",transition:"background-color 0.2s"},"& .MuiTableCell-root":{padding:"6px 16px",height:"48px"}},onClick:()=>r(t),children:[o.includes("Name")&&(0,No.jsx)(a_,{sx:{fontWeight:600,color:"#334155",...NP.Name||{}},children:(0,No.jsx)("div",{className:"flex items-center",children:(0,No.jsx)("div",{className:"truncate",title:t.name,children:t.name})})}),o.includes("Campus")&&(0,No.jsx)(a_,{children:(0,No.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:t.campus})}),o.includes("Last Active")&&(0,No.jsx)(a_,{children:(0,No.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+("Today"===t.lastSession?"bg-green-100 text-green-700":"Yesterday"===t.lastSession?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:t.lastSession||"Never"})}),o.includes("Active Track")&&(0,No.jsx)(a_,{children:(0,No.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:t.activeTrack||"None"})}),o.includes("Time Today")&&(0,No.jsx)(a_,{align:"right",sx:{fontWeight:500,color:"#475569"},children:(0,No.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+(t.timeSpentToday>=900?"bg-green-100 text-green-700":t.timeSpentToday>=600?"bg-yellow-100 text-yellow-700":t.timeSpentToday>0?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:i(t.timeSpentToday)})}),o.includes("Time last 7 days")&&(0,No.jsx)(a_,{align:"right",sx:{fontWeight:500,color:"#475569"},children:(0,No.jsxs)("div",{className:"flex justify-end items-center h-full",children:[(0,No.jsx)("span",{className:"whitespace-nowrap mr-4 inline-block px-2 py-1 rounded-full text-xs font-medium "+(t.avgTimeSpentWeek>=900?"bg-green-100 text-green-700":t.avgTimeSpentWeek>=600?"bg-yellow-100 text-yellow-700":t.avgTimeSpentWeek>0?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:i(t.avgTimeSpentWeek)}),t.dailyTimeData&&t.dailyTimeData.length>0&&(0,No.jsx)(MP,{dailyTimeData:t.dailyTimeData})]})}),o.includes("Facts Learnt")&&(0,No.jsx)(a_,{align:"right",sx:{color:"#475569"},children:t.factsLearntToday}),o.includes("Facts Accuracy")&&(0,No.jsx)(a_,{align:"right",children:t.factsAccuracyToday>0?(0,No.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:t.factsAccuracyToday}):(0,No.jsx)("span",{className:"text-gray-500",children:"0"})}),o.includes("Facts Fluency (1.5s)")&&(0,No.jsx)(a_,{align:"right",children:t.factsFluency1_5Today>0?(0,No.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:t.factsFluency1_5Today}):(0,No.jsx)("span",{className:"text-gray-500",children:"0"})}),o.includes("Today's Goals")&&(0,No.jsx)(a_,{align:"right",children:(0,No.jsxs)("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${((e,t)=>{if(0===t)return"bg-gray-100 text-gray-700";const n=e/t;return 1===n?"bg-green-100 text-green-700":n>=.5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"})(t.todaysGoals.achieved,t.todaysGoals.total)}`,children:[t.todaysGoals.achieved,"/",t.todaysGoals.total]})}),o.includes("Goals per Day")&&(0,No.jsx)(a_,{align:"right",children:(0,No.jsx)("div",{className:"flex justify-end items-center h-full",children:t.dailyGoalsData&&t.dailyGoalsData.length>0?(0,No.jsx)(IP,{dailyGoalsData:t.dailyGoalsData}):(0,No.jsx)("span",{className:"text-gray-500",children:"-"})})}),o.includes("Goal Completion Rate")&&(0,No.jsx)(a_,{align:"right",children:t.goalCompletionRate>0?(0,No.jsxs)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium "+(t.goalCompletionRate>90?"bg-green-100 text-green-700":t.goalCompletionRate>=60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:[t.goalCompletionRate,"%"]}):(0,No.jsx)("span",{className:"text-gray-500",children:"-"})}),o.includes("Latest CQPM")&&(0,No.jsx)(a_,{align:"right",sx:{fontWeight:600,color:"#334155"},children:t.latestCQPM?t.latestCQPM.toFixed(0):"-"}),o.includes("Previous CQPM")&&(0,No.jsx)(a_,{align:"right",sx:{fontWeight:500,color:"#475569"},children:t.previousCQPM?t.previousCQPM.toFixed(0):"-"})]})})),BP=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[i,o]=(0,s.useState)(null),[a,l]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)(0),[p,f]=(0,s.useState)([]),[m,g]=(0,s.useState)(!1),y=(0,s.useMemo)((()=>({isToday:e=>{const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},isYesterday:e=>{const t=new Date;return t.setDate(t.getDate()-1),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},formatDate:e=>`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${e.getDate()}, ${e.getFullYear()}`})),[]),v=(0,s.useCallback)(((e,t)=>t&&0!==t&&Math.round(e/t)||0),[]),x=(0,s.useCallback)((async()=>{try{r(!0);const e=await bo();u(e);const n=[];e&&(console.log("Active students data:",e),Object.entries(e).forEach((e=>{var t,r,s,i,o,a;let[l,c]=e;const{sessionData:u}=c;console.log(`User ${l} session data:`,u);const d=(null===(t=c.accuracyFacts)||void 0===t?void 0:t.learningFacts)||0,h=(null===(r=c.accuracyFacts)||void 0===r?void 0:r.accuracyPractice)||0,p=(null===(s=c.accuracyFacts)||void 0===s?void 0:s.fluency1_5Practice)||0,f=c.tracks||{},m=Object.keys(f),g=f[m.length>0?m[0]:"TRACK1"]||{latestCQPM:null,previousCQPM:null};let v=null;null!==g.latestCQPM&&null!==g.previousCQPM&&0!==g.previousCQPM&&(v=(g.latestCQPM-g.previousCQPM)/g.previousCQPM*100);let x,b=null;if(null!==u&&void 0!==u&&u.lastActivity){const e=new Date(u.lastActivity);x=e,b=y.isToday(e)?"Today":y.isYesterday(e)?"Yesterday":y.formatDate(e)}let w=(null===u||void 0===u?void 0:u.dailyTimeData)||[];if(console.log(`User ${l} daily time data:`,w),!w||0===w.length){const e=new Date;w=Array(7).fill(0).map(((t,n)=>{const r=new Date(e);return r.setDate(r.getDate()-6+n),{date:r.toISOString().split("T")[0],totalTime:Math.floor(1200*Math.random())}})),console.log(`Created sample data for user ${l}:`,w)}let S=(null===(i=c.goals)||void 0===i?void 0:i.dailyGoalsData)||[];const k=(null===(o=c.goals)||void 0===o?void 0:o.goalCompletionRate)||0,_=c.focusTrack?AP[c.focusTrack]||c.focusTrack:"None";n.push({userId:l,name:c.name,email:c.email,campus:c.campus||"Unknown",lastSession:b,lastSessionDate:x,timeSpentToday:(null===u||void 0===u?void 0:u.timeSpentToday)||0,avgTimeSpentWeek:(null===u||void 0===u?void 0:u.avgTimeSpentWeek)||0,dailyTimeData:w,factsLearntToday:d,factsAccuracyToday:h,factsFluency1_5Today:p,latestCQPM:g.latestCQPM,previousCQPM:g.previousCQPM,changePercent:v,todaysGoals:(null===(a=c.goals)||void 0===a?void 0:a.todaysGoals)||{achieved:0,total:0},dailyGoalsData:S,goalCompletionRate:k,activeTrack:_})})));const s=[...n].sort(((e,t)=>e.lastSessionDate||t.lastSessionDate?e.lastSessionDate?t.lastSessionDate?t.lastSessionDate.getTime()-e.lastSessionDate.getTime():-1:1:0));t(s),o(null)}catch(e){o(e instanceof Error?e.message:"Failed to fetch user data")}finally{r(!1)}}),[v,y]);(0,s.useEffect)((()=>{x()}),[x]);const b=(0,s.useCallback)((e=>{l(e)}),[]),w=(0,s.useCallback)((()=>{l(null)}),[]),S=(0,s.useCallback)(((e,t)=>{h(t)}),[]),k=(0,s.useCallback)((e=>{f(e)}),[]),_=(0,s.useMemo)((()=>Array.from(new Set(e.map((e=>e.campus)))).filter(Boolean).sort()),[e]);(0,s.useEffect)((()=>{_.length>0&&!m&&(f(_),g(!0))}),[_,m]);const j=(0,s.useMemo)((()=>0===p.length?[]:e.filter((e=>p.includes(e.campus)))),[e,p]);if(a){const e=c?c[a.userId]:void 0;return(0,No.jsx)(jP,{userId:a.userId,name:a.name,email:a.email,onBack:w,studentData:e})}return n?(0,No.jsx)(DP,{}):i?(0,No.jsx)(LP,{message:i}):e.length?(0,No.jsxs)("div",{className:"space-y-4",children:[(0,No.jsx)(Ya,{children:(0,No.jsx)(Ga,{className:"p-4",children:(0,No.jsxs)("div",{className:"flex items-center justify-between",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Student Dashboard"}),(0,No.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",j.length," of ",e.length," students",p.length<_.length&&` (filtered by ${p.length} campus${1!==p.length?"es":""})`]})]}),(0,No.jsx)("div",{className:"flex gap-3",children:(0,No.jsx)(PP,{availableCampuses:_,selectedCampuses:p,onSelectionChange:k})})]})})}),(0,No.jsx)("div",{className:"border-b border-gray-200",children:(0,No.jsxs)(Lk,{value:d,onChange:S,indicatorColor:"primary",textColor:"primary",sx:{"& .MuiTab-root":{textTransform:"none",fontWeight:500,fontSize:"0.875rem",minWidth:100}},children:[(0,No.jsx)(Uk,{label:"Time Spent"}),(0,No.jsx)(Uk,{label:"Daily Goals"}),(0,No.jsx)(Uk,{label:"Progress"}),(0,No.jsx)(Uk,{label:"CQPM"})]})}),(0,No.jsx)("div",{className:"overflow-hidden rounded-xl",children:(0,No.jsx)("div",{className:"overflow-x-auto",children:(0,No.jsx)(d_,{component:fS,elevation:0,sx:{borderRadius:0,boxShadow:"none"},children:(0,No.jsxs)(Yk,{sx:{minWidth:650,"& .MuiTableCell-root":{whiteSpace:"nowrap"}},"aria-label":"user data table",size:"small",children:[(0,No.jsx)(zP,{activeTab:d}),(0,No.jsx)(n_,{children:j.map(((e,t)=>(0,No.jsx)($P,{user:e,index:t,onRowClick:b,activeTab:d},e.userId)))})]})})})})]}):(0,No.jsx)(FP,{})},UP=s.memo(BP),WP=()=>(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:(0,No.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,No.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),(0,No.jsx)("p",{className:"text-base text-gray-600 mt-2",children:"You are not authorized to view this page."})]})}),HP=()=>(0,No.jsx)("header",{className:"sticky top-0 z-10 bg-white border-b px-6 py-3",children:(0,No.jsx)("div",{className:"flex items-center justify-between",children:(0,No.jsxs)("div",{className:"flex items-center",children:[(0,No.jsx)(Hg,{size:32}),(0,No.jsx)("h1",{className:"text-2xl font-bold ml-3",children:"Admin Dashboard"})]})})}),VP=()=>{const{user:e}=Mo();return(0,s.useMemo)((()=>"a24ab5cd-4209-41f0-9806-65ae0a9e6957"===(null===e||void 0===e?void 0:e.userId)),[null===e||void 0===e?void 0:e.userId])?(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6",children:(0,No.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,No.jsx)(HP,{}),(0,No.jsxs)(Ya,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-100",children:[(0,No.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 py-4 px-6",children:[(0,No.jsxs)("h2",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[(0,No.jsx)(Uy,{className:"text-indigo-100",size:24}),"Admin Tools"]}),(0,No.jsx)("p",{className:"text-indigo-100 text-sm mt-1",children:"Access admin functionality and reports"})]}),(0,No.jsx)(Ga,{className:"p-6",children:(0,No.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,No.jsx)("a",{href:"/admin/downloads",className:"block",children:(0,No.jsx)("div",{className:"p-4 rounded-lg border border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all duration-300 cursor-pointer",children:(0,No.jsxs)("div",{className:"flex items-center gap-3",children:[(0,No.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,No.jsx)(jy,{className:"w-5 h-5 text-green-600"})}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"font-semibold text-gray-900",children:"Downloads"}),(0,No.jsx)("p",{className:"text-sm text-gray-600",children:"Export data and reports"})]})]})})}),(0,No.jsx)("a",{href:"/admin/rostering",className:"block",children:(0,No.jsx)("div",{className:"p-4 rounded-lg border border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all duration-300 cursor-pointer",children:(0,No.jsxs)("div",{className:"flex items-center gap-3",children:[(0,No.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,No.jsx)($y,{className:"w-5 h-5 text-blue-600"})}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"font-semibold text-gray-900",children:"User Rostering"}),(0,No.jsx)("p",{className:"text-sm text-gray-600",children:"Manage user accounts"})]})]})})}),(0,No.jsx)("a",{href:"/admin/cqpm-dashboard",className:"block",children:(0,No.jsx)("div",{className:"p-4 rounded-lg border border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all duration-300 cursor-pointer",children:(0,No.jsxs)("div",{className:"flex items-center gap-3",children:[(0,No.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,No.jsx)(zy,{className:"w-5 h-5 text-purple-600"})}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"font-semibold text-gray-900",children:"CQPM Analytics"}),(0,No.jsx)("p",{className:"text-sm text-gray-600",children:"Assessment performance dashboard"})]})]})})})]})})]}),(0,No.jsxs)(Ya,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[(0,No.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-4 px-6",children:(0,No.jsxs)("h2",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[(0,No.jsx)(gy,{className:"text-yellow-300",size:24}),"Daily Dashboard"]})}),(0,No.jsx)(Ga,{className:"p-0",children:(0,No.jsx)(UP,{})})]})]})}):(0,No.jsx)(WP,{})},qP=(e,t)=>{if(!e||!e.length)return"";const n=t||Object.keys(e[0]).map((e=>({key:e,label:e})));return[n.map((e=>`"${e.label}"`)).join(","),...e.map((e=>n.map((t=>{const n=e[t.key];return null===n||void 0===n?'""':"string"===typeof n?`"${n.replace(/"/g,'""')}"`:"object"===typeof n?`"${JSON.stringify(n).replace(/"/g,'""')}"`:`"${n}"`})).join(",")))].join("\n")},KP=(e,t)=>{const n=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),s=URL.createObjectURL(n);r.setAttribute("href",s),r.setAttribute("download",t),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},QP=()=>{const e=new Date;return[e.getFullYear(),String(e.getMonth()+1).padStart(2,"0"),String(e.getDate()).padStart(2,"0")].join("-")},YP=rr.create({baseURL:"https://server.fastmath.pro",withCredentials:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}});YP.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e.metadata={startTime:(new Date).getTime()},e}),(e=>Promise.reject(e))),YP.interceptors.response.use((e=>{var t;const n=e.config;if(null!==(t=n.metadata)&&void 0!==t&&t.startTime){const t=(new Date).getTime()-n.metadata.startTime;t>1e3&&console.warn(`[API] Slow response detected (${t}ms):`,{url:n.url,method:n.method,status:e.status})}return e}),(e=>{var t,n,r;if(null!==(t=e.config)&&void 0!==t&&null!==(n=t.metadata)&&void 0!==n&&n.startTime){const t=(new Date).getTime()-e.config.metadata.startTime;var s,i,o,a;if(!e.response)console.error("[API] Network error:",e.message,{url:null===(s=e.config)||void 0===s?void 0:s.url,method:null===(i=e.config)||void 0===i?void 0:i.method,timeoutSet:(null===(o=e.config)||void 0===o?void 0:o.timeout)||"default",responseTime:`${t}ms`,timestamp:(new Date).toISOString(),onLine:navigator.onLine,effectiveType:(null===(a=navigator.connection)||void 0===a?void 0:a.effectiveType)||"unknown",actionPath:window.location.pathname})}return 401===(null===(r=e.response)||void 0===r?void 0:r.status)&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)}));const GP=()=>(0,No.jsxs)("h1",{className:"text-4xl font-bold text-center mb-6 flex items-center justify-center gap-4",children:[(0,No.jsx)(Hg,{size:32}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"FastMath Downloads"})]}),XP=()=>(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:(0,No.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,No.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),(0,No.jsx)("p",{className:"text-base text-gray-600 mt-2",children:"You are not authorized to view this page."})]})}),JP=()=>{const{user:e}=Mo(),[t,n]=(0,s.useState)(!1),[r,i]=(0,s.useState)(null),[o,a]=(0,s.useState)(!1),[l,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null),[f,m]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null),[v,x]=(0,s.useState)(""),[b,w]=(0,s.useState)(""),[S,k]=(0,s.useState)(""),[_,j]=(0,s.useState)(""),[T,C]=(0,s.useState)("");(0,s.useEffect)((()=>{const e=new Date,t=new Date;t.setDate(e.getDate()-7),k(e.toISOString().split("T")[0]),w(t.toISOString().split("T")[0]),C(e.toISOString().split("T")[0]),j(t.toISOString().split("T")[0])}),[]);return(0,s.useMemo)((()=>"a24ab5cd-4209-41f0-9806-65ae0a9e6957"===(null===e||void 0===e?void 0:e.userId)),[null===e||void 0===e?void 0:e.userId])?(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6",children:(0,No.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,No.jsx)(GP,{}),(0,No.jsx)("div",{className:"flex mb-4",children:(0,No.jsx)(Me,{to:"/admin",className:"text-blue-600 hover:text-blue-800 transition-colors duration-300",children:"\u2190 Back to Admin Dashboard"})}),(0,No.jsxs)(Ya,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[(0,No.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-4 px-6",children:(0,No.jsxs)("h2",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[(0,No.jsx)(Uy,{className:"text-yellow-300",size:24}),"Data Downloads"]})}),(0,No.jsx)(Ga,{className:"p-6 space-y-6",children:(0,No.jsxs)("div",{className:"space-y-6",children:[(0,No.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[(0,No.jsxs)("h3",{className:"text-lg font-medium text-gray-800 mb-2 flex items-center gap-2",children:[(0,No.jsx)(Uy,{className:"text-blue-500"}),"All Users"]}),(0,No.jsx)("p",{className:"text-gray-600 mb-4",children:"Download a CSV file containing all users in the system"}),r&&(0,No.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg mb-4",children:r}),(0,No.jsxs)(ic,{onClick:async()=>{n(!0),i(null);try{const e=await(async()=>{try{const e=await YP.get("/admin/downloads/users");if(!e.data||!e.data.success)throw new Error("Failed to get users data for download");return e.data}catch(r){throw console.error("Error downloading users data:",r),r instanceof Error?r:new Error("Failed to download users data")}})(),t=e.users,n=qP(t,[{key:"userId",label:"User ID"},{key:"email",label:"Email"},{key:"name",label:"Name"},{key:"ageGrade",label:"Age/Grade"},{key:"focusTrack",label:"Focus Track"},{key:"createdAt",label:"Created At"},{key:"updatedAt",label:"Last Updated"}]),s=`fastmath-all-users-${QP()}.csv`;KP(n,s)}catch(r){i("Failed to download users data"),console.error("Error downloading users:",r)}finally{n(!1)}},disabled:t,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2",children:[(0,No.jsx)(jy,{}),t?"Downloading...":"Download CSV"]})]}),(0,No.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[(0,No.jsxs)("h3",{className:"text-lg font-medium text-gray-800 mb-2 flex items-center gap-2",children:[(0,No.jsx)(_y,{className:"text-blue-500"}),"Sessions by Date Range"]}),(0,No.jsx)("p",{className:"text-gray-600 mb-4",children:"Download a CSV file of all sessions within a specified date range"}),l&&(0,No.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg mb-4",children:l}),(0,No.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4",children:[(0,No.jsxs)("div",{className:"flex flex-col",children:[(0,No.jsx)("label",{htmlFor:"startDate",className:"text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,No.jsxs)("div",{className:"relative",children:[(0,No.jsx)("input",{type:"date",id:"startDate",value:b,onChange:e=>w(e.target.value),className:"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pl-10"}),(0,No.jsx)(by,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})]}),(0,No.jsxs)("div",{className:"flex flex-col",children:[(0,No.jsx)("label",{htmlFor:"endDate",className:"text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,No.jsxs)("div",{className:"relative",children:[(0,No.jsx)("input",{type:"date",id:"endDate",value:S,onChange:e=>k(e.target.value),className:"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pl-10"}),(0,No.jsx)(by,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})]})]}),(0,No.jsxs)(ic,{onClick:async()=>{if(b&&S)if(new Date(b)>new Date(S))c("Start date must be before end date");else{a(!0),c(null);try{const e=await(async(e,t)=>{try{const n=await YP.get("/admin/downloads/sessions",{params:{startDate:e,endDate:t}});if(!n.data||!n.data.success)throw new Error("Failed to get sessions data for download");return n.data}catch(r){throw console.error("Error downloading sessions data:",r),r instanceof Error?r:new Error("Failed to download sessions data")}})(b,S),t=e.sessions;if(0===t.length)return c("No sessions found in the specified date range"),void a(!1);const n=qP(t,[{key:"userId",label:"User ID"},{key:"sessionId",label:"Session ID"},{key:"trackId",label:"Track"},{key:"startTime",label:"Start Time"},{key:"endTime",label:"End Time"},{key:"totalDuration",label:"Total Duration (seconds)"},{key:"learningTime",label:"Learning Time (seconds)"},{key:"accuracyPracticeTime",label:"Accuracy Practice Time (seconds)"},{key:"fluency6PracticeTime",label:"Fluency 6s Time (seconds)"},{key:"fluency3PracticeTime",label:"Fluency 3s Time (seconds)"},{key:"fluency2PracticeTime",label:"Fluency 2s Time (seconds)"},{key:"fluency1_5PracticeTime",label:"Fluency 1.5s Time (seconds)"},{key:"fluency1PracticeTime",label:"Fluency 1s Time (seconds)"},{key:"assessmentTime",label:"Assessment Time (seconds)"},{key:"otherTime",label:"Other Time (seconds)"},{key:"learningFactsCount",label:"Learning Facts Count"},{key:"accuracyFactsCount",label:"Accuracy Facts Count"},{key:"fluency6FactsCount",label:"Fluency 6s Facts Count"},{key:"fluency3FactsCount",label:"Fluency 3s Facts Count"},{key:"fluency2FactsCount",label:"Fluency 2s Facts Count"},{key:"fluency1_5FactsCount",label:"Fluency 1.5s Facts Count"},{key:"fluency1FactsCount",label:"Fluency 1s Facts Count"}]);KP(n,`fastmath-sessions-${b}-to-${S}.csv`)}catch(r){c("Failed to download sessions data"),console.error("Error downloading sessions:",r)}finally{a(!1)}}else c("Both start date and end date are required")},disabled:o||!b||!S,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2",children:[(0,No.jsx)(jy,{}),o?"Downloading...":"Download Sessions CSV"]})]}),(0,No.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[(0,No.jsxs)("h3",{className:"text-lg font-medium text-gray-800 mb-2 flex items-center gap-2",children:[(0,No.jsx)(Ly,{className:"text-blue-500"}),"Daily Goals by Date Range"]}),(0,No.jsx)("p",{className:"text-gray-600 mb-4",children:"Download a CSV file of all daily goals within a specified date range"}),h&&(0,No.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg mb-4",children:h}),(0,No.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4",children:[(0,No.jsxs)("div",{className:"flex flex-col",children:[(0,No.jsx)("label",{htmlFor:"goalsStartDate",className:"text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,No.jsxs)("div",{className:"relative",children:[(0,No.jsx)("input",{type:"date",id:"goalsStartDate",value:_,onChange:e=>j(e.target.value),className:"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pl-10"}),(0,No.jsx)(by,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})]}),(0,No.jsxs)("div",{className:"flex flex-col",children:[(0,No.jsx)("label",{htmlFor:"goalsEndDate",className:"text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,No.jsxs)("div",{className:"relative",children:[(0,No.jsx)("input",{type:"date",id:"goalsEndDate",value:T,onChange:e=>C(e.target.value),className:"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 pl-10"}),(0,No.jsx)(by,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})]})]}),(0,No.jsxs)(ic,{onClick:async()=>{if(_&&T)if(new Date(_)>new Date(T))p("Start date must be before end date");else{d(!0),p(null);try{const e=await(async(e,t)=>{try{const n=await YP.get("/admin/downloads/daily-goals",{params:{startDate:e,endDate:t}});if(!n.data||!n.data.success)throw new Error("Failed to get daily goals data for download");return n.data}catch(r){throw console.error("Error downloading daily goals data:",r),r instanceof Error?r:new Error("Failed to download daily goals data")}})(_,T),t=e.goals;if(0===t.length)return p("No daily goals found in the specified date range"),void d(!1);const n=qP(t,[{key:"userId",label:"User ID"},{key:"date",label:"Date"},{key:"trackId",label:"Track"},{key:"allCompleted",label:"All Goals Completed"},{key:"learningGoal",label:"Learning Goal Count"},{key:"learningCompleted",label:"Learning Completed Count"},{key:"accuracyGoal",label:"Accuracy Goal Count"},{key:"accuracyCompleted",label:"Accuracy Completed Count"},{key:"fluencyGoal",label:"Fluency Goal Count"},{key:"fluencyCompleted",label:"Fluency Completed Count"},{key:"assessmentGoal",label:"Assessment Goal Count"},{key:"assessmentCompleted",label:"Assessment Completed Count"},{key:"goalTypes",label:"Goal Types"},{key:"createdAt",label:"Created At"},{key:"updatedAt",label:"Updated At"}]);KP(n,`fastmath-daily-goals-${_}-to-${T}.csv`)}catch(r){p("Failed to download daily goals data"),console.error("Error downloading daily goals:",r)}finally{d(!1)}}else p("Both start date and end date are required")},disabled:u||!_||!T,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2",children:[(0,No.jsx)(jy,{}),u?"Downloading...":"Download Daily Goals CSV"]})]}),(0,No.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[(0,No.jsxs)("h3",{className:"text-lg font-medium text-gray-800 mb-2 flex items-center gap-2",children:[(0,No.jsx)(zy,{className:"text-blue-500"}),"User Progress Data"]}),(0,No.jsx)("p",{className:"text-gray-600 mb-4",children:"Download a CSV file containing user progress data across all tracks. Optionally filter by a specific user ID."}),g&&(0,No.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg mb-4",children:g}),(0,No.jsx)("div",{className:"flex flex-wrap gap-4 mb-4",children:(0,No.jsxs)("div",{className:"flex flex-col w-full max-w-md",children:[(0,No.jsx)("label",{htmlFor:"userId",className:"text-sm font-medium text-gray-700 mb-1",children:"User ID (Optional)"}),(0,No.jsx)("input",{type:"text",id:"userId",value:v,onChange:e=>x(e.target.value),placeholder:"Enter user ID to filter (leave blank for all users)",className:"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,No.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Leave blank to download progress for all users"})]})}),(0,No.jsxs)(ic,{onClick:async()=>{m(!0),y(null);try{const e=await(async e=>{try{const t=await YP.get("/admin/downloads/user-progress",{params:e?{userId:e}:{}});if(!t.data||!t.data.success)throw new Error("Failed to get user progress data for download");return t.data}catch(r){throw console.error("Error downloading user progress data:",r),r instanceof Error?r:new Error("Failed to download user progress data")}})(v||void 0),t=e.progress;if(0===t.length)return y("No progress data found"),void m(!1);const n=qP(t,[{key:"userId",label:"User ID"},{key:"trackId",label:"Track"},{key:"startDate",label:"Start Date"},{key:"lastUpdated",label:"Last Updated"},{key:"status",label:"Status"},{key:"overallCQPM",label:"Overall CQPM"},{key:"accuracyRate",label:"Accuracy Rate (%)"},{key:"totalFacts",label:"Total Facts"},{key:"notStartedCount",label:"Not Started Facts"},{key:"learningCount",label:"Learning Facts"},{key:"accuracyPracticeCount",label:"Accuracy Practice Facts"},{key:"fluency6PracticeCount",label:"Fluency 6s Facts"},{key:"fluency3PracticeCount",label:"Fluency 3s Facts"},{key:"fluency2PracticeCount",label:"Fluency 2s Facts"},{key:"fluency1_5PracticeCount",label:"Fluency 1.5s Facts"},{key:"fluency1PracticeCount",label:"Fluency 1s Facts"},{key:"masteredCount",label:"Mastered Facts"},{key:"automaticCount",label:"Automatic Facts"},{key:"completionPercentage",label:"Completion Percentage (%)"},{key:"todayDate",label:"Today's Date"},{key:"todayTotalAttempts",label:"Today's Total Attempts"},{key:"todayCorrectAttempts",label:"Today's Correct Attempts"},{key:"todayAccuracyRate",label:"Today's Accuracy Rate (%)"},{key:"todayAvgResponseTime",label:"Today's Avg Response Time (s)"}]),s=`fastmath-user-progress${v?`-${v}`:""}-${QP()}.csv`;KP(n,s)}catch(r){y("Failed to download user progress data"),console.error("Error downloading user progress:",r)}finally{m(!1)}},disabled:f,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2",children:[(0,No.jsx)(jy,{}),f?"Downloading...":"Download Progress CSV"]})]})]})})]})]})}):(0,No.jsx)(XP,{})},ZP=[{id:"",name:"No Track"},{id:"TRACK5",name:rv.TRACK5},{id:"TRACK6",name:rv.TRACK6},{id:"TRACK7",name:rv.TRACK7},{id:"TRACK8",name:rv.TRACK8},{id:"TRACK9",name:rv.TRACK9},{id:"TRACK10",name:rv.TRACK10},{id:"TRACK11",name:rv.TRACK11},{id:"TRACK12",name:rv.TRACK12}],eM=Object.entries({"alpha-fort-worth":"Alpha Fort Worth","alpha-high-school":"Alpha High School","alpha-houston":"Alpha Houston","alpha-miami":"Alpha Miami","alpha-new-york-city":"Alpha New York City","alpha-orlando":"Alpha Orlando","alpha-phoenix":"Alpha Phoenix","alpha-santa-barbara":"Alpha Santa Barbara","alpha-tampa":"Alpha Tampa","alpha-west-palm-beach":"Alpha West Palm Beach","austin-k8":"Austin K-8","brownsville-k8":"Brownsville K-8","centner-academy":"Centner Academy","colearn-academy":"Colearn Academy","esports-academy-austin":"Esports Academy: Austin","gt-school-georgetown":"GT School: Georgetown TX","havruta-learning-pod-austin":"Havruta Learning Pod: Austin TX","high-school-sat-prep":"High School SAT Prep","isee-prep":"ISEE Prep",novatio:"Novatio","single-user-2hr":"Single-user 2hr learning","sports-academy-lakeway":"Sports Academy: Lakeway","texas-preparatory-school":"Texas Preparatory School","valenta-academy":"Valenta Academy","vita-high-school":"Vita High School"}).map((e=>{let[t,n]=e;return{id:t,name:n}})).sort(((e,t)=>e.name.localeCompare(t.name))),tM=()=>(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:(0,No.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,No.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),(0,No.jsx)("p",{className:"text-base text-gray-600 mt-2",children:"You are not authorized to view this page."})]})}),nM=()=>(0,No.jsxs)("h1",{className:"text-4xl font-bold text-center pt-8 mb-6 flex items-center justify-center gap-4",children:[(0,No.jsx)(Hg,{size:32}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"User Rostering"})]}),rM=()=>{const{user:e}=Mo(),[t,n]=(0,s.useState)([{email:"",grade:"",trackId:"",campus:eM[0].id}]),[r,i]=(0,s.useState)(!1),[o,a]=(0,s.useState)(null),[l,c]=(0,s.useState)([{email:"",grade:void 0}]),[u,d]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null),[f,m]=(0,s.useState)([{email:"",track:""}]),[g,y]=(0,s.useState)(!1),[v,x]=(0,s.useState)(null),[b,w]=(0,s.useState)(""),[S,k]=(0,s.useState)(ZP[0].id),[_,j]=(0,s.useState)(!1),[T,C]=(0,s.useState)(null),E=(0,s.useMemo)((()=>"a24ab5cd-4209-41f0-9806-65ae0a9e6957"===(null===e||void 0===e?void 0:e.userId)),[null===e||void 0===e?void 0:e.userId]),N=(e,r,s)=>{const i=[...t];i[e][r]="grade"===r?""===s?"":parseInt(s,10):s,n(i)},A=(e,t,n)=>{const r=[...l];r[e][t]="grade"===t?""===n?void 0:parseInt(n,10):n,c(r)},P=(e,t,n)=>{const r=[...f];r[e][t]=n,m(r)};return E?(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6",children:(0,No.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,No.jsx)(nM,{}),(0,No.jsxs)(Ya,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[(0,No.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-4 px-6",children:(0,No.jsxs)("h2",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[(0,No.jsx)(Ty,{className:"text-yellow-300",size:24}),"Update User Grades"]})}),(0,No.jsxs)(Ga,{className:"p-6 space-y-6",children:[h&&(0,No.jsxs)("div",{className:"p-4 rounded-lg "+(h.success?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:[(0,No.jsx)("div",{className:"font-medium",children:h.message}),h.results&&h.results.length>0&&(0,No.jsxs)("div",{className:"mt-3",children:[(0,No.jsx)("h4",{className:"font-medium",children:"Results:"}),(0,No.jsx)("ul",{className:"mt-1 list-disc pl-5 text-sm",children:h.results.map(((e,t)=>(0,No.jsxs)("li",{className:e.success?"text-green-700":"text-red-700",children:[e.email,": ",e.message]},t)))})]})]}),(0,No.jsx)("div",{className:"space-y-4",children:l.map(((e,t)=>(0,No.jsxs)("div",{className:"p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,No.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,No.jsxs)("h3",{className:"font-medium",children:["User ",t+1]}),l.length>1&&(0,No.jsx)(ic,{variant:"ghost",size:"sm",onClick:()=>(e=>{const t=[...l];t.splice(e,1),c(t)})(t),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:(0,No.jsx)(Fy,{size:16})})]}),(0,No.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:`update-grade-email-${t}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,No.jsx)(hc,{id:`update-grade-email-${t}`,type:"email",placeholder:"student@example.com",value:e.email,onChange:e=>A(t,"email",e.target.value),className:"w-full"})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:`update-grade-value-${t}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"New Grade"}),(0,No.jsx)(hc,{id:`update-grade-value-${t}`,type:"number",min:"-1",placeholder:"5",value:void 0!==e.grade?e.grade:"",onChange:e=>{const n=e.target.value;A(t,"grade",n)},className:"w-full"})]})]})]},t)))}),(0,No.jsx)("div",{className:"flex justify-center",children:(0,No.jsxs)(ic,{onClick:()=>{c([...l,{email:"",grade:void 0}])},variant:"outline",className:"flex items-center gap-2",children:[(0,No.jsx)(Iy,{size:16}),"Add Another User"]})}),(0,No.jsx)("div",{className:"text-center",children:(0,No.jsx)(ic,{onClick:async()=>{if(l.filter((e=>!e.email||void 0===e.grade||isNaN(e.grade))).length>0)p({success:!1,message:"Please enter valid email and grade for all rows."});else{d(!0),p(null);try{const e=l.map((e=>({email:e.email,grade:e.grade}))),t=await(async e=>{try{return(await YP.put("/admin/users/grades/batch",{updates:e})).data}catch(t){if(console.error("Error batch updating user grades:",t),t instanceof ir&&t.response)return t.response.data;throw t instanceof Error?t:new Error("Failed to batch update user grades")}})(e);p({success:t.success,message:t.message,results:t.results}),t.success&&c([{email:"",grade:void 0}])}catch(e){p({success:!1,message:e instanceof Error?e.message:"An unexpected error occurred."})}finally{d(!1)}}},disabled:u,className:"px-6 py-2 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2 mx-auto",children:u?"Updating...":(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)(Ry,{size:16}),"Update Grades"]})})})]})]}),(0,No.jsxs)(Ya,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[(0,No.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-4 px-6",children:(0,No.jsxs)("h2",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[(0,No.jsx)(Ty,{className:"text-yellow-300",size:24}),"Update User Tracks"]})}),(0,No.jsxs)(Ga,{className:"p-6 space-y-6",children:[v&&(0,No.jsxs)("div",{className:"p-4 rounded-lg "+(v.success?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:[(0,No.jsx)("div",{className:"font-medium",children:v.message}),v.results&&v.results.length>0&&(0,No.jsxs)("div",{className:"mt-3",children:[(0,No.jsx)("h4",{className:"font-medium",children:"Results:"}),(0,No.jsx)("ul",{className:"mt-1 list-disc pl-5 text-sm",children:v.results.map(((e,t)=>(0,No.jsxs)("li",{className:e.success?"text-green-700":"text-red-700",children:[e.email,": ",e.message]},t)))})]})]}),(0,No.jsx)("div",{className:"space-y-4",children:f.map(((e,t)=>(0,No.jsxs)("div",{className:"p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,No.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,No.jsxs)("h3",{className:"font-medium",children:["User ",t+1]}),f.length>1&&(0,No.jsx)(ic,{variant:"ghost",size:"sm",onClick:()=>(e=>{const t=[...f];t.splice(e,1),m(t)})(t),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:(0,No.jsx)(Fy,{size:16})})]}),(0,No.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:`update-track-email-${t}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,No.jsx)(hc,{id:`update-track-email-${t}`,type:"email",placeholder:"student@example.com",value:e.email,onChange:e=>P(t,"email",e.target.value),className:"w-full"})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:`update-track-value-${t}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"New Track"}),(0,No.jsxs)("select",{id:`update-track-value-${t}`,value:e.track,onChange:e=>P(t,"track",e.target.value),className:"w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[(0,No.jsx)("option",{value:"",disabled:!0,children:"Select a track"}),ZP.map((e=>(0,No.jsx)("option",{value:e.id,children:e.id?`${e.id} - ${e.name}`:e.name},e.id)))]})]})]})]},t)))}),(0,No.jsx)("div",{className:"flex justify-center",children:(0,No.jsxs)(ic,{onClick:()=>{m([...f,{email:"",track:""}])},variant:"outline",className:"flex items-center gap-2",children:[(0,No.jsx)(Iy,{size:16}),"Add Another User"]})}),(0,No.jsx)("div",{className:"text-center",children:(0,No.jsx)(ic,{onClick:async()=>{if(f.filter((e=>!e.email)).length>0)x({success:!1,message:"Please enter valid email for all rows."});else{y(!0),x(null);try{const e=f.map((e=>({email:e.email,track:e.track}))),t=await(async e=>{try{return(await YP.put("/admin/users/tracks/batch",{updates:e})).data}catch(t){if(console.error("Error batch updating user tracks:",t),t instanceof ir&&t.response)return t.response.data;throw t instanceof Error?t:new Error("Failed to batch update user tracks")}})(e);x({success:t.success,message:t.message,results:t.results}),t.success&&m([{email:"",track:""}])}catch(e){x({success:!1,message:e instanceof Error?e.message:"An unexpected error occurred."})}finally{y(!1)}}},disabled:g,className:"px-6 py-2 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2 mx-auto",children:g?"Updating...":(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)(Ry,{size:16}),"Update Tracks"]})})})]})]}),(0,No.jsxs)(Ya,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[(0,No.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-4 px-6",children:(0,No.jsxs)("h2",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[(0,No.jsx)(Uy,{className:"text-yellow-300",size:24}),"Add New Users"]})}),(0,No.jsxs)(Ga,{className:"p-6 space-y-6",children:[o&&(0,No.jsxs)("div",{className:"p-4 rounded-lg "+(o.success?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:[(0,No.jsx)("div",{className:"font-medium mb-2",children:o.message}),o.results&&(0,No.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,No.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[(0,No.jsxs)("div",{className:"bg-white bg-opacity-50 p-2 rounded text-center",children:[(0,No.jsx)("div",{className:"font-medium",children:"Total"}),(0,No.jsx)("div",{className:"text-xl font-bold",children:o.results.totalProcessed})]}),(0,No.jsxs)("div",{className:"bg-green-100 p-2 rounded text-center",children:[(0,No.jsx)("div",{className:"font-medium",children:"Created"}),(0,No.jsx)("div",{className:"text-xl font-bold text-green-700",children:o.results.created})]}),(0,No.jsxs)("div",{className:"bg-blue-100 p-2 rounded text-center",children:[(0,No.jsx)("div",{className:"font-medium",children:"Existing"}),(0,No.jsx)("div",{className:"text-xl font-bold text-blue-700",children:o.results.alreadyExisting})]}),(0,No.jsxs)("div",{className:"bg-red-100 p-2 rounded text-center",children:[(0,No.jsx)("div",{className:"font-medium",children:"Failed"}),(0,No.jsx)("div",{className:"text-xl font-bold text-red-700",children:o.results.failed})]})]}),o.results.details&&o.results.details.length>0&&(0,No.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,No.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,No.jsx)("thead",{className:"bg-gray-50",children:(0,No.jsxs)("tr",{children:[(0,No.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,No.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,No.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),(0,No.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"})]})}),(0,No.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.results.details.map(((e,t)=>(0,No.jsxs)("tr",{className:"text-sm",children:[(0,No.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:e.email}),(0,No.jsxs)("td",{className:"px-3 py-2 whitespace-nowrap",children:[(0,No.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("created"===e.status?"bg-green-100 text-green-800":"existing"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:e.status}),e.oneRosterStatus&&(0,No.jsxs)("span",{className:"ml-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["OneRoster: ",e.oneRosterStatus]})]}),(0,No.jsx)("td",{className:"px-3 py-2 whitespace-nowrap font-mono text-xs",children:e.userId||"-"}),(0,No.jsx)("td",{className:"px-3 py-2",children:e.message||"-"})]},t)))})]})})]})]}),(0,No.jsx)("div",{className:"space-y-4",children:t.map(((e,r)=>(0,No.jsxs)("div",{className:"p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,No.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,No.jsxs)("h3",{className:"font-medium",children:["User ",r+1]}),t.length>1&&(0,No.jsx)(ic,{variant:"ghost",size:"sm",onClick:()=>(e=>{const r=[...t];r.splice(e,1),n(r)})(r),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:(0,No.jsx)(Fy,{size:16})})]}),(0,No.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:`email-${r}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,No.jsx)(hc,{id:`email-${r}`,type:"email",placeholder:"student@example.com",value:e.email,onChange:e=>N(r,"email",e.target.value),className:"w-full"})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:`grade-${r}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade"}),(0,No.jsx)(hc,{id:`grade-${r}`,type:"number",min:"-1",placeholder:"5",value:void 0!==e.grade?e.grade:"",onChange:e=>{const t=e.target.value;N(r,"grade",t)},className:"w-full"})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:`track-${r}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Track"}),(0,No.jsx)("select",{id:`track-${r}`,value:e.trackId,onChange:e=>{N(r,"trackId",e.target.value)},className:"w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:ZP.map((e=>(0,No.jsx)("option",{value:e.id,children:e.id?`${e.id} - ${e.name}`:e.name},e.id)))})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:`campus-${r}`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Campus"}),(0,No.jsxs)("select",{id:`campus-${r}`,value:e.campus,onChange:e=>{N(r,"campus",e.target.value)},className:"w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[(0,No.jsx)("option",{value:"",disabled:!0,children:"Select a campus"}),eM.map((e=>(0,No.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]})]},r)))}),(0,No.jsx)("div",{className:"flex justify-center",children:(0,No.jsxs)(ic,{onClick:()=>{n([...t,{email:"",grade:"",trackId:"",campus:eM[0].id}])},variant:"outline",className:"flex items-center gap-2",children:[(0,No.jsx)(Iy,{size:16}),"Add Another User"]})}),(0,No.jsx)("div",{className:"text-center",children:(0,No.jsx)(ic,{onClick:async()=>{if(t.filter((e=>!e.email||""===e.grade||isNaN(Number(e.grade))||!e.campus)).length>0)a({success:!1,message:"Please fill in all required fields for all users (email, grade, campus)."});else{i(!0),a(null);try{const e=t.map((e=>({...e,grade:Number(e.grade)}))),r=await(async e=>{try{const t=await YP.post("/admin/user-rostering/create",{users:e});if(!t.data||!t.data.success)throw new Error("Failed to create users");return t.data}catch(t){throw console.error("Error creating users:",t),t instanceof Error?t:new Error("Failed to create users")}})(e);a(r),r.success&&n([{email:"",grade:"",trackId:"",campus:eM[0].id}])}catch(e){a({success:!1,message:e instanceof Error?e.message:"An unexpected error occurred."})}finally{i(!1)}}},disabled:r,className:"px-6 py-2 bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2 mx-auto",children:r?"Submitting...":(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)(Ry,{size:16}),"Submit"]})})})]})]}),(0,No.jsxs)(Ya,{className:"overflow-hidden rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[(0,No.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-yellow-600 py-4 px-6",children:(0,No.jsxs)("h2",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[(0,No.jsx)(Fy,{className:"text-white",size:24}),"Reset User Track Progress"]})}),(0,No.jsxs)(Ga,{className:"p-6 space-y-6",children:[T&&(0,No.jsx)("div",{className:"p-4 rounded-lg "+(T.success?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:(0,No.jsx)("div",{className:"font-medium",children:T.message})}),(0,No.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"User Email"}),(0,No.jsx)(hc,{id:"reset-email",type:"email",placeholder:"student@example.com",value:b,onChange:e=>w(e.target.value),className:"w-full"})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("label",{htmlFor:"reset-track",className:"block text-sm font-medium text-gray-700 mb-1",children:"Track to Reset"}),(0,No.jsx)("select",{id:"reset-track",value:S,onChange:e=>k(e.target.value),className:"w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:ZP.map((e=>(0,No.jsxs)("option",{value:e.id,children:[e.id," - ",e.name]},e.id)))})]})]}),(0,No.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"This will delete all progress data for a user for the selected track. This action is irreversible."}),(0,No.jsx)("div",{className:"text-center",children:(0,No.jsx)(ic,{onClick:async()=>{if(b&&S){if(window.confirm(`Are you sure you want to reset progress for track ${S} for user ${b}? This action cannot be undone.`)){j(!0),C(null);try{const e=await(async(e,t)=>{try{return(await YP.post("/admin/users/progress/reset",{email:e,trackId:t})).data}catch(n){if(console.error("Error resetting user progress:",n),n instanceof ir&&n.response)return n.response.data;throw n instanceof Error?n:new Error("Failed to reset user progress")}})(b,S);C(e),e.success&&w("")}catch(e){C({success:!1,message:e instanceof Error?e.message:"An unexpected error occurred."})}finally{j(!1)}}}else C({success:!1,message:"Please enter an email address and select a track."})},disabled:_,className:"px-6 py-2 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg transition-all duration-300 flex items-center gap-2 mx-auto",children:_?"Resetting...":(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)(Fy,{size:16}),"Reset Track Progress"]})})})]})]})]})}):(0,No.jsx)(tM,{})},sM=[{value:30,label:"Last 30 days"},{value:60,label:"Last 60 days"},{value:90,label:"Last 90 days"}],iM=e=>{let{selectedRange:t,onRangeChange:n,isLoading:r=!1}=e;return(0,No.jsx)("div",{className:"flex gap-2 mb-6",children:sM.map((e=>(0,No.jsx)(ic,{variant:t===e.value?"default":"outline",onClick:()=>n(e.value),disabled:r,className:""+(t===e.value?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-600 hover:text-blue-600 hover:border-blue-600"),children:e.label},e.value)))})},oM=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),aM=e=>`${e.toFixed(1)}%`,lM=e=>e.toFixed(1),cM=e=>e?"Yes":"No";bN.register(JN,nA,EN,RN,YN,MN);const uM=e=>{let{weeklyData:t,isLoading:n=!1}=e;const r=(e=>({labels:e.map((e=>e.weekLabel)),datasets:[{label:"Users Attempted",data:e.map((e=>e.usersAttempted)),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:1},{label:"Users Became Fluent",data:e.map((e=>e.usersFluent)),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1}]}))(t);return n?(0,No.jsx)(Ya,{className:"h-[400px]",children:(0,No.jsx)(Ga,{className:"p-6 h-full flex items-center justify-center",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-gray-600",children:"Loading chart data..."})]})})}):t&&0!==t.length?(0,No.jsxs)(Ya,{className:"shadow-lg border border-gray-100",children:[(0,No.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-4 px-6 rounded-t-lg",children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Weekly Assessment Activity"}),(0,No.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"Track user engagement and fluency achievement over time"})]}),(0,No.jsxs)(Ga,{className:"p-6",children:[(0,No.jsx)("div",{className:"h-[350px] w-full",children:(0,No.jsx)(xA,{data:r,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20}},title:{display:!0,text:"Weekly Assessment Activity",font:{size:16,weight:"bold"},padding:20},tooltip:{mode:"index",intersect:!1,callbacks:{title:e=>`Week: ${e[0].label}`,label:e=>`${e.dataset.label||""}: ${e.raw} users`}}},scales:{x:{title:{display:!0,text:"Week",font:{size:12,weight:"bold"}},grid:{display:!1}},y:{beginAtZero:!0,title:{display:!0,text:"Number of Users",font:{size:12,weight:"bold"}},ticks:{stepSize:1}}},interaction:{mode:"index",intersect:!1}}})}),(0,No.jsxs)("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Math.max(...t.map((e=>e.usersAttempted)))}),(0,No.jsx)("div",{className:"text-xs text-gray-600",children:"Peak Weekly Users"})]}),(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Math.max(...t.map((e=>e.usersFluent)))}),(0,No.jsx)("div",{className:"text-xs text-gray-600",children:"Peak Weekly Fluent"})]}),(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:t.reduce(((e,t)=>e+t.usersAttempted),0)}),(0,No.jsx)("div",{className:"text-xs text-gray-600",children:"Total Attempts"})]}),(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:t.reduce(((e,t)=>e+t.usersFluent),0)}),(0,No.jsx)("div",{className:"text-xs text-gray-600",children:"Total Fluent"})]})]})]})]}):(0,No.jsx)(Ya,{className:"h-[400px]",children:(0,No.jsx)(Ga,{className:"p-6 h-full flex items-center justify-center",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"text-gray-400 mb-2",children:"\ud83d\udcca"}),(0,No.jsx)("p",{className:"text-gray-600",children:"No assessment data available for this period"}),(0,No.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Try selecting a different date range or check back later"})]})})})},dM=e=>{let{currentPage:t,totalPages:n,itemsPerPage:r,totalItems:s,onPageChange:i}=e;const o=(t-1)*r+1,a=Math.min(t*r,s);return(0,No.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[(0,No.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",o," to ",a," of ",s," results"]}),(0,No.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,No.jsxs)(ic,{variant:"outline",size:"sm",onClick:()=>i(t-1),disabled:1===t,className:"flex items-center",children:[(0,No.jsx)(Sy,{className:"w-4 h-4 mr-1"}),"Previous"]}),(0,No.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,n)},((e,r)=>{let s;return s=n<=5||t<=3?r+1:t>=n-2?n-4+r:t-2+r,(0,No.jsx)(ic,{variant:t===s?"default":"outline",size:"sm",onClick:()=>i(s),className:"w-8 h-8 p-0",children:s},s)}))}),(0,No.jsxs)(ic,{variant:"outline",size:"sm",onClick:()=>i(t+1),disabled:t===n,className:"flex items-center",children:["Next",(0,No.jsx)(ky,{className:"w-4 h-4 ml-1"})]})]})]})},hM=e=>{let{assessmentResults:t,isLoading:n=!1}=e;const[r,i]=(0,s.useState)(""),[o,a]=(0,s.useState)(1),l=(0,s.useMemo)((()=>((e,t)=>{let n;return function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];clearTimeout(n),n=setTimeout((()=>e(...s)),t)}})((e=>{i(e),a(1)}),300)),[]),c=(0,s.useMemo)((()=>{var e;return((e,t)=>{if(!t.trim())return e;const n=t.toLowerCase();return e.filter((e=>e.userEmail.toLowerCase().includes(n)||e.assessmentType.toLowerCase().includes(n)))})((e=t,[...e].sort(((e,t)=>new Date(t.scoreDate).getTime()-new Date(e.scoreDate).getTime()))),r)}),[t,r]),u=(0,s.useMemo)((()=>((e,t,n)=>{const r=(t-1)*n;return e.slice(r,r+n)})(c,o,25)),[c,o]),d=(h=c.length,p=25,Math.ceil(h/p));var h,p;return n?(0,No.jsxs)(Ya,{className:"shadow-lg border border-gray-100",children:[(0,No.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-4 px-6",children:(0,No.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Assessment Results"})}),(0,No.jsx)(Ga,{className:"p-6",children:(0,No.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-gray-600",children:"Loading assessment results..."})]})})})]}):(0,No.jsxs)(Ya,{className:"shadow-lg border border-gray-100",children:[(0,No.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-4 px-6",children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Assessment Results"}),(0,No.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:"Detailed view of all completed assessments"})]}),(0,No.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,No.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,No.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,No.jsx)(Oy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,No.jsx)(hc,{type:"text",placeholder:"Search by user email...",onChange:e=>l(e.target.value),className:"pl-10 pr-4 py-2"})]}),(0,No.jsxs)("div",{className:"flex gap-2",children:[(0,No.jsxs)(ic,{variant:"outline",size:"sm",onClick:()=>{const e=`assessment_results_${(new Date).toISOString().split("T")[0]}.csv`;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cqpm_data.csv";const n=[["User Email","Assessment Type","CQPM Score","Accuracy Rate (%)","Correct Answers","Total Attempts","Fluent Status","Score Date","Last Modified"],...e.map((e=>[e.userEmail,e.assessmentType,lM(e.cqpm),aM(e.accuracyRate),e.correct.toString(),e.attempts.toString(),cM(e.fluent),oM(e.scoreDate),oM(e.dateLastModified)]))].map((e=>e.map((e=>`"${e}"`)).join(","))).join("\n"),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(void 0!==s.download){const e=URL.createObjectURL(r);s.setAttribute("href",e),s.setAttribute("download",t),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}(c,e)},disabled:0===c.length,className:"flex items-center",children:[(0,No.jsx)(jy,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),(0,No.jsxs)("div",{className:"text-sm text-gray-600 py-2 px-3 bg-white rounded border",children:[c.length," results"]})]})]})}),(0,No.jsx)(Ga,{className:"p-0",children:0===c.length?(0,No.jsxs)("div",{className:"text-center py-12",children:[(0,No.jsx)("div",{className:"text-gray-400 mb-2",children:"\ud83d\udcca"}),(0,No.jsx)("p",{className:"text-gray-600",children:"No assessment results found"}),r&&(0,No.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your search terms"})]}):(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)("div",{className:"overflow-x-auto",children:(0,No.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,No.jsx)("thead",{className:"bg-gray-50",children:(0,No.jsxs)("tr",{children:[(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User Email"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CQPM Score"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Accuracy Rate"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Correct/Total"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fluent Status"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score Date"})]})}),(0,No.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(((e,t)=>{return(0,No.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.userEmail}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,No.jsx)("span",{className:"font-semibold "+(s=e.cqpm,s>=80?"text-green-600":s>=60?"text-yellow-600":s>=40?"text-orange-600":"text-red-600"),children:lM(e.cqpm)})}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,No.jsx)("span",{className:"font-semibold "+(r=e.accuracyRate,r>=90?"text-green-600":r>=80?"text-yellow-600":r>=70?"text-orange-600":"text-red-600"),children:aM(e.accuracyRate)})}),(0,No.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.correct,"/",e.attempts]}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,No.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border "+(n=e.fluent,n?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200"),children:cM(e.fluent)})}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oM(e.scoreDate)})]},e.sourcedId);var n,r,s}))})]})}),d>1&&(0,No.jsx)(dM,{currentPage:o,totalPages:d,itemsPerPage:25,totalItems:c.length,onPageChange:e=>{a(e)}})]})})]})},pM=e=>{let{userRankings:t,isLoading:n=!1}=e;if(n)return(0,No.jsxs)(Ya,{className:"shadow-lg border border-gray-100",children:[(0,No.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 py-4 px-6",children:(0,No.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Top Performing Students"})}),(0,No.jsx)(Ga,{className:"p-6",children:(0,No.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-gray-600",children:"Loading student rankings..."})]})})})]});const r=t.slice(0,10);if(0===r.length)return(0,No.jsxs)(Ya,{className:"shadow-lg border border-gray-100",children:[(0,No.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 py-4 px-6",children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Top Performing Students"}),(0,No.jsx)("p",{className:"text-green-100 text-sm mt-1",children:"Students ranked by fluent assessment achievements"})]}),(0,No.jsx)(Ga,{className:"p-6",children:(0,No.jsxs)("div",{className:"text-center py-8",children:[(0,No.jsx)("div",{className:"text-gray-400 mb-2",children:"\ud83c\udfc6"}),(0,No.jsx)("p",{className:"text-gray-600",children:"No student data available"}),(0,No.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Students will appear here once they complete assessments"})]})})]});const s=e=>{switch(e){case 0:return(0,No.jsx)(my,{className:"w-5 h-5 text-yellow-500"});case 1:return(0,No.jsx)(my,{className:"w-5 h-5 text-gray-400"});case 2:return(0,No.jsx)(my,{className:"w-5 h-5 text-amber-600"});default:return(0,No.jsx)(By,{className:"w-5 h-5 text-gray-500"})}},i=e=>{const t=e+1;let n="";switch(e){case 0:n="bg-yellow-100 text-yellow-800 border-yellow-200";break;case 1:n="bg-gray-100 text-gray-800 border-gray-200";break;case 2:n="bg-amber-100 text-amber-800 border-amber-200";break;default:n="bg-blue-100 text-blue-800 border-blue-200"}return(0,No.jsxs)("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${n}`,children:["#",t]})};return(0,No.jsxs)(Ya,{className:"shadow-lg border border-gray-100",children:[(0,No.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 py-4 px-6",children:(0,No.jsxs)("div",{className:"flex items-center justify-between",children:[(0,No.jsxs)("div",{children:[(0,No.jsxs)("h3",{className:"text-xl font-semibold text-white flex items-center",children:[(0,No.jsx)(zy,{className:"w-5 h-5 mr-2"}),"Top Performing Students"]}),(0,No.jsx)("p",{className:"text-green-100 text-sm mt-1",children:"Students ranked by fluent assessment achievements"})]}),(0,No.jsxs)("div",{className:"text-right",children:[(0,No.jsx)("div",{className:"text-2xl font-bold text-white",children:r.length}),(0,No.jsx)("div",{className:"text-xs text-green-100",children:"Active Students"})]})]})}),(0,No.jsxs)(Ga,{className:"p-0",children:[(0,No.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:(0,No.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"text-lg font-bold text-green-600",children:Math.max(...r.map((e=>e.fluentCount)))}),(0,No.jsx)("div",{className:"text-xs text-gray-600",children:"Most Fluent"})]}),(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"text-lg font-bold text-blue-600",children:Math.max(...r.map((e=>e.totalAssessments)))}),(0,No.jsx)("div",{className:"text-xs text-gray-600",children:"Most Attempts"})]}),(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"text-lg font-bold text-purple-600",children:aM(Math.max(...r.map((e=>e.fluentPercentage))))}),(0,No.jsx)("div",{className:"text-xs text-gray-600",children:"Best Rate"})]}),(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"text-lg font-bold text-indigo-600",children:lM(Math.max(...r.map((e=>e.averageCqpm))))}),(0,No.jsx)("div",{className:"text-xs text-gray-600",children:"Highest CQPM"})]})]})}),(0,No.jsx)("div",{className:"overflow-x-auto",children:(0,No.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,No.jsx)("thead",{className:"bg-gray-50",children:(0,No.jsxs)("tr",{children:[(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Email"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fluent Count"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Assessments"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fluent Rate"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg CQPM"}),(0,No.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"})]})}),(0,No.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(((e,t)=>{return(0,No.jsxs)("tr",{className:"hover:bg-gray-50 "+(t<3?"bg-gradient-to-r from-yellow-50 to-transparent":""),children:[(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,No.jsxs)("div",{className:"flex items-center",children:[s(t),(0,No.jsx)("span",{className:"ml-2",children:i(t)})]})}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.userEmail}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,No.jsxs)("div",{className:"flex items-center",children:[(0,No.jsx)("div",{className:"text-lg font-bold text-green-600",children:e.fluentCount}),(0,No.jsx)("div",{className:"ml-2 text-xs text-gray-500",children:"assessments"})]})}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,No.jsx)("div",{className:"font-semibold",children:e.totalAssessments})}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,No.jsx)("span",{className:"font-bold "+(n=e.fluentPercentage,n>=90?"text-green-600":n>=70?"text-blue-600":n>=50?"text-yellow-600":"text-red-600"),children:aM(e.fluentPercentage)})}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,No.jsx)("span",{className:"font-semibold text-indigo-600",children:lM(e.averageCqpm)})}),(0,No.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oM(e.lastActivity)})]},e.userEmail);var n}))})]})}),t.length>10&&(0,No.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 text-center",children:(0,No.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing top 10 of ",t.length," students"]})})]})]})},fM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const[t,n]=(0,s.useState)(null),[r,i]=(0,s.useState)({isLoading:!0,error:null}),[o,a]=(0,s.useState)(e),l=(0,s.useCallback)((async e=>{i({isLoading:!0,error:null});try{console.log(`Fetching CQPM data for ${e} days`);const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;try{return(await YP.get("/admin/cqpm/dashboard-data",{params:{days:e}})).data}catch(t){if(console.error("Error fetching CQPM dashboard data:",t),t instanceof ir&&t.response)return t.response.data;throw t instanceof Error?t:new Error("Failed to fetch CQPM dashboard data")}}(e);if(!t.success||!t.data)throw new Error(t.message||"Failed to fetch CQPM data");n(t.data),i({isLoading:!1,error:null})}catch(t){console.error("Error fetching CQPM data:",t);const e=t instanceof Error?t.message:"An unexpected error occurred while fetching CQPM data";i({isLoading:!1,error:e}),n(null)}}),[]),c=(0,s.useCallback)((e=>{e!==o&&(a(e),l(e))}),[o,l]),u=(0,s.useCallback)((()=>{l(o)}),[o,l]);return(0,s.useEffect)((()=>{l(o)}),[]),{data:t,dateRange:o,isLoading:r.isLoading,error:r.error,changeDateRange:c,refreshData:u,hasData:null!==t,hasError:null!==r.error}},mM=()=>(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:(0,No.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,No.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),(0,No.jsx)("p",{className:"text-base text-gray-600 mt-2",children:"You are not authorized to view this page."})]})}),gM=()=>(0,No.jsxs)("h1",{className:"text-4xl font-bold text-center pt-8 mb-6 flex items-center justify-center gap-4",children:[(0,No.jsx)(Hg,{size:32}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"CQPM Analytics Dashboard"})]}),yM=e=>{let{totalAssessments:t,totalUsers:n,averageCqpm:r,fluentPercentage:s,mostActiveAssessmentType:i,isLoading:o=!1}=e;if(o)return(0,No.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map(((e,t)=>(0,No.jsx)(Ya,{className:"shadow-lg border border-gray-100",children:(0,No.jsx)(Ga,{className:"p-6",children:(0,No.jsxs)("div",{className:"animate-pulse",children:[(0,No.jsx)("div",{className:"h-4 bg-gray-300 rounded mb-2"}),(0,No.jsx)("div",{className:"h-8 bg-gray-300 rounded mb-2"}),(0,No.jsx)("div",{className:"h-3 bg-gray-300 rounded w-2/3"})]})})},t)))});const a=[{title:"Total Assessments",value:t.toLocaleString(),icon:yy,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Active Students",value:n.toLocaleString(),icon:Uy,color:"text-green-600",bgColor:"bg-green-100"},{title:"Average CQPM",value:lM(r),icon:zy,color:"text-purple-600",bgColor:"bg-purple-100"},{title:"Fluent Rate",value:aM(s),icon:Ly,color:"text-orange-600",bgColor:"bg-orange-100"}];return(0,No.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:a.map(((e,t)=>(0,No.jsx)(Ya,{className:"shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:(0,No.jsx)(Ga,{className:"p-6",children:(0,No.jsxs)("div",{className:"flex items-center justify-between",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.title}),(0,No.jsx)("p",{className:`text-3xl font-bold ${e.color}`,children:e.value}),"Fluent Rate"===e.title&&"N/A"!==i&&(0,No.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Most active: ",i]})]}),(0,No.jsx)("div",{className:`p-3 rounded-lg ${e.bgColor}`,children:(0,No.jsx)(e.icon,{className:`w-6 h-6 ${e.color}`})})]})})},t)))})},vM=e=>{let{error:t,onRetry:n}=e;return(0,No.jsx)(Ya,{className:"shadow-lg border border-red-100",children:(0,No.jsxs)(Ga,{className:"p-8 text-center",children:[(0,No.jsx)("div",{className:"text-red-400 mb-4",children:"\u26a0\ufe0f"}),(0,No.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Dashboard"}),(0,No.jsx)("p",{className:"text-gray-600 mb-4",children:t}),(0,No.jsxs)(ic,{onClick:n,className:"bg-red-600 hover:bg-red-700 text-white",children:[(0,No.jsx)(Ry,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})})},xM=()=>{const{user:e}=Mo(),t=(0,s.useMemo)((()=>"a24ab5cd-4209-41f0-9806-65ae0a9e6957"===(null===e||void 0===e?void 0:e.userId)),[null===e||void 0===e?void 0:e.userId]),{data:n,dateRange:r,isLoading:i,error:o,hasError:a,changeDateRange:l,refreshData:c}=fM();return t?(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6",children:(0,No.jsxs)("div",{className:"max-w-7xl mx-auto space-y-8",children:[(0,No.jsx)(gM,{}),(0,No.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,No.jsx)(iM,{selectedRange:r,onRangeChange:l,isLoading:i}),(0,No.jsxs)(ic,{onClick:c,disabled:i,variant:"outline",className:"flex items-center",children:[(0,No.jsx)(Ry,{className:"w-4 h-4 mr-2 "+(i?"animate-spin":"")}),"Refresh Data"]})]}),a&&(0,No.jsx)(vM,{error:o,onRetry:c}),!a&&(0,No.jsxs)(No.Fragment,{children:[(0,No.jsx)(yM,{totalAssessments:(null===n||void 0===n?void 0:n.summaryStats.totalAssessments)||0,totalUsers:(null===n||void 0===n?void 0:n.summaryStats.totalUsers)||0,averageCqpm:(null===n||void 0===n?void 0:n.summaryStats.averageCqpm)||0,fluentPercentage:(null===n||void 0===n?void 0:n.summaryStats.fluentPercentage)||0,mostActiveAssessmentType:(null===n||void 0===n?void 0:n.summaryStats.mostActiveAssessmentType)||"N/A",isLoading:i}),(0,No.jsx)(uM,{weeklyData:(null===n||void 0===n?void 0:n.weeklyData)||[],isLoading:i}),(0,No.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[(0,No.jsx)(pM,{userRankings:(null===n||void 0===n?void 0:n.userRankings)||[],isLoading:i}),(0,No.jsxs)(Ya,{className:"shadow-lg border border-gray-100",children:[(0,No.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-600 py-4 px-6",children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Assessment Overview"}),(0,No.jsx)("p",{className:"text-indigo-100 text-sm mt-1",children:"Quick stats about recent assessments"})]}),(0,No.jsx)(Ga,{className:"p-6",children:i?(0,No.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,No.jsx)("div",{className:"h-4 bg-gray-300 rounded"}),(0,No.jsx)("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),(0,No.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]}):(0,No.jsxs)("div",{className:"space-y-4",children:[(0,No.jsxs)("div",{className:"flex justify-between items-center",children:[(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Recent Results"}),(0,No.jsx)("span",{className:"font-bold text-gray-900",children:(null===n||void 0===n?void 0:n.assessmentResults.length)||0})]}),(0,No.jsxs)("div",{className:"flex justify-between items-center",children:[(0,No.jsx)("span",{className:"text-sm text-gray-600",children:"Date Range"}),(0,No.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[r," days"]})]}),n&&n.assessmentResults.length>0&&(0,No.jsx)("div",{className:"text-center pt-4",children:(0,No.jsx)("p",{className:"text-xs text-gray-500",children:"See detailed table below for complete assessment history"})})]})})]})]}),(0,No.jsx)(hM,{assessmentResults:(null===n||void 0===n?void 0:n.assessmentResults)||[],isLoading:i})]})]})}):(0,No.jsx)(mM,{})},bM=e=>{let{onStart:t,facts:n,errorMessage:r}=e;const{user:i}=Mo(),[o,a]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!1),h=(0,s.useRef)(null),[p,f]=(0,s.useState)(30);(0,s.useEffect)((()=>{if(!o&&!l&&n.length>0){const e=setInterval((()=>{f((t=>t<=1?(clearInterval(e),m(),0):t-1))}),1e3);return h.current=e,()=>{clearInterval(e)}}}),[n,o,l]),(0,s.useEffect)((()=>{const e=e=>{"Enter"===e.key&&!o&&!l&&n.length>0&&m()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n,o,l]);const m=()=>{0!==n.length&&(h.current&&(clearInterval(h.current),h.current=null),a(!0),d(!0))},g=(0,s.useMemo)((()=>o?"Starting...":l?"Loading...":"Start Practice"),[o,l]);return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:[u&&(0,No.jsx)(Mv,{onComplete:()=>{try{t({facts:n})}catch(e){console.error("Failed to start accuracy practice:",e),a(!1),d(!1)}}}),(0,No.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,No.jsx)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Accuracy Practice"})}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 p-6 bg-white rounded-lg shadow-md",children:l?(0,No.jsxs)("div",{className:"text-center py-8",children:[(0,No.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-base text-gray-600",children:"Loading practice..."})]}):(0,No.jsxs)(No.Fragment,{children:[(0,No.jsxs)("div",{className:"text-center space-y-6",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Instructions"}),(0,No.jsxs)("ul",{className:"space-y-3 text-base text-gray-600 max-w-2xl mx-auto text-left",children:[(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"1."}),(0,No.jsx)("span",{children:"This practice focuses on accuracy, not speed"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"2."}),(0,No.jsx)("span",{children:"Take your time to answer each question correctly"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"3."}),(0,No.jsx)("span",{children:"If you don't answer within 12 seconds, the answer will be shown"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"5."}),(0,No.jsx)("span",{children:"If you answer a question incorrectly, the correct answer will be shown"})]})]})]}),!o&&!l&&n.length>0&&(0,No.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,No.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600 mb-2",children:[(0,No.jsx)("span",{children:"Auto-starting in"}),(0,No.jsxs)("span",{className:"font-bold",children:[p,"s"]})]}),(0,No.jsx)("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:(0,No.jsx)("div",{className:"h-full bg-blue-500 transition-all duration-1000",style:{width:p/30*100+"%"}})})]}),(0,No.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:m,disabled:o||l||0===n.length,className:`w-full max-w-md mx-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 \n                    text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg \n                    transition-all duration-300 flex items-center justify-center gap-2\n                    ${(o||l||0===n.length)&&"opacity-50 cursor-not-allowed"}`,children:[(0,No.jsx)("span",{children:g}),!o&&!l&&(0,No.jsx)(Pv,{className:"w-5 h-5"}),(o||l)&&(0,No.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})]}),r&&0===n.length&&(0,No.jsx)("div",{className:"text-red-500 font-medium text-center mt-2",children:r})]})]})})]})]})},wM=e=>{let{current:t,total:n}=e;const r=Math.round(t/n*100);return(0,No.jsx)("div",{className:"mb-6",children:(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,No.jsx)("div",{className:"h-full bg-green-500",style:{width:`${r}%`,transition:"width 0.5s ease-in-out"}})}),(0,No.jsxs)("span",{className:"text-sm text-gray-500 min-w-[3rem] text-right",children:[r,"%"]})]})})},SM=e=>{let{question:t,onAnswer:n,showFeedback:r,isCorrect:i}=e;const[o,a]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[u,d]=(0,s.useState)(null),h=(0,s.useRef)(null),p=(0,s.useRef)(r),f=`${t.num1}${t.operator}${t.num2}`,[m,g]=(0,s.useState)(f);(0,s.useEffect)((()=>{f!==m&&!r&&(a(""),c(""),d(null),g(f))}),[f,m,r]),(0,s.useEffect)((()=>{p.current&&!r&&(a(""),c("")),p.current=r}),[r]),(0,s.useEffect)((()=>{h.current&&!r&&h.current.focus()}),[r]);const y=e=>{if(a(e),e.length===t.answer.toString().length){const r=parseInt(e);isNaN(r)||(c(e),d(t.answer),n(r))}},v=r?l:o;return(0,No.jsxs)("div",{className:"flex justify-between",children:[(0,No.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1",children:[(0,No.jsxs)("p",{className:"text-6xl font-bold text-gray-800 mb-8",children:[t.num1," ",t.operator," ",t.num2," = ?"]}),(0,No.jsxs)("div",{className:"relative",children:[(0,No.jsx)("input",{ref:h,type:"text",inputMode:"numeric",pattern:"\\d*",value:v,onChange:e=>{const t=e.target.value.replace(/\D/g,"");y(t)},onKeyPress:e=>{"Enter"===e.key&&(e=>{if(null===e||void 0===e||e.preventDefault(),!o||r)return;const s=parseInt(o);isNaN(s)||(c(o),d(t.answer),n(s))})()},disabled:r,className:`\n              w-48 \n              p-4 \n              text-4xl \n              font-bold \n              text-center \n              rounded-lg\n              border-4\n              outline-none\n              transition-all\n              duration-200\n              ${r?i?"border-green-500 bg-green-50 text-green-700":"border-red-500 bg-red-50 text-red-700":"border-gray-200 focus:border-gray-200 bg-white text-gray-700"}\n            `}),r&&!i&&(0,No.jsx)("div",{className:"absolute -right-20 top-1/2 -translate-y-1/2 text-green-500 font-bold text-2xl",children:t.answer})]})]}),(0,No.jsx)(dc,{value:o,onChange:y,disabled:r,showFeedback:r,wasCorrect:i})]})},kM=e=>{let{questions:t,practiceFacts:n,otherFacts:r,onComplete:i}=e;re();const o=sessionStorage.getItem("activeTrackId")||"TRACK1",[a,l]=(0,s.useState)(0),[c,u]=(0,s.useState)(0),[d,h]=(0,s.useState)(0),[p,f]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),[x,b]=(0,s.useState)(!1),[w,S]=(0,s.useState)(0),[k,_]=(0,s.useState)({}),[j,T]=(0,s.useState)({}),[C,E]=(0,s.useState)(new Set),N=(0,s.useRef)([]),[A,P]=(0,s.useState)(!1),{user:M}=Mo(),I=(0,s.useMemo)((()=>t.reduce(((e,t)=>e+(n.includes(t.PK)?3:1)),0)),[t,n]),R=(0,s.useMemo)((()=>{const e=Object.entries(j).reduce(((e,t)=>{let[r,s]=t;const i=n.includes(r)?3:1;return e+Math.min(s,i)}),0);return Math.max(e,0)}),[j,n]),O=(0,s.useRef)(crypto.randomUUID()),D=(0,s.useRef)(c),L=(0,s.useRef)(d),F=((0,s.useRef)(!1),(0,s.useRef)([])),z=(0,s.useRef)(!0),$=(0,s.useRef)(Date.now()),B=(0,s.useRef)(null),U=(0,s.useMemo)((()=>t.map((e=>({id:e.PK,num1:e.operand1,num2:e.operand2,operator:"addition"===e.operation?"+":"subtraction"===e.operation?"\u2212":"multiplication"===e.operation?"\xd7":"\xf7",answer:e.result})))),[t]);(0,s.useEffect)((()=>{const e={},t={};U.forEach((n=>{const r=n.id;e[r]={attempts:0,correct:0,timeSpent:0},t[r]=0})),_(e),T(t)}),[U]),(0,s.useEffect)((()=>{D.current=c}),[c]),(0,s.useEffect)((()=>{L.current=d}),[d]),(0,s.useEffect)((()=>()=>{z.current=!1,F.current.length>0&&Promise.all(F.current).catch((e=>{console.error("[Cleanup Error]:",e)})),B.current&&clearTimeout(B.current)}),[]),(0,s.useEffect)((()=>{if(t[a])return $.current=Date.now(),B.current=setTimeout((()=>{y||v(!0)}),12e3),()=>{B.current&&clearTimeout(B.current)}}),[a,t,y]),(0,s.useEffect)((()=>{console.log("QuestionScreen state update:",{showFeedback:p,lastAnswerCorrect:A,currentIndex:a})}),[p,A,a]),(0,s.useEffect)((()=>{console.log("[QuestionScreen] Component mounted",{questionCount:t.length,currentIndex:a,timestamp:(new Date).toISOString(),testId:O.current,userId:(null===M||void 0===M?void 0:M.userId)||"unknown"});const e=e=>{console.error("[CRITICAL] Unhandled Promise Rejection in QuestionScreen:",e.reason,{timestamp:(new Date).toISOString(),userId:(null===M||void 0===M?void 0:M.userId)||"unknown",currentPath:window.location.pathname,component:"QuestionScreen"})},n=e=>{console.error("[CRITICAL] Unhandled Error in QuestionScreen:",e.error,{timestamp:(new Date).toISOString(),message:e.message,userId:(null===M||void 0===M?void 0:M.userId)||"unknown",currentPath:window.location.pathname,component:"QuestionScreen"})},r=e=>{var n;console.log("[QuestionScreen] Page is about to unload/reload",{timestamp:(new Date).toISOString(),testId:O.current,userId:(null===M||void 0===M?void 0:M.userId)||"unknown",currentQuestion:(null===(n=t[a])||void 0===n?void 0:n.PK)||"unknown",correctAnswers:d,questionsAnswered:c,currentIndex:a,progressState:JSON.stringify(j),masteredFactsCount:C.size})};return window.addEventListener("unhandledrejection",e),window.addEventListener("error",n),window.addEventListener("beforeunload",r),()=>{window.removeEventListener("unhandledrejection",e),window.removeEventListener("error",n),window.removeEventListener("beforeunload",r),console.log("[QuestionScreen] Component unmounting",{timestamp:(new Date).toISOString(),testId:O.current,userId:(null===M||void 0===M?void 0:M.userId)||"unknown",factsLength:t.length})}}),[]),(0,s.useEffect)((()=>{var e;console.log("[QuestionScreen] Facts or currentIndex changed",{factsLength:t.length,currentIndex:a,currentQuestion:(null===(e=t[a])||void 0===e?void 0:e.PK)||"none",timestamp:(new Date).toISOString()})}),[t,a]);const W=async e=>{if(!t[a]||x)return void console.warn("No current question found or transition in progress");B.current&&(clearTimeout(B.current),B.current=null);const r=t[a],s=e===r.result;P(s),console.log("QuestionScreen handleAnswer:",{userAnswer:e,correctAnswer:r.result,isCorrect:s,currentQuestion:r});const i=Date.now()-$.current,l=r.PK,c=(j[l]||0)+(s?1:0);T((e=>({...e,[l]:c})));let u=!1,d=!1;if(((e,t)=>n.includes(e)?t>=3:t>=1)(l,c)?(u=!0,E((e=>new Set(e).add(l)))):C.has(l)&&(d=!0,E((e=>{const t=new Set(e);return t.delete(l),t}))),s){if(h((e=>e+1)),null!==M&&void 0!==M&&M.userId)try{var p,m,g;const e={attempts:((null===(p=k[l])||void 0===p?void 0:p.attempts)||0)+1,correct:((null===(m=k[l])||void 0===m?void 0:m.correct)||0)+1,timeSpent:((null===(g=k[l])||void 0===g?void 0:g.timeSpent)||0)+i};_((t=>({...t,[l]:e})));const t=n.includes(l);t&&e.attempts===e.correct&&e.attempts;const r=sessionStorage.getItem("practiceContext");let o="";if(r)try{o=JSON.parse(r).current||""}catch(w){console.error("Error parsing practiceContext for progress update:",w)}Uv.enqueueProgressUpdate(M.userId,{facts:{[l.split("FACT#")[1]]:{attempts:1,correct:s?1:0,timeSpent:i,practiceContext:o}}})}catch(w){var y;ho(w,{component:"AccuracyPractice-ProgressUpdate",trackId:o,userId:null===M||void 0===M?void 0:M.userId,factId:l,isCorrect:s,timeSpent:i,networkConnected:navigator.onLine,connectionType:(null===(y=navigator.connection)||void 0===y?void 0:y.effectiveType)||"unknown"})}f(!0),setTimeout((()=>{f(!1),V(u?l:null,d?l:null),S((e=>e+1))}),200)}else{if(null!==M&&void 0!==M&&M.userId)try{_((e=>{var t,n,r;return{...e,[l]:{attempts:((null===(t=e[l])||void 0===t?void 0:t.attempts)||0)+1,correct:(null===(n=e[l])||void 0===n?void 0:n.correct)||0,timeSpent:((null===(r=e[l])||void 0===r?void 0:r.timeSpent)||0)+i}}}));const e=sessionStorage.getItem("practiceContext");let t="";if(e)try{t=JSON.parse(e).current||""}catch(w){console.error("Error parsing practiceContext for progress update:",w)}Uv.enqueueProgressUpdate(M.userId,{facts:{[l.split("FACT#")[1]]:{attempts:1,correct:0,timeSpent:i,practiceContext:t}}})}catch(w){var b;ho(w,{component:"AccuracyPractice-ProgressUpdate",trackId:o,userId:null===M||void 0===M?void 0:M.userId,factId:l,isCorrect:s,timeSpent:i,networkConnected:navigator.onLine,connectionType:(null===(b=navigator.connection)||void 0===b?void 0:b.effectiveType)||"unknown"})}f(!0),setTimeout((()=>{f(!1),v(!0)}),200)}},H=()=>{v(!1),u((e=>e+1)),setTimeout((()=>{V(null,null),S((e=>e+1))}),100)},V=function(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(x)return void console.warn("[AccuracyPractice] moveToNextQuestion skipped due to isTransitioning");b(!0),u((e=>e+1));const s=new Set(C);n&&s.add(n),r&&s.delete(r);const c=null===(e=t[a])||void 0===e?void 0:e.PK;if(c){const e=[...N.current],t=e.indexOf(c);-1!==t&&e.splice(t,1),e.unshift(c),N.current=e.slice(0,3)}const d=t.map(((e,t)=>({fact:e,index:t}))).filter((e=>{var t;const n=e.fact.PK,r=(null===(t=k[n])||void 0===t?void 0:t.attempts)||0;return!s.has(n)&&r<5})).map((e=>e.index));if(d.length>0){let e=d.filter((e=>!N.current.includes(t[e].PK)));0===e.length&&(e=d);const n=e[Math.floor(Math.random()*e.length)];if(n===a&&e.length>1){e=e.filter((e=>e!==a));const t=e[Math.floor(Math.random()*e.length)];l(t)}else l(n)}else(async()=>{try{if(m)return;g(!0),F.current.length>0&&await Promise.all(F.current),g(!1),i()}catch(e){console.error("[QuestionScreen] Error handling practice end:",e),ho(e,{component:"AccuracyPractice-QuestionScreen",trackId:o,userId:null===M||void 0===M?void 0:M.userId,pendingUpdates:F.current.length}),g(!1),i()}})();setTimeout((()=>{b(!1)}),50)};if(!t||0===t.length)return(0,No.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,No.jsx)("div",{children:"No questions available"})});const q=t[a];if(!q)return null;if(m)return(0,No.jsx)(tv,{children:(0,No.jsxs)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),(0,No.jsx)("p",{className:"text-lg text-gray-600",children:"Processing final results..."})]})});return(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 flex flex-col justify-center",children:(0,No.jsxs)("div",{className:"max-w-4xl w-full mx-auto space-y-6",children:[(0,No.jsx)(wM,{current:R,total:I}),(0,No.jsx)("div",{className:"rounded-lg shadow-md p-6 border-2 bg-white border-gray-200",children:(0,No.jsx)("div",{children:(()=>{if(y)return(0,No.jsx)(Dv,{correctAnswer:q.result,onCorrectInput:H,question:{num1:q.operand1,num2:q.operand2,operator:"addition"===q.operation?"+":"subtraction"===q.operation?"-":"multiplication"===q.operation?"\xd7":"\xf7"}});const e={num1:q.operand1,num2:q.operand2,operator:"addition"===q.operation?"+":"subtraction"===q.operation?"-":"multiplication"===q.operation?"\xd7":"\xf7",answer:q.result};return console.log("QuestionScreen renderInputMethod:",{questionForInput:e,currentQuestion:q,showFeedback:p}),(0,No.jsx)(SM,{question:e,onAnswer:W,showFeedback:p,isCorrect:A})})()},w)})]})})},_M=()=>{const{user:e}=Mo(),{recordPageTransition:t}=Oo(),n=re(),[r,i]=(0,s.useState)("selection"),[o,a]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[u,d]=(0,s.useState)([]),[h,p]=(0,s.useState)(!0),[f,m]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1),[v,x]=(0,s.useState)(3);(0,s.useEffect)((()=>{const n=(e=>{const t=(new Date).toLocaleDateString(),n=sessionStorage.getItem("practiceContext");let r={date:t,accuracyCount:0,fluencyCount:0,current:""};if(n)try{const e=JSON.parse(n);r=e.date!==t?{date:t,accuracyCount:0,fluencyCount:0,current:""}:e}catch(f){console.error("Error parsing practiceContext:",f)}return"accuracy"===e?(r.accuracyCount++,r.current=`accuracy${r.accuracyCount}`):(r.fluencyCount++,r.current=`fluency${r.fluencyCount}`),sessionStorage.setItem("practiceContext",JSON.stringify(r)),r.current})("accuracy");console.log("Practice context updated:",n);(async()=>{if(null!==e&&void 0!==e&&e.userId)try{p(!0);const n=await vo(e.userId,"accuracyPractice");if(!n.availableActivities.accuracyPractice)return m("No accuracy practice activities available for today."),a([]),c([]),void d([]);const r=n.availableActivities.accuracyPractice.facts;a(r);const s=n.availableActivities.accuracyPractice.facts,i=[],o=[];if(s.forEach((e=>{"accuracyPractice"===e.progressStatus?i.push(e):o.push(e)})),c(i),d(o),a(s),i.length>0){const e=i.map((e=>e.factId));t("accuracy-practice",{accuracyPractice:e})}else t("accuracy-practice");m(null)}catch(f){console.error("Failed to fetch session data:",f),m("Failed to load accuracy practice. Please try again later.")}finally{p(!1)}})()}),[null===e||void 0===e?void 0:e.userId]),(0,s.useEffect)((()=>{if(console.log("[AccuracyPage] Checking redirect condition:",{isLoading:h,factsLength:o.length,userNull:null===e,redirecting:g,timestamp:(new Date).toISOString(),location:window.location.pathname}),!h&&0===o.length){console.log("[AccuracyPage] Triggering redirect due to empty facts array"),y(!0);const e=setInterval((()=>{x((t=>t<=1?(console.log("[AccuracyPage] Redirect countdown completed, navigating to fluency practice"),clearInterval(e),window.location.href="/fluency-practice",0):t-1))}),1e3);return()=>clearInterval(e)}}),[h,o.length]);return h?(0,No.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-50 to-white",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-lg text-gray-600",children:"Loading accuracy practice..."})]})}):g?(0,No.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-50 to-white",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,No.jsxs)("p",{className:"text-lg text-gray-600",children:["Skipping to fluency practice... (",v,")"]})]})}):(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:["selection"===r&&(0,No.jsx)(bM,{onStart:e=>{a(e.facts),i("question")},facts:o,errorMessage:f}),"question"===r&&o.length>0&&(0,No.jsx)(kM,{questions:o,practiceFacts:l.map((e=>e.PK)),otherFacts:u.map((e=>e.PK)),onComplete:()=>{n("/fluency-practice")}})]})},jM=e=>{let{onStart:t,facts:n,errorMessage:r}=e;const{user:i}=Mo(),[o,a]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null),[f,m]=(0,s.useState)(30);(0,s.useEffect)((()=>{if(!o&&!l&&n.length>0){const e=setInterval((()=>{m((t=>t<=1?(clearInterval(e),g(),0):t-1))}),1e3);return p(e),()=>{clearInterval(e)}}}),[n,o,l]),(0,s.useEffect)((()=>{const e=e=>{"Enter"===e.key&&!o&&!l&&n.length>0&&g()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[n,o,l]);const g=()=>{0!==n.length&&(h&&(clearInterval(h),p(null)),a(!0),d(!0))},y=(0,s.useMemo)((()=>o?"Starting...":l?"Loading...":"Start Practice"),[o,l]);return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:[u&&(0,No.jsx)(Mv,{onComplete:()=>{try{t({facts:n,timerDuration:6})}catch(e){console.error("Failed to start Fluency practice:",e),a(!1),d(!1)}}}),(0,No.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,No.jsx)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Fluency Practice"})}),(0,No.jsx)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 p-6 bg-white rounded-lg shadow-md",children:l?(0,No.jsxs)("div",{className:"text-center py-8",children:[(0,No.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-base text-gray-600",children:"Loading practice..."})]}):(0,No.jsxs)(No.Fragment,{children:[(0,No.jsxs)("div",{className:"text-center space-y-6",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Instructions"}),(0,No.jsxs)("ul",{className:"space-y-3 text-base text-gray-600 max-w-2xl mx-auto text-left",children:[(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"1."}),(0,No.jsx)("span",{children:"You'll practice with progressively faster timer speeds in a single session"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"2."}),(0,No.jsx)("span",{children:"Starting with 6 seconds, then 3s, 2s, 1.5s, and finally 1s (if available)"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"3."}),(0,No.jsx)("span",{children:"Answer each question as fast as you can"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"4."}),(0,No.jsx)("span",{children:"If you don't answer within the time limit, the answer will be shown"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"5."}),(0,No.jsx)("span",{children:"If you answer a question incorrectly, the correct answer will be shown"})]})]})]}),!o&&!l&&n.length>0&&(0,No.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,No.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600 mb-2",children:[(0,No.jsx)("span",{children:"Auto-starting in"}),(0,No.jsxs)("span",{className:"font-bold",children:[f,"s"]})]}),(0,No.jsx)("div",{className:"w-full bg-gray-100 h-1.5 rounded-full overflow-hidden",children:(0,No.jsx)("div",{className:"h-full bg-blue-500 transition-all duration-1000",style:{width:f/30*100+"%"}})})]}),(0,No.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:g,disabled:o||l||0===n.length,className:`w-full max-w-md mx-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 \n                    text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg \n                    transition-all duration-300 flex items-center justify-center gap-2\n                    ${(o||l||0===n.length)&&"opacity-50 cursor-not-allowed"}`,children:[(0,No.jsx)("span",{children:y}),!o&&!l&&(0,No.jsx)(Pv,{className:"w-5 h-5"}),(o||l)&&(0,No.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})]}),r&&0===n.length&&(0,No.jsx)("div",{className:"text-red-500 font-medium text-center mt-2",children:r})]})]})})]})]})},TM=e=>{let{current:t,total:n}=e;const r=Math.round(t/n*100);return(0,No.jsx)("div",{className:"mb-6",children:(0,No.jsxs)("div",{className:"flex items-center gap-2",children:[(0,No.jsx)("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,No.jsx)("div",{className:"h-full bg-green-500",style:{width:`${r}%`,transition:"width 0.5s ease-in-out"}})}),(0,No.jsxs)("span",{className:"text-sm text-gray-500 min-w-[3rem] text-right",children:[r,"%"]})]})})},CM=e=>{let{question:t,onAnswer:n,showFeedback:r,isCorrect:i,timerKey:o}=e;const[a,l]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[d,h]=(0,s.useState)(null),[p,f]=(0,s.useState)(""),m=(0,s.useRef)(null),g=(0,s.useRef)(r),y=`${t.num1}${t.operator}${t.num2}`;(0,s.useEffect)((()=>{y!==p&&!r&&(l(""),u(""),h(null),f(y))}),[y,p,r]),(0,s.useEffect)((()=>{g.current&&!r&&(l(""),u("")),g.current=r}),[r]),(0,s.useEffect)((()=>{m.current&&!r&&m.current.focus()}),[r]);const v=e=>{if(l(e),e.length===t.answer.toString().length){const r=parseInt(e);isNaN(r)||(u(e),h(t.answer),n(r))}},x=r?c:a;return(0,No.jsxs)("div",{className:"flex justify-between",children:[(0,No.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1",children:[(0,No.jsxs)("p",{className:"text-6xl font-bold text-gray-800 mb-8",children:[t.num1," ",t.operator," ",t.num2," = ?"]}),(0,No.jsxs)("div",{className:"relative",children:[(0,No.jsx)("input",{ref:m,type:"text",inputMode:"numeric",pattern:"\\d*",value:x,onChange:e=>{const t=e.target.value.replace(/\D/g,"");v(t)},onKeyPress:e=>{"Enter"===e.key&&(e=>{if(null===e||void 0===e||e.preventDefault(),!a||r)return;const s=parseInt(a);isNaN(s)||(u(a),h(t.answer),n(s))})()},disabled:r,className:`\n              w-48 \n              p-4 \n              text-4xl \n              font-bold \n              text-center \n              rounded-lg\n              border-4\n              outline-none\n              transition-all\n              duration-200\n              ${r?i?"border-green-500 bg-green-50 text-green-700":"border-red-500 bg-red-50 text-red-700":"border-gray-200 focus:border-gray-200 bg-white text-gray-700"}\n            `}),r&&!i&&(0,No.jsx)("div",{className:"absolute -right-20 top-1/2 -translate-y-1/2 text-green-500 font-bold text-2xl",children:t.answer})]})]}),(0,No.jsx)(dc,{value:a,onChange:v,disabled:r,showFeedback:r,wasCorrect:i})]})},EM=e=>{let{questions:t,practiceFacts:n,otherFacts:r,onComplete:i,timerDuration:o=6}=e;re();const a=sessionStorage.getItem("activeTrackId")||"TRACK1",[l,c]=(0,s.useState)(0),[u,d]=(0,s.useState)(0),[h,p]=(0,s.useState)(0),[f,m]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1),[v,x]=(0,s.useState)(!1),[b,w]=(0,s.useState)(!1),[S,k]=(0,s.useState)(0),[_,j]=(0,s.useState)("green"),[T,C]=(0,s.useState)(!0),[E,N]=(0,s.useState)(0),[A,P]=(0,s.useState)({}),[M,I]=(0,s.useState)({}),[R,O]=(0,s.useState)(new Set),D=(0,s.useRef)([]),[L,F]=(0,s.useState)(!1),{user:z}=Mo(),$=(0,s.useMemo)((()=>t.reduce(((e,t)=>e+(n.includes(t.PK)?3:1)),0)),[t,n]),B=(0,s.useMemo)((()=>Object.entries(M).reduce(((e,t)=>{let[r,s]=t;const i=n.includes(r)?3:1;return e+Math.min(s,i)}),0)),[M,n]),U=(e,t)=>n.includes(e)?t>=3:t>=1,W=(0,s.useCallback)((()=>{N((e=>e+1)),j("green")}),[]),H=((0,s.useRef)(crypto.randomUUID()),(0,s.useRef)(u)),V=(0,s.useRef)(h),q=((0,s.useRef)(!1),(0,s.useRef)([])),K=(0,s.useRef)(!0),Q=(0,s.useRef)(Date.now()),Y=(0,s.useRef)(null),G=(0,s.useMemo)((()=>t.map((e=>({id:e.PK,num1:e.operand1,num2:e.operand2,operator:"addition"===e.operation?"+":"subtraction"===e.operation?"\u2212":"multiplication"===e.operation?"\xd7":"\xf7",answer:e.result})))),[t]);(0,s.useEffect)((()=>{const e={},t={};G.forEach((n=>{const r=n.id;e[r]={attempts:0,correct:0,greenZoneCorrect:0,timeSpent:0},t[r]=0})),P(e),I(t)}),[G]),(0,s.useEffect)((()=>{H.current=u}),[u]),(0,s.useEffect)((()=>{V.current=h}),[h]),(0,s.useEffect)((()=>()=>{K.current=!1,q.current.length>0&&Promise.all(q.current).catch((e=>{console.error("[Cleanup Error]:",e)})),Y.current&&clearTimeout(Y.current)}),[]),(0,s.useEffect)((()=>{if(Q.current=Date.now(),W(),w(!1),!v)return Y.current=setTimeout((()=>{K.current&&x(!0)}),12e3),()=>{Y.current&&(clearTimeout(Y.current),Y.current=null)}}),[l,v,W]),(0,s.useEffect)((()=>{console.log("QuestionScreen state update:",{showFeedback:f,lastAnswerCorrect:L,currentIndex:l})}),[f,L,l]);const X=async()=>{try{if(g)return;y(!0),q.current.length>0&&await Promise.all(q.current),y(!1),i()}catch(e){console.error("[QuestionScreen] Error handling practice end:",e),ho(e,{component:"FluencyPractice-QuestionScreen",trackId:a,userId:null===z||void 0===z?void 0:z.userId,pendingUpdates:q.current.length}),y(!1),i(),console.log("Progress updates may not have been saved. Continuing...")}},J=async e=>{if(!t[l]||b)return void console.warn("No current question found or transition in progress");C(!1),Y.current&&(clearTimeout(Y.current),Y.current=null);const r=t[l],s=e===r.result,i=s&&"green"===_;F(s),console.log("QuestionScreen handleAnswer:",{userAnswer:e,correctAnswer:r.result,isCorrect:s,isTrulyCorrect:i,currentQuestion:r,timerZone:_});const o=Date.now()-Q.current,c=r.PK,u=M[c]||0;let d;d=i?u+1:u,I((e=>({...e,[c]:d})));let h=!1,p=!1;const f=R.has(c),g=U(c,d);if(!f&&g?h=!0:f&&!g&&(p=!0),P((e=>{var t,r,a,l;const u={...e,[c]:{attempts:((null===(t=e[c])||void 0===t?void 0:t.attempts)||0)+1,correct:((null===(r=e[c])||void 0===r?void 0:r.correct)||0)+(s?1:0),greenZoneCorrect:((null===(a=e[c])||void 0===a?void 0:a.greenZoneCorrect)||0)+(i?1:0),timeSpent:((null===(l=e[c])||void 0===l?void 0:l.timeSpent)||0)+o}};u[c].attempts,u[c].correct,u[c].greenZoneCorrect,n.includes(c);return u})),m(!0),s?setTimeout((()=>{m(!1),ee(h?c:null,p?c:null)}),200):setTimeout((()=>{m(!1),x(!0)}),200),null!==z&&void 0!==z&&z.userId)try{const e=sessionStorage.getItem("practiceContext");let t="";if(e)try{t=JSON.parse(e).current||""}catch(v){console.error("Error parsing practiceContext for progress update:",v)}Uv.enqueueProgressUpdate(z.userId,{facts:{[c.split("FACT#")[1]]:{attempts:1,correct:s?1:0,timeSpent:o,practiceContext:t}}})}catch(v){var y;ho(v,{component:"FluencyPractice-ProgressUpdate",trackId:a,userId:z.userId,factId:c,isCorrect:s,timeSpent:o,networkConnected:navigator.onLine,connectionType:(null===(y=navigator.connection)||void 0===y?void 0:y.effectiveType)||"unknown"})}},Z=()=>{x(!1),d((e=>e+1)),ee()},ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(b)return;w(!0),e&&O((t=>new Set([...Array.from(t),e]))),n&&O((e=>{const t=new Set(Array.from(e));return t.delete(n),t})),m(!1);const r=new Set(R);e&&r.add(e),n&&r.delete(n);t.every((e=>r.has(e.PK)))?X():(x(!1),W(),C(!0),c((e=>{var n;const s=null===(n=t[e])||void 0===n?void 0:n.PK;if(s){const e=[...D.current],t=e.indexOf(s);-1!==t&&e.splice(t,1),e.unshift(s),D.current=e.slice(0,3)}const i=t.map(((e,t)=>({fact:e,index:t}))).filter((e=>{var t;const n=e.fact.PK,s=(null===(t=A[n])||void 0===t?void 0:t.attempts)||0;return!r.has(n)&&s<5})).map((e=>e.index));if(i.length>0){let n=i.filter((e=>!D.current.includes(t[e].PK)));0===n.length&&(n=i);const r=n[Math.floor(Math.random()*n.length)];if(r===e&&n.length>1){n=n.filter((t=>t!==e));return n[Math.floor(Math.random()*n.length)]}return r}return X(),e})),setTimeout((()=>{w(!1)}),100))};(0,s.useEffect)((()=>{c(0),d(0),p(0),m(!1),y(!1),x(!1),w(!1),k((e=>e+1)),j("green"),C(!1),N((e=>e+1)),P({}),I({}),O(new Set),D.current=[],W();const e=document.createElement("div");e.className="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",e.innerHTML=`\n      <div class="bg-white p-8 rounded-lg shadow-lg text-center max-w-md">\n        <h2 class="text-2xl font-bold mb-4">New Timer Speed: ${o}s</h2>\n        <p class="mb-6">Get ready for the next level!</p>\n        <div class="w-full bg-gray-200 h-2 rounded-full">\n          <div class="bg-blue-600 h-2 rounded-full animate-shrink"></div>\n        </div>\n      </div>\n    `,document.body.appendChild(e),setTimeout((()=>{document.body.removeChild(e),C(!0),Q.current=Date.now()}),3e3)}),[o,W]),(0,s.useEffect)((()=>{const e=document.createElement("style");return e.innerHTML="\n      @keyframes shrink {\n        from { width: 100%; }\n        to { width: 0%; }\n      }\n      .animate-shrink {\n        animation: shrink 3s linear forwards;\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[]);const te=(0,s.useMemo)((()=>Object.values(A).reduce(((e,t)=>e+(t.attempts||0)),0)),[A]);if(!t||0===t.length)return(0,No.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,No.jsx)("div",{children:"No questions available"})});const ne=t[l];if(!ne)return null;if(g)return(0,No.jsx)(tv,{children:(0,No.jsxs)(Wg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),(0,No.jsx)("p",{className:"text-lg text-gray-600",children:"Processing final results..."})]})});return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 flex flex-col justify-center",children:[(0,No.jsxs)("div",{className:"max-w-4xl w-full mx-auto space-y-6",children:[(0,No.jsx)(TM,{current:B,total:$}),(0,No.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 md:p-8 relative",children:[(0,No.jsxs)("div",{className:"mb-4",children:[(0,No.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,No.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["Timer Speed: ",o,"s"]}),(0,No.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full "+(o>=6?"bg-green-100 text-green-800":o>=3?"bg-blue-100 text-blue-800":o>=2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:o>=6?"Beginner":o>=3?"Intermediate":o>=2?"Advanced":"Expert"})]}),(0,No.jsx)(wv,{duration:o,onTimeout:()=>{C(!1);const e=t[l];if(e){const t=e.PK,n=M[t]||0;I((e=>({...e,[t]:n})));const r=R.has(t),s=U(t,n);r&&!s&&O((e=>{const n=new Set(Array.from(e));return n.delete(t),n})),P((e=>{var n,r,s,i;return{...e,[t]:{attempts:((null===(n=e[t])||void 0===n?void 0:n.attempts)||0)+1,correct:(null===(r=e[t])||void 0===r?void 0:r.correct)||0,greenZoneCorrect:(null===(s=e[t])||void 0===s?void 0:s.greenZoneCorrect)||0,timeSpent:((null===(i=e[t])||void 0===i?void 0:i.timeSpent)||0)+12e3}}})),x(!0)}},onZoneChange:e=>{j(e)},isActive:T&&!f&&!v},E)]}),ne&&(0,No.jsx)("div",{className:"rounded-lg shadow-md p-6 border-2 bg-white border-gray-200",children:(0,No.jsx)("div",{children:(()=>{if(v)return(0,No.jsx)(Dv,{correctAnswer:ne.result,onCorrectInput:Z,question:{num1:ne.operand1,num2:ne.operand2,operator:"addition"===ne.operation?"+":"subtraction"===ne.operation?"-":"multiplication"===ne.operation?"\xd7":"\xf7"}});const e={num1:ne.operand1,num2:ne.operand2,operator:"addition"===ne.operation?"+":"subtraction"===ne.operation?"-":"multiplication"===ne.operation?"\xd7":"\xf7",answer:ne.result};return(0,No.jsx)(CM,{question:e,onAnswer:J,showFeedback:f,isCorrect:L,timerKey:E})})()},S)})]}),te>40&&(0,No.jsx)("div",{className:"flex justify-center mt-6",children:(0,No.jsx)("button",{className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-bold shadow-md transition-all duration-200",onClick:()=>{window.location.href="/fluency-practice"},children:"Start Over"})})]}),g&&(0,No.jsxs)("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),(0,No.jsx)("p",{className:"text-lg text-gray-600",children:"Processing final results..."})]})]})},NM={"6s":6,"3s":3,"2s":2,"1.5s":1.5,"1s":1},AM=e=>{switch(e){case"6s":default:return"fluency6Practice";case"3s":return"fluency3Practice";case"2s":return"fluency2Practice";case"1.5s":return"fluency1_5Practice";case"1s":return"fluency1Practice"}},PM=(e,t)=>{const n=AM(t),r=[],s=[];return e.forEach((e=>{const i=e;"6s"!==t||!i.progressStatus||i.progressStatus!==n&&"accuracyPractice"!==i.progressStatus?i.progressStatus&&i.progressStatus===n?r.push(i):s.push(i):r.push(i)})),{practice:r,others:s}},MM=()=>{const{user:e}=Mo(),{recordPageTransition:t}=Oo(),[n,r]=(0,s.useState)("selection"),[i,o]=(0,s.useState)([]),[a,l]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[d,h]=(0,s.useState)(!0),[p,f]=(0,s.useState)(null),[m,g]=(0,s.useState)(!1),[y,v]=(0,s.useState)(3),[x,b]=(0,s.useState)([]),[w,S]=(0,s.useState)({}),[k,_]=(0,s.useState)(0),[j,T]=(0,s.useState)(6),[C,E]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const t=(e=>{const t=(new Date).toLocaleDateString(),n=sessionStorage.getItem("practiceContext");let r={date:t,accuracyCount:0,fluencyCount:0,current:""};if(n)try{const e=JSON.parse(n);r=e.date!==t?{date:t,accuracyCount:0,fluencyCount:0,current:""}:e}catch(p){console.error("Error parsing practiceContext:",p)}return"accuracy"===e?(r.accuracyCount++,r.current=`accuracy${r.accuracyCount}`):(r.fluencyCount++,r.current=`fluency${r.fluencyCount}`),sessionStorage.setItem("practiceContext",JSON.stringify(r)),r.current})("fluency");console.log("Practice context updated:",t);(async()=>{if(null!==e&&void 0!==e&&e.userId)try{h(!0);const t=await vo(e.userId,"fluencyPractice");if(!t.availableActivities.fluencyPractice)return f("No fluency practice activities available for today."),o([]),l([]),void u([]);const n=t.availableActivities.fluencyPractice;let r={};if(n.groupedFacts)r=n.groupedFacts;else{if(!n.facts||!n.fluencyLevel)return void f("Invalid fluency practice data format.");r={[n.fluencyLevel]:n.facts}}const s=Object.keys(r).filter((e=>{var t;return(null===(t=r[e])||void 0===t?void 0:t.length)>0}));if(0===s.length)return void f("No fluency practice facts available for today.");s.sort(((e,t)=>NM[t]-NM[e])),b(s),S(r);const i=s[0],a=r[i]||[],{practice:c,others:d}=PM(a,i);l(c),u(d),o(a),T(NM[i]),f(null)}catch(p){console.error("Failed to fetch session data:",p),f("Failed to load fluency practice. Please try again later.")}finally{h(!1)}})()}),[null===e||void 0===e?void 0:e.userId]),(0,s.useEffect)((()=>{if(!d&&(0===x.length||0===i.length)){g(!0);const e=setInterval((()=>{v((t=>t<=1?(clearInterval(e),window.location.href="/",0):t-1))}),1e3);return()=>clearInterval(e)}}),[d,x.length,i.length]);const N=(e,t)=>{const n=AM(e);return{[n]:t.map((e=>e.factId))}};return d?(0,No.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-50 to-white",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-lg text-gray-600",children:"Loading fluency practice..."})]})}):m?(0,No.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-50 to-white",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,No.jsxs)("p",{className:"text-lg text-gray-600",children:["Skipping to dashboard... (",y,")"]})]})}):(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:["selection"===n&&(0,No.jsx)(jM,{onStart:n=>{if(_(0),x.length>0){const n=x[0];T(NM[n]);const r=w[n]||[];o(r);const{practice:s,others:i}=PM(r,n);if(l(s),u(i),null!==e&&void 0!==e&&e.userId&&s.length>0){const e=N(n,s);t("fluency-practice",e)}else t("fluency-practice")}E(!1),r("question")},facts:i,errorMessage:p}),"question"===n&&i.length>0&&(0,No.jsx)(EM,{questions:i,practiceFacts:a.map((e=>e.PK)),otherFacts:c.map((e=>e.PK)),onComplete:()=>{const n=k+1;if(n>=x.length)E(!0),window.location.href="/";else{_(n);const r=x[n];T(NM[r]);const s=w[r]||[];o(s);const{practice:i,others:a}=PM(s,r);if(l(i),u(a),null!==e&&void 0!==e&&e.userId&&i.length>0){const e=N(r,i);t("fluency-practice",e)}else t("fluency-practice")}},timerDuration:j})]})},IM=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TRACK5";try{const n=await fo.get(`/targetTime/${e}/${t}`);if(!n.data)throw new Error("No target time data received");return n.data}catch(n){return console.error("Error fetching CQPM target time:",n),{timePerDigit:.5,targetTime:3}}},RM=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TRACK5";try{var n;const r=await fo.post(`/progressAssessment/start/${e}/${t}`);if(null===(n=r.data)||void 0===n||!n.success)throw new Error("Failed to start CQPM benchmark assessment");return r.data}catch(r){throw r instanceof Error?r:new Error("Failed to start CQPM benchmark assessment")}},OM=e=>{let{onStart:t}=e;const{user:n}=Mo(),[r,i]=(0,s.useState)(!1),[o,a]=(0,s.useState)(!0),[l,c]=(0,s.useState)([]),[u,d]=(0,s.useState)(""),[h,p]=(0,s.useState)(null),[f,m]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1),[v,x]=(0,s.useState)("TRACK5");(0,s.useEffect)((()=>{(async()=>{if(null!==n&&void 0!==n&&n.userId){a(!0);try{const[e,t]=await Promise.all([IM(n.userId,v),RM(n.userId,v)]);if(!t.questions||!t.assessmentId)throw new Error("Invalid response from server");p(e.timePerDigit),m(e.targetTime),c(t.questions),d(t.assessmentId)}catch(e){console.error("Failed to fetch CQPM benchmark data:",e)}finally{a(!1)}}})()}),[null===n||void 0===n?void 0:n.userId,v]),(0,s.useEffect)((()=>{const e=e=>{"Enter"===e.key&&!r&&!o&&l.length>0&&u&&null!==h&&null!==f&&b()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[l,r,o,u,h,f]);const b=()=>{0!==l.length&&u&&null!==h&&null!==f&&(i(!0),y(!0))},w=e=>{r||o||x(e)},S=(0,s.useMemo)((()=>r?"Starting...":o?"Loading Questions...":"Start CQPM Benchmark"),[r,o]);return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex flex-col justify-center p-6",children:[g&&(0,No.jsx)(Mv,{onComplete:()=>{try{if(0===l.length||!u||null===h||null===f)return;t({inputMethod:"typing",questions:l,assessmentId:u,timePerDigit:h,baseTime:f,trackId:v})}catch(e){console.error("Failed to start CQPM benchmark:",e),i(!1),y(!1)}}}),(0,No.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,No.jsx)("h1",{className:"text-4xl font-bold text-center mb-6 animate-fade-in flex items-center justify-center gap-4",children:(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"CQPM Benchmark Test"})}),(0,No.jsxs)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 p-6 bg-white rounded-lg shadow-md",children:[(0,No.jsxs)("div",{className:"text-center space-y-6",children:[(0,No.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Instructions"}),(0,No.jsxs)("div",{className:"flex flex-col items-center justify-center mb-6",children:[(0,No.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Select Track"}),(0,No.jsxs)("div",{className:"flex gap-4",children:[(0,No.jsx)("button",{onClick:()=>w("TRACK5"),disabled:r||o,className:"px-4 py-2 rounded-lg transition-all duration-200 "+("TRACK5"===v?"bg-blue-500 text-white font-medium shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Division Facts"}),(0,No.jsx)("button",{onClick:()=>w("TRACK6"),disabled:r||o,className:"px-4 py-2 rounded-lg transition-all duration-200 "+("TRACK6"===v?"bg-blue-500 text-white font-medium shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Addition Facts"})]})]}),(0,No.jsxs)("ul",{className:"space-y-3 text-base text-gray-600 max-w-2xl mx-auto text-left",children:[(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"1."}),(0,No.jsxs)("span",{children:["You will have ",f," seconds to answer each question"]})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"2."}),(0,No.jsxs)("span",{children:["A question is only scored correctly if you answer it within the first ",f," seconds"]})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"3."}),(0,No.jsx)("span",{children:"Answers will be auto-submitted once you type them"})]}),(0,No.jsxs)("li",{className:"flex items-center gap-4",children:[(0,No.jsx)("span",{className:"font-bold text-blue-500 min-w-[1.5rem]",children:"4."}),(0,No.jsxs)("span",{children:["This test uses the ",(k=v,"TRACK5"===k?"Edulastic Division Facts":"Edulastic Addition Facts")," question set for standardized benchmark evaluation"]})]})]})]}),(0,No.jsxs)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:b,disabled:r||o||null===h||null===f,className:`w-full max-w-md mx-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 \n              text-white rounded-lg font-bold text-base shadow-md hover:shadow-lg \n              transition-all duration-300 flex items-center justify-center gap-2\n              ${(r||o||null===h||null===f)&&"opacity-50 cursor-not-allowed"}`,children:[(0,No.jsx)("span",{children:S}),!r&&!o&&(0,No.jsx)(Pv,{className:"w-5 h-5"}),(r||o)&&(0,No.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})]})]})]})]});var k},DM=e=>{let{onEnd:t,settings:n,questions:r}=e;const[i,o]=(0,s.useState)(0),[a,l]=(0,s.useState)(0),[c,u]=(0,s.useState)(0),[d,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[m,g]=(0,s.useState)(Date.now()),[y,v]=(0,s.useState)("green"),x=(0,s.useRef)(!1),{user:b}=Mo(),w=(0,s.useRef)(Date.now()),S=(0,s.useRef)(a),k=(0,s.useRef)(c),_=(0,s.useRef)([]),j=(0,s.useRef)([]),T=(0,s.useRef)(!0),C=(0,s.useRef)(0),E=(0,s.useRef)(0),N=(0,s.useRef)(0),A=(0,s.useMemo)((()=>{if(!r[i])return n.baseTime;const e=r[i].answer.toString().length;return 1===e?n.baseTime:n.baseTime+(e-1)*n.timePerDigit}),[i,r,n.baseTime,n.timePerDigit]);(0,s.useEffect)((()=>()=>{T.current=!1,j.current.length>0&&Promise.all(j.current).catch((e=>{ho(e,{component:"ProgressAssessment-QuestionScreen",userId:null===b||void 0===b?void 0:b.userId})}))}),[]),(0,s.useEffect)((()=>{S.current=a}),[a]),(0,s.useEffect)((()=>{k.current=c}),[c]);const P=async()=>{try{if(p)return;if(f(!0),null===b||void 0===b||!b.userId)throw new Error("No authenticated user found");const s=(Date.now()-w.current)/6e4,i=5;let o=0,l=null;for(;o<i&&!l;)try{l=await ko(n.assessmentId,b.userId,{totalTypingTimeDeducted:C.current,totalTransitionTime:E.current,actualDurationMinutes:s,clientSideStats:{totalAttempts:a,totalCorrect:c},testType:"QuestionTimer"})}catch(e){o++,ho(e,{component:"ProgressAssessment-QuestionScreen-Retry",userId:null===b||void 0===b?void 0:b.userId,attempt:o}),o<i&&await new Promise((e=>setTimeout(e,1e3*o)))}if(l){if(_.current.length>0&&null!==b&&void 0!==b&&b.userId)try{const e=_.current.reduce(((e,t)=>e+t.count),0),t=_.current.reduce(((e,t)=>e+t.time),0);e>0&&t>0&&Uv.enqueueTypingUpdate(b.userId,{count:e,time:t/e})}catch(e){ho(e,{component:"ProgressAssessment-QuestionScreen-TypingData",userId:null===b||void 0===b?void 0:b.userId})}const n={cqpm:Math.round(l.overallCQPM),accuracy:l.accuracyRate,totalQuestions:r.length,totalAttempted:a,correctAnswers:c};f(!1),t(n)}else{ho(new Error("Failed to complete assessment after max retries"),{component:"ProgressAssessment-QuestionScreen",userId:null===b||void 0===b?void 0:b.userId,attempts:i});const e={cqpm:0,totalQuestions:r.length,totalAttempted:a,correctAnswers:c,accuracy:0};f(!1),t(e)}}catch(e){ho(e,{component:"ProgressAssessment-QuestionScreen",userId:null===b||void 0===b?void 0:b.userId});const n={cqpm:0,totalQuestions:r.length,totalAttempted:a,correctAnswers:c,accuracy:0};f(!1),t(n)}},M=async(e,t)=>{if(!r[i])return void console.warn("No current question found");if(Date.now()-w.current>=12e4)return void P();const s=r[i],a=e===s.answer,c=Date.now()-m,d=s.answer.toString().length,p=d>1?(d-1)*n.timePerDigit*1e3:0,f=Math.max(100,c-p);if(C.current+=p,N.current=Date.now(),t&&a&&_.current.push(t),a?(u((e=>e+1)),h(!0),setTimeout((()=>{const e=Date.now();E.current+=e-N.current,h(!1),v("green"),o(i+1),g(Date.now())}),100)):(h(!0),setTimeout((()=>{const e=Date.now();E.current+=e-N.current,h(!1),v("green"),o(i+1),g(Date.now())}),100)),l((e=>e+1)),null!==b&&void 0!==b&&b.userId)try{const e=s.id.split("FACT#")[1];if(!e)throw new Error("Invalid fact ID format");Uv.enqueueProgressAssessmentUpdate(b.userId,n.assessmentId,{[s.id]:{attempts:1,correct:a?1:0,timeSpent:f}});const t=((e,t)=>{if(!e)return"learning";const n=t/1e3;return n>6?"accuracyPractice":n>3?"fluency6Practice":n>2?"fluency3Practice":n>1.5?"fluency2Practice":"mastered"})(a,f);Uv.enqueueProgressUpdate(b.userId,{facts:{[e]:{attempts:1,correct:a?1:0,timeSpent:f,status:t}}})}catch(y){ho(y,{component:"ProgressAssessment-QuestionScreen-UpdateProgress",userId:null===b||void 0===b?void 0:b.userId,factId:null===s||void 0===s?void 0:s.id,assessmentId:n.assessmentId})}};if((0,s.useEffect)((()=>{r[i]?g(Date.now()):i>=r.length&&!p&&P()}),[i]),!r||0===r.length)return(0,No.jsx)("div",{className:"h-screen flex items-center justify-center",children:(0,No.jsx)("div",{children:"No questions available"})});if(!r[i])return null;if(p)return(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 flex items-center justify-center",children:(0,No.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col items-center gap-4",children:[(0,No.jsx)("div",{className:"w-20 h-20 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,No.jsx)("div",{className:"text-xl font-medium text-gray-600",children:"Processing final results..."})]})});const I={question:r[i],onAnswer:M,showFeedback:d,currentQuestionIndex:i};return(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-6 flex items-center",children:(0,No.jsxs)("div",{className:"max-w-4xl w-full mx-auto space-y-6",children:[(0,No.jsx)(Yv,{onComplete:P,isActive:!x.current}),(0,No.jsx)(wv,{duration:A,onTimeout:()=>M(-1),onZoneChange:e=>{v(e)},isActive:!x.current},i),(0,No.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,No.jsx)(Qv,{...I})})]})})},LM=()=>{const{user:e}=Mo(),[t,n]=(0,s.useState)("selection"),[r,i]=(0,s.useState)(null),[o,a]=(0,s.useState)(null);return(0,No.jsxs)("div",{children:["selection"===t&&(0,No.jsx)(OM,{onStart:e=>{i(e),n("question")}}),"question"===t&&r&&(0,No.jsx)(DM,{settings:r,questions:r.questions,onEnd:e=>{a(e),n("result")}}),"result"===t&&o&&r&&(0,No.jsx)(tx,{results:o,settings:r})]})};function FM(){const e=re();return(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[(0,No.jsxs)("button",{onClick:()=>e("/"),className:"absolute top-6 left-6 flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[(0,No.jsx)(py,{className:"mr-2"}),(0,No.jsx)("span",{className:"font-medium",children:"Back to Home"})]}),(0,No.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[(0,No.jsxs)("div",{className:"text-center mb-10",children:[(0,No.jsxs)(Wg.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-center gap-3 mb-6",children:[(0,No.jsx)(vy,{className:"text-yellow-400",size:40}),(0,No.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"FastMath Docs"})]}),(0,No.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"A comprehensive guide to understanding how FastMath app helps students build math fact fluency"})]}),(0,No.jsxs)(Wg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-8 rounded-xl shadow-md space-y-8",children:[(0,No.jsxs)("section",{children:[(0,No.jsx)("h2",{className:"text-2xl font-bold text-blue-600 mb-4",children:"Overview"}),(0,No.jsx)("p",{className:"text-gray-700",children:"FastMath is an app designed to help students build math fact fluency, similar to RocketMath. The app uses adaptive learning techniques to personalize practice and ensure students master basic math operations at their own pace."})]}),(0,No.jsxs)("section",{children:[(0,No.jsx)("h2",{className:"text-2xl font-bold text-blue-600 mb-4",children:"How FastMath Works"}),(0,No.jsxs)("div",{className:"space-y-6",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-blue-500 mb-2",children:"1. Fluency Assessments"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"When a student starts a learning track in FastMath, they take an assessment that:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Identifies which math facts the student already knows so they don't waste time practicing these facts"}),(0,No.jsx)("li",{children:"Filters facts based on recall speed and groups them for accuracy and fluency practice"}),(0,No.jsx)("li",{children:"Calculates accurate time spent on each question, measuring and taking into account each student's typing speed"})]}),(0,No.jsx)("p",{className:"text-gray-700 mt-2",children:"The assessment results immediately personalize the learning experience so that every student works at their optimal challenge level - not too easy, not too hard - keeping students engaged and building confidence with every practice session."})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-blue-500 mb-2",children:"2. Daily Learning Flow"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"From the Dashboard, students can see their progress and begin their daily practice session with a single click:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"The dashboard displays a visual progress grid showing mastery levels for each fact"}),(0,No.jsx)("li",{children:"Color-coded cells indicate progress: grey (not started), blue (learning), orange (accuracy practice), yellow (fluency 6s), lime (fluency 3s-1.5s), and green (mastered)"}),(0,No.jsx)("li",{children:"The dashboard provides a clear percentage of track completion"}),(0,No.jsx)("li",{children:'Students simply click the "Start" button to begin their personalized learning session'})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-blue-500 mb-2",children:"3. Learning Path"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath uses a structured learning flow that moves students through distinct stages:"}),(0,No.jsxs)("div",{className:"ml-4 mt-4 space-y-4",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"a. Learn Stage"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Students are introduced to 1-3 new facts at a time"}),(0,No.jsx)("li",{children:"Each fact is presented clearly with its answer"}),(0,No.jsx)("li",{children:"Students practice recalling the answer to build initial memory"}),(0,No.jsx)("li",{children:"The app tracks correct responses and ensures correct retrieval before moving to the next fact"})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"b. Practice Stage"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Students practice the facts they've just learned in a mixed sequence"}),(0,No.jsx)("li",{children:"Each fact must be answered correctly multiple times to progress"}),(0,No.jsx)("li",{children:"Facts require increasingly faster response times"}),(0,No.jsx)("li",{children:"Color-coded indicators show mastery progress for each fact"}),(0,No.jsx)("li",{children:"Facts that are not mastered are recycled for additional practice"})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"c. Timed Practice Stage"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Students practice facts with a timer"}),(0,No.jsx)("li",{children:"The app adjusts timing requirements based on student progress"}),(0,No.jsx)("li",{children:"Students must answer correctly within the specified time window"}),(0,No.jsx)("li",{children:"This stage builds both accuracy and speed (fluency)"})]})]})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-blue-500 mb-2",children:"4. Accuracy Practice"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"Accuracy Practice focuses on building precision in math fact recall:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Students practice facts where they've made errors"}),(0,No.jsx)("li",{children:"The practice adapts to focus more on challenging facts"}),(0,No.jsx)("li",{children:"There's no time pressure, allowing students to focus on getting correct answers"}),(0,No.jsx)("li",{children:"The app tracks accuracy rates and adjusts the learning path accordingly"}),(0,No.jsx)("li",{children:"FastMath requires consistent accuracy across 3 separate practice days before advancing a fact, ensuring true mastery"})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-blue-500 mb-2",children:"5. Fluency Practice"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"Fluency Practice builds speed while maintaining accuracy:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Students practice facts with progressively stricter time requirements"}),(0,No.jsx)("li",{children:"The app starts with longer response windows (6 seconds) and gradually decreases time (down to 2/1.5 seconds depending on student's grade)"}),(0,No.jsx)("li",{children:"Facts are grouped by fluency level (6s, 3s, 2s, 1.5s)"}),(0,No.jsx)("li",{children:"Students must demonstrate mastery at each level before progressing"}),(0,No.jsx)("li",{children:"The app automatically adjusts difficulty based on grade-appropriate fluency targets"}),(0,No.jsx)("li",{children:"Each fluency level provides the perfect challenge that's achievable but stretches the student's abilities"})]}),(0,No.jsxs)("div",{className:"ml-4 mt-6 space-y-4",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"Progress Bar and Mastery Tracking"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"During fluency practice, FastMath uses a sophisticated progress tracking system:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"The progress bar shows how much of the current practice session you've completed"}),(0,No.jsx)("li",{children:'Each math fact requires a different number of correct answers to be considered "mastered"'}),(0,No.jsx)("li",{children:"Facts you're specifically practicing need 3 correct answers, while supporting facts only need 1"}),(0,No.jsx)("li",{children:"Timing matters - answers must be given within the green zone of the timer to count as fully correct"}),(0,No.jsx)("li",{children:"Incorrect answers or timeouts reduce your progress toward mastery of that fact"})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"Why Your Progress Bar Might Not Move"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"If you notice your progress bar isn't advancing as expected, here's why:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Yellow Zone Answers:"})," Correct answers given in the yellow zone of the timer don't count toward mastery"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Incorrect Answers:"})," Wrong answers reduce your progress by 2 points for that specific fact"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Timer Timeouts:"})," If the timer runs out completely, it counts as an incorrect answer"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Different Fact Values:"})," Some facts contribute more to the progress bar than others"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Repeated Facts:"})," The system prioritizes facts you haven't mastered yet, so you might see the same fact multiple times"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Negative Scores:"})," If you have more than 1 wrong answer for every 3 correct ones, your total score could be negative, preventing the progress bar from moving"]})]}),(0,No.jsx)("p",{className:"text-gray-700 mt-2",children:"Since each wrong answer costs 2 points, and correct answers only give 1 point, you need to answer correctly much more often than incorrectly to make progress. If your total score drops below zero, the progress bar won't advance until you build back up to a positive score."}),(0,No.jsx)("p",{className:"text-gray-700 mt-2",children:"The progress bar only advances when you truly demonstrate mastery by consistently answering quickly and correctly. This ensures you're building real fluency, not just memorizing answers temporarily."})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"How the System Determines What to Show Next"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath intelligently selects which facts to show you next:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Facts you haven't mastered yet are prioritized over facts you've already mastered"}),(0,No.jsx)("li",{children:"The system avoids showing the same fact repeatedly in succession to prevent simple memorization"}),(0,No.jsx)("li",{children:"When all facts are mastered, the practice session automatically completes"}),(0,No.jsx)("li",{children:"If you're struggling with a fact, the system will continue to present it until you demonstrate mastery"}),(0,No.jsx)("li",{children:"The practice session adapts to your performance in real-time"})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"Strategies for Faster Progress"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"To see the progress bar move more quickly:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Focus on answering within the green zone of the timer"}),(0,No.jsx)("li",{children:"Practice consistent accuracy - a single wrong answer can undo multiple correct answers"}),(0,No.jsx)("li",{children:"If you're unsure of an answer, take your time within the green zone rather than guessing"}),(0,No.jsx)("li",{children:"Pay attention to facts you see repeatedly - these are the ones you need to master"}),(0,No.jsx)("li",{children:"Complete each practice session fully to build long-term retention"})]})]})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-blue-500 mb-2",children:"6. Progress Assessment (CQPM)"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath tracks student progress through Correct Questions Per Minute (CQPM) assessments:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"CQPM measures how many math facts a student can correctly answer in one minute"}),(0,No.jsx)("li",{children:"Regular assessments monitor progress toward grade-level fluency targets"}),(0,No.jsx)("li",{children:"The dashboard displays CQPM progress visually"}),(0,No.jsx)("li",{children:"Teachers can see class-wide data on CQPM growth"}),(0,No.jsx)("li",{children:"The app sets appropriate CQPM targets based on student grade level"})]}),(0,No.jsxs)("div",{className:"ml-4 mt-6 space-y-4",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"How Progress Assessments Work"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"Progress assessments use an intelligent system to accurately measure math fact fluency:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-2",children:[(0,No.jsx)("li",{children:"Assessments typically last 2 minutes, giving students enough time to demonstrate their fluency"}),(0,No.jsx)("li",{children:"The system prioritizes harder facts first and then shows the easier facts"}),(0,No.jsx)("li",{children:"Questions are intelligently shuffled to provide a balanced assessment experience"}),(0,No.jsx)("li",{children:"The system tracks accuracy rate (percentage of correct answers) alongside speed"}),(0,No.jsx)("li",{children:"FastMath uses advanced timing calculations that account for typing speed and transition time between questions"}),(0,No.jsx)("li",{children:"If a student answers a question incorrectly during an assessment, the system may adjust their learning path for that fact, moving it to a more appropriate practice level"})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"CQPM Calculation"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath uses a sophisticated method to calculate accurate CQPM (Correct Questions Per Minute):"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"The system counts the total number of correct answers during the assessment period"}),(0,No.jsx)("li",{children:"FastMath accounts for typing time by measuring how long students spend typing each answer"}),(0,No.jsx)("li",{children:"Transition time between questions is measured and factored into calculations"}),(0,No.jsx)("li",{children:"The final CQPM score represents true math fact fluency by removing typing and transition delays"}),(0,No.jsx)("li",{children:'Students with a CQPM of 40 or higher are considered "fluent" in that operation'}),(0,No.jsx)("li",{children:"Assessment results are automatically shared with teachers through learning management systems"})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"Progress Tracking"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath provides comprehensive progress tracking for students and teachers:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Students can see their CQPM growth over time through regular assessments"}),(0,No.jsx)("li",{children:"The system tracks assessment history, allowing students and teachers to monitor improvement"}),(0,No.jsx)("li",{children:"Teachers receive detailed reports showing both accuracy and speed metrics"}),(0,No.jsx)("li",{children:"Assessment results include metadata about student performance, including fluency status"}),(0,No.jsx)("li",{children:"Progress assessments for different operations (addition, subtraction, multiplication, division) are tracked separately"}),(0,No.jsx)("li",{children:"Assessment data helps teachers identify students who may need additional support"})]})]})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-blue-500 mb-2",children:"7. Retention Testing"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath ensures long-term retention with a scientifically-designed spaced repetition system:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"After a student masters a fact, it's automatically scheduled for future retention checks"}),(0,No.jsx)("li",{children:"Facts are tested again at carefully spaced intervals"}),(0,No.jsx)("li",{children:"This proven spaced repetition schedule dramatically increases long-term memory"}),(0,No.jsx)("li",{children:"If a student doesn't recall a fact during retention testing, it's returned to the appropriate practice level"}),(0,No.jsx)("li",{children:'Students who demonstrate retention across all intervals achieve "automatic" status, indicating true mastery'})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-blue-500 mb-2",children:"8. Time-to-Completion Estimation"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath provides motivating progress feedback:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Students see personalized estimates of how long it will take to complete their learning track"}),(0,No.jsx)("li",{children:"The dashboard clearly shows overall completion percentage"}),(0,No.jsx)("li",{children:"Progress is calculated based on each student's actual learning pace"}),(0,No.jsx)("li",{children:"Estimates adjust in real-time as students improve their fluency"}),(0,No.jsx)("li",{children:"This feature helps students set achievable goals and celebrate their progress"})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"How Time Estimation Works"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath uses a sophisticated algorithm to calculate personalized time estimates:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"For new users, the system uses grade-appropriate default time parameters for each learning stage"}),(0,No.jsx)("li",{children:"For existing users (who've completed at least 10% of facts), the system analyzes their actual learning data"}),(0,No.jsx)("li",{children:"The algorithm tracks average time spent in each learning stage (learning, accuracy practice, and all fluency levels)"}),(0,No.jsx)("li",{children:"Time estimates are calculated based on the remaining facts in each stage of the learning process"}),(0,No.jsx)("li",{children:"The system accounts for your current progress - facts already mastered aren't included in the remaining time"}),(0,No.jsx)("li",{children:"For elementary students (grades 1-3), the algorithm adds extra time to account for higher error rates"}),(0,No.jsx)("li",{children:"As users practice more, their time estimates become increasingly accurate and personalized"})]}),(0,No.jsx)("p",{className:"text-gray-700 mt-2",children:"This dynamic time estimation provides realistic goals and helps students stay motivated by seeing their estimated completion time decrease as they practice consistently."})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h3",{className:"text-xl font-semibold text-blue-500 mb-2",children:"9. Daily Goals System"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath uses a personalized daily goals system to keep students motivated and engaged:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Students are presented with adaptive daily goals based on their current progress"}),(0,No.jsx)("li",{children:"Goals are intelligently generated to focus on what each student needs to work on most"}),(0,No.jsx)("li",{children:"The system automatically creates a personalized learning path for every practice session"}),(0,No.jsx)("li",{children:'Completing all daily goals earns a "star session" with a celebration animation'}),(0,No.jsx)("li",{children:"Daily goals progress is tracked to help build consistent learning habits"})]}),(0,No.jsxs)("div",{className:"ml-4 mt-6 space-y-4",children:[(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"Types of Daily Goals"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"FastMath creates up to four different types of personalized goals:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Learning Goals:"})," Focus on mastering new math facts (up to 4 facts per day)"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Accuracy Goals:"})," Practice facts where precision is needed before moving to fluency"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Fluency Goals:"})," Build speed with facts where accuracy is already established (up to 8 facts per day)"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Assessment Goals:"})," Take a progress assessment to measure CQPM improvement"]})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"How Goals Are Created"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"The system automatically generates new goals each day based on your current progress:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"First-Time Users:"})," New students start with assessment goals to complete their initial fluency assessment, followed by learning and practice goals"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Returning Users:"})," The system analyzes your current fact statuses and creates goals for facts that need attention"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Learning Goals:"}),' Created when you have facts in "learning" status that need to be mastered']}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Accuracy Goals:"}),' Generated for facts in "accuracyPractice" status that need consistent correct answers']}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Fluency Goals:"})," Created for facts in any fluency practice level (6s, 3s, 2s, 1.5s) that need speed improvement"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Assessment Goals:"})," Added when you're working primarily on either accuracy or fluency practice"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Goal Limits:"})," Learning goals are capped at 4 facts, fluency goals at 8 facts, and assessment goals at 1-3 assessments depending on your needs"]})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"When Goals Reset"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"Daily goals follow your local timezone for a natural daily cycle:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Local Midnight Reset:"})," Goals reset at midnight in your local timezone, not UTC time"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Automatic Detection:"})," The app detects your timezone automatically using your device settings"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Reset Warning:"})," A 10-minute warning appears before midnight (23:50-23:59) to help you complete goals"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Travel Support:"})," If you travel to a different timezone, goals automatically adjust to your new location"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"New Day Goals:"})," Each day at midnight, the system creates fresh goals based on your current progress"]}),(0,No.jsxs)("li",{children:[(0,No.jsx)("strong",{children:"Uncompleted Goals:"})," Goals that weren't completed by midnight are replaced with new goals for the new day"]})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"Intelligent Goal Generation"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"The system uses a sophisticated algorithm to determine which goals to show:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Daily goals are created based on analyzing each student's current progress data"}),(0,No.jsx)("li",{children:"The system identifies which facts are in learning, accuracy practice, and fluency practice status"}),(0,No.jsx)("li",{children:"Goals adapt as students make progress - when all facts in one category are mastered, that goal type no longer appears"}),(0,No.jsx)("li",{children:"Assessment goals appear when a student is working primarily on either accuracy or fluency"}),(0,No.jsx)("li",{children:"Goal difficulty is calibrated to be challenging but achievable in a single session"})]})]}),(0,No.jsxs)("div",{children:[(0,No.jsx)("h4",{className:"text-lg font-medium text-blue-400 mb-1",children:"Motivation and Streaks"}),(0,No.jsx)("p",{className:"text-gray-700 mb-2",children:"The daily goals system builds motivation through several key features:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 text-gray-700 space-y-1",children:[(0,No.jsx)("li",{children:"Progress indicators show completion status for each goal visually"}),(0,No.jsx)("li",{children:"Goal completion is tracked over time to build learning streaks"}),(0,No.jsx)("li",{children:"Completing all daily goals triggers a celebration with animated visual rewards"}),(0,No.jsx)("li",{children:"The system records an 8-day history of goal completion to encourage consistent practice"}),(0,No.jsx)("li",{children:"Each goal type's progress is automatically updated as students practice"})]})]})]})]})]})]}),(0,No.jsxs)("section",{children:[(0,No.jsx)("h2",{className:"text-2xl font-bold text-blue-600 mb-4",children:"Benefits for Students"}),(0,No.jsxs)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,No.jsxs)("li",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,No.jsx)("div",{className:"font-semibold text-blue-700 mb-1",children:"Personalized Learning"}),(0,No.jsx)("div",{className:"text-gray-600 text-sm",children:"Each student works on the specific facts they need to learn"})]}),(0,No.jsxs)("li",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,No.jsx)("div",{className:"font-semibold text-blue-700 mb-1",children:"Adaptive Difficulty"}),(0,No.jsx)("div",{className:"text-gray-600 text-sm",children:"The app automatically adjusts to each student's pace and ability"})]}),(0,No.jsxs)("li",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,No.jsx)("div",{className:"font-semibold text-blue-700 mb-1",children:"Clear Progress Tracking"}),(0,No.jsx)("div",{className:"text-gray-600 text-sm",children:"Visual indicators show exactly what students have mastered"})]}),(0,No.jsxs)("li",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,No.jsx)("div",{className:"font-semibold text-blue-700 mb-1",children:"Fluency Building"}),(0,No.jsx)("div",{className:"text-gray-600 text-sm",children:"Structured approach moves from accuracy to speed"})]}),(0,No.jsxs)("li",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,No.jsx)("div",{className:"font-semibold text-blue-700 mb-1",children:"Grade-Appropriate Goals"}),(0,No.jsx)("div",{className:"text-gray-600 text-sm",children:"Targets are set based on grade-level expectations"})]}),(0,No.jsxs)("li",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,No.jsx)("div",{className:"font-semibold text-blue-700 mb-1",children:"Immediate Feedback"}),(0,No.jsx)("div",{className:"text-gray-600 text-sm",children:"Students see their progress in real-time"})]})]})]}),(0,No.jsxs)("section",{children:[(0,No.jsx)("h2",{className:"text-2xl font-bold text-blue-600 mb-4",children:"Comparing to RocketMath"}),(0,No.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 p-6 rounded-lg text-white",children:[(0,No.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"For students who already know some math facts:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 space-y-2",children:[(0,No.jsxs)("li",{children:["FastMath helps students become fluent ",(0,No.jsx)("strong",{children:"twice as fast"})," as RocketMath by accurately measuring which facts they've already mastered"]}),(0,No.jsx)("li",{children:"No time wasted practicing facts students already know"}),(0,No.jsx)("li",{children:"Identifies exact recall speed for each fact and creates personalized practice sessions"}),(0,No.jsx)("li",{children:"Targeted practice increases fluency efficiently"}),(0,No.jsx)("li",{children:"Unlike RocketMath, which inefficiently places kids in learning tracks and requires repeating previously mastered facts"})]}),(0,No.jsx)("h3",{className:"text-lg font-semibold mt-6 mb-3",children:"For students just starting to learn math facts:"}),(0,No.jsxs)("ul",{className:"list-disc ml-6 space-y-2",children:[(0,No.jsx)("li",{children:"FastMath provides a positive, confidence-building experience, progressing faster than RocketMath"}),(0,No.jsx)("li",{children:"Starts at the right level for each child, building confidence instead of frustration"}),(0,No.jsx)("li",{children:"Gradually increases difficulty at the perfect pace\u2014challenging but achievable"}),(0,No.jsx)("li",{children:'Avoids the "struggle sessions" that frustrate kids in RocketMath before they\'re ready'})]})]})]})]})]})]})}const zM={fontFamily:{primary:["Archivo","sans-serif"]},fontSize:{"heading-1":"54px","heading-2":"40px","heading-3":"32px","heading-4":"28px","heading-5":"24px","heading-6":"20px","heading-7":"18px","large-text":"20px","medium-text":"16px","small-text":"14px","extra-small-text":"12px","button-small":"14px","countdown-number":"150px"},lineHeight:{"heading-1":"58px","heading-2":"44px","heading-3":"35px","heading-4":"32px","heading-5":"28px","heading-6":"24px","heading-7":"24px","large-text":"24px","medium-text":"18px","small-text":"16px","extra-small-text":"14px","button-small":"16px","countdown-number":"150px"},fontWeight:{medium:"500",semibold:"600",bold:"700"},letterSpacing:{normal:"0px"},styles:{"heading-1":{fontFamily:"Archivo, sans-serif",fontWeight:"600",fontSize:"54px",lineHeight:"58px",letterSpacing:"0px"},"heading-2":{fontFamily:"Archivo, sans-serif",fontWeight:"600",fontSize:"40px",lineHeight:"44px",letterSpacing:"0px"},"heading-3":{fontFamily:"Archivo, sans-serif",fontWeight:"600",fontSize:"32px",lineHeight:"35px",letterSpacing:"0px"},"heading-4":{fontFamily:"Archivo, sans-serif",fontWeight:"600",fontSize:"28px",lineHeight:"32px",letterSpacing:"0px"},"heading-5":{fontFamily:"Archivo, sans-serif",fontWeight:"600",fontSize:"24px",lineHeight:"28px",letterSpacing:"0px"},"heading-6":{fontFamily:"Archivo, sans-serif",fontWeight:"600",fontSize:"20px",lineHeight:"24px",letterSpacing:"0px"},"heading-7":{fontFamily:"Archivo, sans-serif",fontWeight:"600",fontSize:"18px",lineHeight:"24px",letterSpacing:"0px"},"large-text":{fontFamily:"Archivo, sans-serif",fontWeight:"500",fontSize:"20px",lineHeight:"24px",letterSpacing:"0px"},"medium-text":{fontFamily:"Archivo, sans-serif",fontWeight:"500",fontSize:"16px",lineHeight:"18px",letterSpacing:"0px"},"small-text":{fontFamily:"Archivo, sans-serif",fontWeight:"500",fontSize:"14px",lineHeight:"16px",letterSpacing:"0px"},"extra-small-text":{fontFamily:"Archivo, sans-serif",fontWeight:"500",fontSize:"12px",lineHeight:"14px",letterSpacing:"0px"},"button-small":{fontFamily:"Archivo, sans-serif",fontWeight:"700",fontSize:"14px",lineHeight:"16px",letterSpacing:"0px"},"button-medium":{fontFamily:"Archivo, sans-serif",fontWeight:"700",fontSize:"16px",lineHeight:"18px",letterSpacing:"0px"},"extra-small-button":{fontFamily:"Archivo, sans-serif",fontWeight:"700",fontSize:"12px",lineHeight:"14px",letterSpacing:"0px"},"button-large":{fontFamily:"Archivo, sans-serif",fontWeight:"700",fontSize:"20px",lineHeight:"24px",letterSpacing:"0px"},"countdown-number":{fontFamily:"Archivo, sans-serif",fontWeight:"600",fontSize:"150px",lineHeight:"150px",letterSpacing:"0px"}}},$M={100:"#E8E5FB",200:"#D0CAFC",300:"#BBB1FC",400:"#7A68E3",500:"#6150BF",600:"#4C3EA0"},BM={50:"#FFFFFF",100:"#FAFAFA",200:"#F5F5F5",300:"#EBEBEB",400:"#E5E5E5",500:"#D9D9D9",600:"#B2B2B2",700:"#8C8C8C",800:"#595959",900:"#333333",1e3:"#1A1A1A"},UM={100:"#D4FAE0",200:"#BBFACE",300:"#9DF2B7",400:"#6EE592",500:"#43BF69",600:"#1C7337"},WM={1:["TRACK12"],2:["TRACK9","TRACK10"],3:["TRACK6","TRACK8","TRACK11"],4:["TRACK7","TRACK5"]},HM={TRACK5:"Division Facts (Up to 12)",TRACK6:"Addition Facts (Sums up to 20)",TRACK7:"Multiplication Facts (Factors up to 12)",TRACK8:"Subtraction Facts (Up to 20)",TRACK9:"Addition (Single-Digit)",TRACK10:"Subtraction (Single-Digit)",TRACK11:"Multiplication (Single-digit)",TRACK12:"Addition Within 10 (Sums up to 10)"},VM={TRACK5:"/assets/division.png",TRACK6:"/assets/addition.png",TRACK7:"/assets/multiplication.png",TRACK8:"/assets/subtraction.png",TRACK9:"/assets/addition.png",TRACK10:"/assets/subtraction.png",TRACK11:"/assets/multiplication.png",TRACK12:"/assets/addition.png"};function qM(e){let{state:t}=e;const n=(()=>{switch(t){case"inProgress":default:return{backgroundColor:$M[100],color:$M[400]};case"locked":return{backgroundColor:BM[200],color:BM[700]};case"completed":return{backgroundColor:UM[200],color:UM[500]}}})();return(0,No.jsx)("div",{className:"box-border content-stretch flex flex-col gap-2.5 items-center justify-center p-[8px] relative rounded-xl shrink-0","data-name":"Tag",style:{backgroundColor:n.backgroundColor},children:(0,No.jsx)("div",{className:"font-bold leading-[0] overflow-ellipsis overflow-hidden relative shrink-0 text-center text-nowrap",style:{fontFamily:zM.fontFamily.primary.join(", "),fontWeight:zM.fontWeight.bold,fontSize:zM.fontSize["button-small"],lineHeight:zM.lineHeight["button-small"],color:n.color},children:(0,No.jsx)("p",{className:"[text-overflow:inherit] block overflow-inherit whitespace-pre",children:(()=>{switch(t){case"inProgress":default:return"In Progress";case"locked":return"Locked";case"completed":return"Completed"}})()})})})}function KM(){return(0,No.jsx)("div",{className:"relative size-6","data-name":"Chevron Icon",children:(0,No.jsx)("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 24 24",children:(0,No.jsx)("g",{id:"Chevron Icon",children:(0,No.jsx)("path",{clipRule:"evenodd",d:"M9.47 7.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 1 1-1.06-1.06L13.19 12 9.47 8.28a.75.75 0 0 1 0-1.06Z",fill:BM[800],fillRule:"evenodd",id:"Vector 4 (Stroke)"})})})})}function QM(e){let{isExpanded:t,onClick:n}=e;return(0,No.jsx)("div",{className:"box-border content-stretch flex flex-row gap-2.5 items-center justify-start p-[4px] relative rounded-xl shrink-0 cursor-pointer hover:bg-gray-100 transition-colors","data-name":"Chevron",onClick:n,children:(0,No.jsx)("div",{className:"flex h-[24.091px] items-center justify-center relative shrink-0 w-[24.091px]",children:(0,No.jsx)("div",{className:"flex-none transition-transform duration-200 "+(t?"rotate-90":"rotate-0"),children:(0,No.jsx)(KM,{})})})})}function YM(e){let{isExpanded:t,onToggle:n,grade:r,gradeStatus:s}=e;return(0,No.jsx)("div",{className:"relative rounded-2xl shrink-0 w-full","data-name":"Subject Item",children:(0,No.jsx)("div",{className:"flex flex-row items-center relative size-full",children:(0,No.jsxs)("div",{className:"box-border content-stretch flex flex-row gap-2 items-center justify-start p-[12px] relative w-full",children:[(0,No.jsx)("div",{className:"basis-0 font-semibold grow leading-[0] min-h-px min-w-px overflow-ellipsis overflow-hidden relative shrink-0 text-left text-nowrap",style:{fontFamily:zM.fontFamily.primary.join(", "),fontWeight:zM.fontWeight.semibold,fontSize:zM.fontSize["heading-6"],lineHeight:zM.lineHeight["heading-6"],color:BM[800]},children:(0,No.jsxs)("p",{className:"[text-overflow:inherit] [text-wrap-mode:inherit]\\' [white-space-collapse:inherit] block overflow-inherit",children:["Grade ",r]})}),(0,No.jsx)(qM,{state:s}),(0,No.jsx)(QM,{isExpanded:t,onClick:n})]})})})}function GM(e){let{trackId:t,trackStatus:n,gradeStatus:r}=e;const s=HM[t]||t;return(0,No.jsxs)("div",{className:"box-border content-stretch flex flex-row gap-2 items-center justify-center p-[12px] relative rounded-2xl shrink-0 w-full","data-name":"Operations Item",style:{backgroundColor:"locked"===r||"locked"===n?"transparent":"completed"===r||"completed"===n?BM[100]:"inProgress"===n?$M[200]:"transparent"},children:[(0,No.jsx)(XM,{state:"inProgress"===n?"inProgress":"locked",trackId:t}),(0,No.jsx)("div",{className:"basis-0 font-semibold grow leading-[0] min-h-px min-w-px overflow-ellipsis overflow-hidden relative shrink-0 text-left text-nowrap",style:{fontFamily:zM.fontFamily.primary.join(", "),fontWeight:zM.fontWeight.semibold,fontSize:zM.fontSize["heading-7"],lineHeight:zM.lineHeight["heading-7"],color:"locked"===r||"locked"===n||"completed"===r||"completed"===n?BM[600]:"inProgress"===n?$M[400]:BM[600]},children:(0,No.jsx)("p",{className:"[text-overflow:inherit] [text-wrap-mode:inherit]\\' [white-space-collapse:inherit] block overflow-inherit",children:s})}),"inProgress"===n?(0,No.jsx)(rI,{}):"completed"===n?(0,No.jsx)(nI,{}):(0,No.jsx)(tI,{})]})}function XM(e){let{state:t,trackId:n}=e;const r=VM[n]||"/assets/addition.png";return(0,No.jsx)("div",{className:"relative shrink-0 size-10","data-name":"Operations",children:(0,No.jsx)("div",{className:"absolute bg-center bg-cover bg-no-repeat left-[-0.316px] size-10 top-0 "+("inProgress"===t?"":"opacity-40"),"data-name":"image",style:{backgroundImage:`url('${r}')`}})})}function JM(){return(0,No.jsx)("div",{className:"relative shrink-0 size-4","data-name":"heroicons-solid/lock-closed",children:(0,No.jsx)("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:(0,No.jsx)("g",{id:"heroicons-solid/lock-closed",children:(0,No.jsx)("path",{clipRule:"evenodd",d:"M8 1a3 3 0 0 0-3 3v1H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V4a3 3 0 0 0-3-3ZM6.5 4a1.5 1.5 0 1 1 3 0v1h-3V4Z",fill:BM[500],fillRule:"evenodd",id:"Union"})})})})}function ZM(){return(0,No.jsx)("div",{className:"relative shrink-0 size-4","data-name":"heroicons-solid/check-circle",children:(0,No.jsx)("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:(0,No.jsx)("g",{id:"heroicons-solid/check-circle",children:(0,No.jsx)("path",{clipRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm3.707-9.293a1 1 0 0 0-1.414-1.414L7 8.586 5.707 7.293a1 1 0 0 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4Z",fill:UM[400],fillRule:"evenodd",id:"Union"})})})})}function eI(){return(0,No.jsx)("div",{className:"relative shrink-0 size-4","data-name":"heroicons-solid/play-circle",children:(0,No.jsx)("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 16 16",children:(0,No.jsx)("g",{id:"heroicons-solid/play-circle",children:(0,No.jsx)("path",{clipRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zM6.5 5.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .763.424l3-2a.5.5 0 0 0 0-.848l-3-2A.5.5 0 0 0 6.5 5.5z",fill:$M[300],fillRule:"evenodd",id:"Union"})})})})}function tI(){return(0,No.jsx)("div",{className:"bg-[#ffffff] box-border content-stretch flex flex-row gap-2.5 items-center justify-start overflow-clip p-[8px] relative rounded-[20px] shrink-0","data-name":"Locked Icon",children:(0,No.jsx)(JM,{})})}function nI(){return(0,No.jsx)("div",{className:"bg-[#ffffff] box-border content-stretch flex flex-row gap-2.5 items-center justify-start overflow-clip p-[8px] relative rounded-[20px] shrink-0","data-name":"Completed Icon",children:(0,No.jsx)(ZM,{})})}function rI(){return(0,No.jsx)("div",{className:"bg-[#ffffff] box-border content-stretch flex flex-row gap-2.5 items-center justify-start overflow-clip p-[8px] relative rounded-[20px] shrink-0","data-name":"In Progress Icon",children:(0,No.jsx)(eI,{})})}function sI(e){let{grade:t,trackStatuses:n,gradeStatus:r}=e;const s=WM[t]||[];return(0,No.jsx)("div",{className:"box-border content-stretch flex flex-col gap-2 items-center justify-start p-0 relative shrink-0 w-full","data-name":"Task List",children:s.map((e=>(0,No.jsx)(GM,{trackId:e,trackStatus:n[e]||"locked",gradeStatus:r},e)))})}function iI(){return(0,No.jsx)("div",{className:"flex items-center justify-center relative shrink-0 w-full",children:(0,No.jsx)("div",{className:"flex-none rotate-[180deg] w-full",children:(0,No.jsx)("div",{className:"h-0 relative w-full",children:(0,No.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-[-1px]",children:(0,No.jsx)("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 376 1",children:(0,No.jsx)("line",{id:"Line 120",stroke:BM[400],x2:"376",y1:"0.5",y2:"0.5"})})})})})})}function oI(e){let{grade:t,trackStatuses:n,expanded:r=!1}=e;const[i,o]=(0,s.useState)(r);(0,s.useEffect)((()=>{o(r)}),[r]);const a=(()=>{const e=(WM[t]||[]).map((e=>n[e]||"locked"));return e.every((e=>"completed"===e))?"completed":e.some((e=>"inProgress"===e))?"inProgress":"locked"})();return(0,No.jsxs)("div",{className:"bg-[#ffffff] relative rounded-3xl w-full transition-all duration-300","data-name":"Menu Item Subject",children:[(0,No.jsx)("div",{className:"flex flex-col justify-start relative w-full",children:(0,No.jsxs)("div",{className:"box-border content-stretch flex flex-col gap-3 items-start justify-start overflow-clip p-[12px] relative w-full",children:[(0,No.jsx)(YM,{isExpanded:i,onToggle:()=>{o(!i)},grade:t,gradeStatus:a}),i&&(0,No.jsxs)("div",{className:"w-full animate-in slide-in-from-top-2 duration-200",children:[(0,No.jsx)("div",{className:"absolute right-[24px] size-[192.717px] translate-y-[-50%] pointer-events-none",style:{top:"calc(50% + 60px)"},children:(0,No.jsx)("div",{className:"absolute inset-[-73.424%]",children:(0,No.jsxs)("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 477 477",children:[(0,No.jsx)("g",{filter:"url(#filter0_f_1_305)",id:"Ellipse 7",children:(0,No.jsx)("circle",{cx:"238.358",cy:"238.358",fill:"var(--fill-0, #E5F2FF)",r:"96.3583"})}),(0,No.jsx)("defs",{children:(0,No.jsxs)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"475.717",id:"filter0_f_1_305",width:"475.717",x:"0.5",y:"0.5",children:[(0,No.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,No.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),(0,No.jsx)("feGaussianBlur",{result:"effect1_foregroundBlur_1_305",stdDeviation:"70.75"})]})})]})})}),(0,No.jsx)(iI,{}),(0,No.jsx)("div",{className:"mt-3",children:(0,No.jsx)(sI,{grade:t,trackStatuses:n,gradeStatus:a})})]})]})}),(0,No.jsx)("div",{className:"absolute border-2 border-solid inset-0 pointer-events-none rounded-3xl",style:{borderColor:$M[400]}})]})}const aI=()=>{const{user:e}=Mo(),t=re(),[n,r]=(0,s.useState)(!0),[i,o]=(0,s.useState)(null),[a,l]=(0,s.useState)(null),[c,u]=(0,s.useState)({}),d=async()=>{if(null!==e&&void 0!==e&&e.userId)try{r(!0);const t=(await YP.get(`/onboarding/status/${e.userId}`)).data;switch(l(t),t.action){case"complete":case"setFocus":return void(window.location.href="/");case"start":case"continue":t.trackId&&sessionStorage.setItem("activeTrackId",t.trackId),h(t.trackId,t.currentStep||1)}}catch(t){console.error("Error checking onboarding status:",t),o("Failed to load onboarding status. Please try again.")}finally{r(!1)}},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n={};sv.forEach(((r,s)=>{n[r]=s<t-1?"completed":r===e?"inProgress":"locked"})),u(n)},p=(()=>{const e={1:["TRACK12"],2:["TRACK9","TRACK10"],3:["TRACK6","TRACK8","TRACK11"],4:["TRACK7","TRACK5"]};for(const[t,n]of Object.entries(e))if(n.some((e=>"inProgress"===c[e])))return parseInt(t);return null})();return(0,s.useEffect)((()=>{d()}),[null===e||void 0===e?void 0:e.userId]),n?(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex items-center justify-center",children:(0,No.jsxs)("div",{className:"text-center",children:[(0,No.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,No.jsx)("p",{className:"text-gray-600",children:"Loading assessment..."})]})}):i?(0,No.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white flex items-center justify-center",children:(0,No.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,No.jsx)("div",{className:"text-red-500 text-lg mb-4",children:i}),(0,No.jsx)("button",{onClick:d,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg",children:"Try Again"})]})}):(0,No.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[(0,No.jsx)(Wg.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"h-16 px-4 flex items-center justify-center border-b bg-white/50 backdrop-blur-sm",children:(0,No.jsxs)("h1",{className:"text-4xl font-bold animate-fade-in flex items-center gap-3",children:[(0,No.jsx)(Hg,{size:36}),(0,No.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text",children:"Fast Math"})]})}),(0,No.jsx)("div",{className:"mt-8 p-6 max-w-6xl mx-auto",children:(0,No.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,No.jsxs)("div",{className:"space-y-4",children:[(0,No.jsx)(oI,{grade:1,trackStatuses:c,expanded:1===p}),(0,No.jsx)(oI,{grade:2,trackStatuses:c,expanded:2===p}),(0,No.jsx)(oI,{grade:3,trackStatuses:c,expanded:3===p}),(0,No.jsx)(oI,{grade:4,trackStatuses:c,expanded:4===p})]}),(0,No.jsxs)("div",{className:"space-y-6",children:[(0,No.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gray-200",children:[(0,No.jsx)("h3",{className:"font-semibold text-gray-800 mb-4 text-lg",children:"Assessment Instructions"}),(0,No.jsxs)("ul",{className:"text-gray-600 space-y-3",children:[(0,No.jsxs)("li",{className:"flex items-start",children:[(0,No.jsx)("span",{className:"text-blue-600 mr-3",children:"\u2022"}),"Complete each 2-minute assessment to find your optimal starting point"]}),(0,No.jsxs)("li",{className:"flex items-start",children:[(0,No.jsx)("span",{className:"text-blue-600 mr-3",children:"\u2022"}),"Answer as many questions as you can accurately"]}),(0,No.jsxs)("li",{className:"flex items-start",children:[(0,No.jsx)("span",{className:"text-blue-600 mr-3",children:"\u2022"}),"Assessment stops when you reach an appropriate difficulty level"]}),(0,No.jsxs)("li",{className:"flex items-start",children:[(0,No.jsx)("span",{className:"text-blue-600 mr-3",children:"\u2022"}),"You can resume your assessment anytime if interrupted"]})]})]}),a&&("start"===a.action||"continue"===a.action)&&(0,No.jsx)(Wg.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{null!==a&&void 0!==a&&a.trackId&&t("/progress-assessment",{state:{trackId:a.trackId,returnTo:"onboarding"}})},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg transition-colors duration-200 shadow-lg text-lg",children:"start"===a.action?"Start Assessment":"Continue Assessment"})]})]})})]})},lI=e=>{let{children:t}=e;const{user:n}=Mo();return(0,s.useEffect)((()=>{n?(console.log("[SentryTracker] Setting user:",{userId:n.userId,timestamp:(new Date).toISOString(),locationPath:window.location.pathname}),oo({id:n.userId,email:n.email}),console.log("[Sentry] User ID set:",n.userId)):(console.log("[SentryTracker] Clearing user, current location:",{path:window.location.pathname,timestamp:(new Date).toISOString(),referrer:document.referrer||"none"}),oo(null),console.log("[Sentry] User cleared"))}),[n]),(0,No.jsx)(No.Fragment,{children:t})};const cI=function(){return(0,No.jsx)(Ne,{children:(0,No.jsx)(Qa,{children:(0,No.jsx)(Po,{children:(0,No.jsx)(lI,{children:(0,No.jsx)(Ro,{children:(0,No.jsx)(Qg,{children:(0,No.jsxs)(ke,{children:[(0,No.jsx)(we,{path:"/",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(hv,{})})}),(0,No.jsx)(we,{path:"/login",element:(0,No.jsx)(Yg,{requireAuth:!1,children:(0,No.jsx)(Vg,{})})}),(0,No.jsx)(we,{path:"/signup",element:(0,No.jsx)(Yg,{requireAuth:!1,children:(0,No.jsx)(qg,{})})}),(0,No.jsx)(we,{path:"/auth/callback/cognito",element:(0,No.jsx)(Kg,{})}),(0,No.jsx)(we,{path:"/learn",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(fv,{})})}),(0,No.jsx)(we,{path:"/practice",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(bv,{})})}),(0,No.jsx)(we,{path:"/timedpractice",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(Av,{})})}),(0,No.jsx)(we,{path:"/mixedpractice",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(Fv,{})})}),(0,No.jsx)(we,{path:"/assessment",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(qv,{})})}),(0,No.jsx)(we,{path:"/progress-assessment",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(nx,{})})}),(0,No.jsx)(we,{path:"/accuracy-practice",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(_M,{})})}),(0,No.jsx)(we,{path:"/fluency-practice",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(MM,{})})}),(0,No.jsx)(we,{path:"/cqpm-benchmark",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(LM,{})})}),(0,No.jsx)(we,{path:"/admin",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(VP,{})})}),(0,No.jsx)(we,{path:"/admin/downloads",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(JP,{})})}),(0,No.jsx)(we,{path:"/admin/rostering",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(rM,{})})}),(0,No.jsx)(we,{path:"/admin/cqpm-dashboard",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(xM,{})})}),(0,No.jsx)(we,{path:"/docs",element:(0,No.jsx)(FM,{})}),(0,No.jsx)(we,{path:"/onboarding",element:(0,No.jsx)(Yg,{requireAuth:!0,children:(0,No.jsx)(aI,{})})})]})})})})})})})},uI=[];function dI(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;if(t.forEach((e=>{e.isDefaultInstance=!0})),Array.isArray(n))r=[...t,...n];else if("function"===typeof n){const e=n(t);r=Array.isArray(e)?e:[e]}else r=t;return function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.values(t)}(r)}function hI(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function pI(e,t,n){if(n[t.name])Fs&&Xr.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===uI.indexOf(t.name)&&"function"===typeof t.setupOnce&&(t.setupOnce(),uI.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),"function"===typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if("function"===typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}Fs&&Xr.log(`Integration installed: ${t.name}`)}}function fI(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch(nU){}return t}const mI=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],gI=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"EventFilters",setup(n){const r=n.getOptions();e=vI(t,r)},processEvent(n,r,s){if(!e){const n=s.getOptions();e=vI(t,n)}return function(e,t){if(e.type){if("transaction"===e.type&&function(e,t){if(!t?.length)return!1;const n=e.transaction;return!!n&&ts(n,t)}(e,t.ignoreTransactions))return Fs&&Xr.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${ps(e)}`),!0}else{if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(nU){}return!1}(e))return Fs&&Xr.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${ps(e)}`),!0;if(function(e,t){if(!t?.length)return!1;return fI(e).some((e=>ts(e,t)))}(e,t.ignoreErrors))return Fs&&Xr.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${ps(e)}`),!0;if(function(e){if(!e.exception?.values?.length)return!1;return!e.message&&!e.exception.values.some((e=>e.stacktrace||e.type&&"Error"!==e.type||e.value))}(e))return Fs&&Xr.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${ps(e)}`),!0;if(function(e,t){if(!t?.length)return!1;const n=xI(e);return!!n&&ts(n,t)}(e,t.denyUrls))return Fs&&Xr.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${ps(e)}.\nUrl: ${xI(e)}`),!0;if(!function(e,t){if(!t?.length)return!0;const n=xI(e);return!n||ts(n,t)}(e,t.allowUrls))return Fs&&Xr.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${ps(e)}.\nUrl: ${xI(e)}`),!0}return!1}(n,e)?null:n}}},yI=function(){return{...gI(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),name:"InboundFilters"}};function vI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:mI],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}function xI(e){try{const t=[...e.exception?.values??[]].reverse().find((e=>void 0===e.mechanism?.parent_id&&e.stacktrace?.frames?.length)),n=t?.stacktrace?.frames;return n?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(t){return Fs&&Xr.error(`Cannot extract url for event ${ps(e)}`),null}}let bI;const wI=new WeakMap,SI=()=>({name:"FunctionToString",setupOnce(){bI=Function.prototype.toString;try{Function.prototype.toString=function(){const e=is(this),t=wI.has(Os())&&void 0!==e?e:this;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return bI.apply(t,r)}}catch{}},setup(e){wI.set(e,!0)}}),kI=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!jI(e,t))return!1;if(!_I(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=TI(t),r=TI(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!jI(e,t))return!1;if(!_I(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Fs&&Xr.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}};function _I(e,t){let n=ti(e),r=ti(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++){const e=r[s],t=n[s];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function jI(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(s){return!1}}function TI(e){return e.exception?.values&&e.exception.values[0]}const CI=wr;function EI(){if(!("fetch"in CI))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(nU){return!1}}function NI(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function AI(e,t){!0===t.debug&&(Fs?Xr.enable():Gr((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));Ms().update(t.initialScope);const n=new e(t);return function(e){Ms().setClient(e)}(n),n.init(),n}function PI(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function MI(e,t,n){return t||`${function(e){return`${PI(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){const n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`}const II=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function RI(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${o}`}function OI(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function DI(e){const t="string"===typeof e?function(e){const t=II.exec(e);if(!t)return void Gr((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,s="",i="",o="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return OI({host:i,pass:s,path:l,projectId:c,port:o,protocol:n,publicKey:r})}(e):OI(e);if(t&&function(e){if(!Kr)return!0;const{port:t,projectId:n,protocol:r}=e;return!["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Xr.error(`Invalid Sentry Dsn: ${t} missing`),!0)))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?!t||!isNaN(parseInt(t,10))||(Xr.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(Xr.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Xr.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}function LI(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function FI(e,t){const[n,r]=e;return[n,[...r,t]]}function zI(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function $I(e){const t=kr(wr);return t.encodePolyfill?t.encodePolyfill(e):(new TextEncoder).encode(e)}function BI(e){const[t,n]=e;let r=JSON.stringify(t);function s(e){"string"===typeof r?r="string"===typeof e?r+e:[$I(r),e]:r.push("string"===typeof e?$I(e):e)}for(const i of n){const[e,t]=i;if(s(`\n${JSON.stringify(e)}\n`),"string"===typeof t||t instanceof Uint8Array)s(t);else{let e;try{e=JSON.stringify(t)}catch(nU){e=JSON.stringify(ni(t))}s(e)}}return"string"===typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}(r)}function UI(e){return[{type:"span"},e]}function WI(e){const t="string"===typeof e.data?$I(e.data):e.data;return[cs({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const HI={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",otel_log:"log_item"};function VI(e){return HI[e]}function qI(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function KI(e,t,n,r){const s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:RI(r)},...s&&{trace:s}}}class QI extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";super(e),this.message=e,this.logLevel=t}}const YI="Not capturing exception because it's already been captured.",GI="Discarded session because of missing or non-string release";class XI{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=DI(e.dsn):Fs&&Xr.warn("No DSN provided, client will not send events."),this._dsn){const t=MI(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){const r=ds();if(gs(e))return Fs&&Xr.log(YI),r;const s={event_id:r,...t};return this._process(this.eventFromException(e,s).then((e=>this._captureEvent(e,s,n)))),s.event_id}captureMessage(e,t,n,r){const s={event_id:ds(),...n},i=Or(e)?e:String(e),o=Dr(e)?this.eventFromMessage(i,t,s):this.eventFromException(e,s);return this._process(o.then((e=>this._captureEvent(e,s,r)))),s.event_id}captureEvent(e,t,n){const r=ds();if(t?.originalException&&gs(t.originalException))return Fs&&Xr.log(YI),r;const s={event_id:r,...t},i=e.sdkProcessingMetadata||{},o=i.capturedSpanScope,a=i.capturedSpanIsolationScope;return this._process(this._captureEvent(e,s,o||n,a)),s.event_id}captureSession(e){this.sendSession(e),vs(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):$s(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.emit("close"),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some((e=>{let{name:t}=e;return t.startsWith("Spotlight")})))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const t=this._integrations[e.name];pI(this,e,this._integrations),t||hI(this,[e])}sendEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const s=qI(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n?.sdk);const o=KI(e,s,r,t);return delete e.sdkProcessingMetadata,LI(o,[[{type:i},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of t.attachments||[])n=FI(n,WI(s));const r=this.sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const{release:t,environment:n=Ls}=this._options;if("aggregates"in e){const r=e.attrs||{};if(!r.release&&!t)return void(Fs&&Xr.warn(GI));r.release=r.release||t,r.environment=r.environment||n,e.attrs=r}else{if(!e.release&&!t)return void(Fs&&Xr.warn(GI));e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);const r=function(e,t,n,r){const s=qI(n);return LI({sent_at:(new Date).toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:RI(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this._options.sendClientReports){const r=`${e}:${t}`;Fs&&Xr.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){const n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=this._hooks[e];s&&s.forEach((e=>e(...n)))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,(e=>(Fs&&Xr.error("Error while sending envelope:",e),e))):(Fs&&Xr.error("Transport disabled"),$s({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&pI(e,t,n)})),n}(this,e),hI(this,e)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1;const s=t.exception?.values;if(s){r=!0;for(const e of s){const t=e.mechanism;if(!1===t?.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(vs(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Us((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r){const s=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i?.length&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),eo(s,e,t,n,this,r).then((e=>{if(null===e)return e;this.emit("postprocessEvent",e,t),e.contexts={trace:Ds(n),...e.contexts};const r=Yi(this,n);return e.sdkProcessingMetadata={dynamicSamplingContext:r,...e.sdkProcessingMetadata},e}))}_captureEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ms(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Is();return Fs&&JI(e)&&Xr.log(`Captured error event \`${fI(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then((e=>e.event_id),(e=>{Fs&&(e instanceof QI&&"log"===e.logLevel?Xr.log(e.message):Xr.warn(e))}))}_processEvent(e,t,n,r){const s=this.getOptions(),{sampleRate:i}=s,o=ZI(e),a=JI(e),l=e.type||"error",c=`before send for type \`${l}\``,u="undefined"===typeof i?void 0:Ti(i);if(a&&"number"===typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error"),Bs(new QI(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const d="replay_event"===l?"replay":l;return this._prepareEvent(e,t,n,r).then((e=>{if(null===e)throw this.recordDroppedEvent("event_processor",d),new QI("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return e;const n=function(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o}=t;let a=n;if(JI(a)&&s)return s(a,r);if(ZI(a)){if(o){const e=o(function(e){const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=e.contexts?.trace??{};return cs({data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o?.[pi],exclusive_time:o?.[fi],measurements:e.measurements,is_segment:!0})}(a));if(e?a=ws(n,cs({type:"transaction",timestamp:(l=e).timestamp,start_timestamp:l.start_timestamp,transaction:l.description,contexts:{trace:{trace_id:l.trace_id,span_id:l.span_id,parent_span_id:l.parent_span_id,op:l.op,status:l.status,origin:l.origin,data:{...l.data,...l.profile_id&&{[pi]:l.profile_id},...l.exclusive_time&&{[fi]:l.exclusive_time}}}},measurements:l.measurements})):Vi(),a.spans){const e=[];for(const t of a.spans){const n=o(t);n?e.push(n):(Vi(),e.push(t))}a.spans=e}}if(i){if(a.spans){const e=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return i(a,r)}}var l;return a}(0,s,e,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(zr(e))return e.then((e=>{if(!Lr(e)&&null!==e)throw new QI(n);return e}),(e=>{throw new QI(`${t} rejected with ${e}`)}));if(!Lr(e)&&null!==e)throw new QI(n);return e}(n,c)})).then((s=>{if(null===s){if(this.recordDroppedEvent("before_send",d),o){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new QI(`${c} returned \`null\`, will not send event.`,"log")}const i=n.getSession()||r.getSession();if(a&&i&&this._updateSessionFromEvent(i,s),o){const e=(s.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(s.spans?s.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const l=s.transaction_info;if(o&&l&&s.transaction!==e.transaction){const e="custom";s.transaction_info={...l,source:e}}return this.sendEvent(s,t),s})).then(null,(e=>{if(e instanceof QI)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new QI(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map((e=>{let[t,n]=e;const[r,s]=t.split(":");return{reason:r,category:s,quantity:n}}))}_flushOutcomes(){Fs&&Xr.log("Flushing outcomes...");const e=this._clearOutcomes();if(0===e.length)return void(Fs&&Xr.log("No outcomes to send"));if(!this._dsn)return void(Fs&&Xr.log("No dsn provided, will not send outcomes"));Fs&&Xr.log("Sending outcomes:",e);const t=(n=e,LI((r=this._options.tunnel&&RI(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:s||jr(),discarded_events:n}]]));var n,r,s;this.sendEnvelope(t)}}function JI(e){return void 0===e.type}function ZI(e){return"transaction"===e.type}function eR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"npm";const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:br}))),version:br}),e._metadata=s}function tR(e){void 0===e.user?.ip_address&&(e.user={...e.user,ip_address:"{{auto}}"})}function nR(e){"aggregates"in e?void 0===e.attrs?.ip_address&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):void 0===e.ipAddress&&(e.ipAddress="{{auto}}")}function rR(e,t){const n=oR(e,t),r={type:cR(t),value:uR(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function sR(e,t,n,r){const s=Os(),i=s?.getOptions().normalizeDepth,o=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}return}(t),a={__serialized__:ri(t,i)};if(o)return{exception:{values:[rR(e,o)]},extra:a};const l={exception:{values:[{type:Fr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:pR(t,{isUnhandledRejection:r})}]},extra:a};if(n){const t=oR(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}function iR(e,t){return{exception:{values:[rR(e,t)]}}}function oR(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e&&aR.test(e.message))return 1;return 0}(t),s=function(e){if("number"===typeof e.framesToPop)return e.framesToPop;return 0}(t);try{return e(n,r,s)}catch(nU){}return[]}const aR=/Minified React error #\d+;/i;function lR(e){return"undefined"!==typeof WebAssembly&&"undefined"!==typeof WebAssembly.Exception&&e instanceof WebAssembly.Exception}function cR(e){const t=e?.name;if(!t&&lR(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception"}return t}function uR(e){const t=e?.message;return lR(e)?Array.isArray(e.message)&&2==e.message.length?e.message[1]:"wasm exception":t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function dR(e,t,n,r,s){let i;if(Mr(t)&&t.error){return iR(e,t.error)}if(Ir(t)||Pr(t,"DOMException")){const s=t;if("stack"in t)i=iR(e,t);else{const t=s.name||(Ir(s)?"DOMError":"DOMException"),o=s.message?`${t}: ${s.message}`:t;i=hR(e,o,n,r),fs(i,o)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}if(Ar(t))return iR(e,t);if(Lr(t)||Fr(t)){return i=sR(e,t,n,s),ms(i,{synthetic:!0}),i}return i=hR(e,t,n,r),fs(i,`${t}`,void 0),ms(i,{synthetic:!0}),i}function hR(e,t,n,r){const s={};if(r&&n){const r=oR(e,n);r.length&&(s.exception={values:[{value:t,stacktrace:{frames:r}}]}),ms(s,{synthetic:!0})}if(Or(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return s.logentry={message:e,params:n},s}return s.message=t,s}function pR(e,t){let{isUnhandledRejection:n}=t;const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;const n=Object.keys(os(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Jr(r,t);for(let s=n.length;s>0;s--){const e=n.slice(0,s).join(", ");if(!(e.length>t))return s===n.length?e:Jr(e,t)}return""}(e),s=n?"promise rejection":"exception";if(Mr(e))return`Event \`ErrorEvent\` captured as ${s} with message \`${e.message}\``;if(Fr(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(nU){}}(e)}\` (type=${e.type}) captured as ${s}`}return`Object captured as ${s} with keys: ${r}`}const fR=wr;let mR=0;function gR(){return mR>0}function yR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!function(e){return"function"===typeof e}(e))return e;try{const t=e.__sentry_wrapped__;if(t)return"function"===typeof t?t:e;if(is(e))return e}catch(nU){return e}const n=function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];try{const n=r.map((e=>yR(e,t)));return e.apply(this,n)}catch(i){throw mR++,setTimeout((()=>{mR--})),Rs((e=>{e.addEventProcessor((e=>(t.mechanism&&(fs(e,void 0,void 0),ms(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),ro(i)})),i}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch{}ss(n,e),rs(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch{}return n}class vR extends XI{constructor(e){const t={parentSpanIsAlwaysRootSpan:!0,...e};eR(t,"browser",["browser"],fR.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&fR.document&&fR.document.addEventListener("visibilitychange",(()=>{"hidden"===fR.document.visibilityState&&this._flushOutcomes()})),this._options.sendDefaultPii&&(this.on("postprocessEvent",tR),this.on("beforeSendSession",nR))}eventFromException(e,t){return function(e,t,n,r){const s=dR(e,t,n?.syntheticException||void 0,r);return ms(s),s.level="error",n?.event_id&&(s.event_id=n.event_id),$s(s)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const i=hR(e,t,r?.syntheticException||void 0,s);return i.level=n,r?.event_id&&(i.event_id=r.event_id),$s(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}}const xR="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,bR={},wR={};function SR(e,t){bR[e]=bR[e]||[],bR[e].push(t)}function kR(e,t){if(!wR[e]){wR[e]=!0;try{t()}catch(nU){Kr&&Xr.error(`Error while instrumenting ${e}`,nU)}}}function _R(e,t){const n=e&&bR[e];if(n)for(const r of n)try{r(t)}catch(nU){Kr&&Xr.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${ei(r)}\nError:`,nU)}}const jR=wr;let TR,CR,ER;function NR(e){SR("dom",e),kR("dom",AR)}function AR(){if(!jR.document)return;const e=_R.bind(null,"dom"),t=PR(e,!0);jR.document.addEventListener("click",t,!1),jR.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=jR,r=n[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(ns(r,"addEventListener",(function(t){return function(n,r,s){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},i=r[n]=r[n]||{refCount:0};if(!i.handler){const r=PR(e);i.handler=r,t.call(this,n,r,s)}i.refCount++}catch(nU){}return t.call(this,n,r,s)}})),ns(r,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this.__sentry_instrumentation_handlers__||{},s=n[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(nU){}return e.call(this,t,n,r)}})))}))}function PR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(nU){return null}}(n);if(function(e,t){return"keypress"===e&&(!t?.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;rs(n,"_sentryCaptured",!0),r&&!r._sentryId&&rs(r,"_sentryId",ds());const s="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==CR)return!1;try{if(!e.target||e.target._sentryId!==ER)return!1}catch(nU){}return!0}(n)){e({event:n,name:s,global:t}),CR=n.type,ER=r?r._sentryId:void 0}clearTimeout(TR),TR=jR.setTimeout((()=>{ER=void 0,CR=void 0}),1e3)}}const MR="__sentry_xhr_v3__";function IR(e){SR("xhr",e),kR("xhr",RR)}function RR(){if(!jR.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){const r=new Error,s=1e3*Tr(),i=Rr(n[0])?n[0].toUpperCase():void 0,o=function(e){if(Rr(e))return e;try{return e.toString()}catch{}return}(n[1]);if(!i||!o)return e.apply(t,n);t[MR]={method:i,url:o,request_headers:{}},"POST"===i&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);const a=()=>{const e=t[MR];if(e&&4===t.readyState){try{e.status_code=t.status}catch(nU){}_R("xhr",{endTimestamp:1e3*Tr(),startTimestamp:s,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"===typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){const[r,s]=n,i=t[MR];return i&&Rr(r)&&Rr(s)&&(i.request_headers[r.toLowerCase()]=s),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){const r=t[MR];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return _R("xhr",{startTimestamp:1e3*Tr(),xhr:t}),e.apply(t,n)}})}let OR;function DR(e){const t="history";SR(t,e),kR(t,LR)}function LR(){function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.length>2?n[2]:void 0;if(s){const t=OR,r=String(s);if(OR=r,t===r)return e.apply(this,n);_R("history",{from:t,to:r})}return e.apply(this,n)}}jR.addEventListener("popstate",(()=>{const e=jR.location.href,t=OR;if(OR=e,t===e)return;_R("history",{from:t,to:e})})),"history"in CI&&CI.history&&(ns(jR.history,"pushState",e),ns(jR.history,"replaceState",e))}function FR(){"console"in wr&&Qr.forEach((function(e){e in wr.console&&ns(wr.console,e,(function(t){return Yr[e]=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];_R("console",{args:n,level:e});const s=Yr[e];s?.apply(wr.console,n)}}))}))}function zR(e,t){const n="fetch";SR(n,e),kR(n,(()=>$R(void 0,t)))}function $R(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!function(){if("string"===typeof EdgeRuntime)return!0;if(!EI())return!1;if(NI(CI.fetch))return!0;let e=!1;const t=CI.document;if(t&&"function"===typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=NI(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Kr&&Xr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}()||ns(wr,"fetch",(function(t){return function(){const n=new Error;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];const{method:o,url:a}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:WR(t),method:UR(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:WR(t),method:UR(t,"method")?String(t.method).toUpperCase():"GET"}}(s),l={args:s,fetchData:{method:o,url:a},startTimestamp:1e3*Tr(),virtualError:n};return e||_R("fetch",{...l}),t.apply(wr,s).then((async t=>(e?e(t):_R("fetch",{...l,endTimestamp:1e3*Tr(),response:t}),t)),(e=>{if(_R("fetch",{...l,endTimestamp:1e3*Tr(),error:e}),Ar(e)&&void 0===e.stack&&(e.stack=n.stack,rs(e,"framesToPop",1)),e instanceof TypeError&&("Failed to fetch"===e.message||"Load failed"===e.message||"NetworkError when attempting to fetch resource."===e.message))try{const t=new URL(l.fetchData.url);e.message=`${e.message} (${t.host})`}catch{}throw e}))}}))}function BR(e){let t;try{t=e.clone()}catch{return}!async function(e,t){if(e?.body){const r=e.body,s=r.getReader(),i=setTimeout((()=>{r.cancel().then(null,(()=>{}))}),9e4);let o=!0;for(;o;){let e;try{e=setTimeout((()=>{r.cancel().then(null,(()=>{}))}),5e3);const{done:n}=await s.read();clearTimeout(e),n&&(t(),o=!1)}catch(n){o=!1}finally{clearTimeout(e)}}clearTimeout(i),s.releaseLock(),r.cancel().then(null,(()=>{}))}}(t,(()=>{_R("fetch-body-resolved",{endTimestamp:1e3*Tr(),response:e})}))}function UR(e,t){return!!e&&"object"===typeof e&&!!e[t]}function WR(e){return"string"===typeof e?e:e?UR(e,"url")?e.url:e.toString?e.toString():"":""}const HR=100;function VR(e,t){const n=Os(),r=Is();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=HR}=n.getOptions();if(i<=0)return;const o={timestamp:jr(),...e},a=s?Gr((()=>s(o,t))):o;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,i))}function qR(e){return"warn"===e?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}function KR(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}function QR(e,t){try{if("canParse"in URL&&!URL.canParse(e,t))return;return new URL(e,t)}catch{}}function YR(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function GR(e){return e.split(/[?#]/,1)[0]}const XR=1024,JR=function(){const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return{name:"Breadcrumbs",setup(t){e.console&&function(e){const t="console";SR(t,e),kR(t,FR)}(function(e){return function(t){if(Os()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:qR(t.level),message:Zr(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${Zr(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}VR(n,{input:t.args,level:t.level})}}(t)),e.dom&&NR(function(e,t){return function(n){if(Os()!==e)return;let r,s,i="object"===typeof t?t.serializeAttribute:void 0,o="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;o&&o>XR&&(xR&&Xr.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=XR),"string"===typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=Wr(t,{keyAttrs:i,maxStringLength:o}),s=qr(t)}catch(nU){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};s&&(a.data={"ui.component_name":s}),VR(a,{event:n.event,name:n.name,global:n.global})}}(t,e.dom)),e.xhr&&IR(function(e){return function(t){if(Os()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,s=t.xhr[MR];if(!n||!r||!s)return;const{method:i,url:o,status_code:a,body:l}=s,c={method:i,url:o,status_code:a},u={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r},d={category:"xhr",data:c,type:"http",level:KR(a)};e.emit("beforeOutgoingRequestBreadcrumb",d,u),VR(d,u)}}(t)),e.fetch&&zR(function(e){return function(t){if(Os()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.fetchData.method,t.fetchData.url,t.error){const s=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},o={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",o,i),VR(o,i)}else{const s=t.response,i={...t.fetchData,status_code:s?.status};t.fetchData.request_body_size,t.fetchData.response_body_size;const o={input:t.args,response:s,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:i,type:"http",level:KR(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",a,o),VR(a,o)}}}(t)),e.history&&DR(function(e){return function(t){if(Os()!==e)return;let n=t.from,r=t.to;const s=YR(fR.location.href);let i=n?YR(n):void 0;const o=YR(r);i?.path||(i=s),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),s.protocol===i.protocol&&s.host===i.host&&(n=i.relative),VR({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(e){return function(t){Os()===e&&VR({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:ps(t)},{event:t})}}(t))}}};const ZR=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],eO=function(){const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&ns(fR,"setTimeout",tO),e.setInterval&&ns(fR,"setInterval",tO),e.requestAnimationFrame&&ns(fR,"requestAnimationFrame",nO),e.XMLHttpRequest&&"XMLHttpRequest"in fR&&ns(XMLHttpRequest.prototype,"send",rO);const t=e.eventTarget;if(t){(Array.isArray(t)?t:ZR).forEach(sO)}}}};function tO(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n[0];return n[0]=yR(s,{mechanism:{data:{function:ei(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function nO(e){return function(t){return e.apply(this,[yR(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ei(e)},handled:!1,type:"instrument"}})])}}function rO(e){return function(){const t=this;["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in t&&"function"===typeof t[e]&&ns(t,e,(function(t){const n={mechanism:{data:{function:e,handler:ei(t)},handled:!1,type:"instrument"}},r=is(t);return r&&(n.mechanism.data.handler=ei(r)),yR(t,n)}))}));for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.apply(this,r)}}function sO(e){const t=fR,n=t[e]?.prototype;n?.hasOwnProperty?.("addEventListener")&&(ns(n,"addEventListener",(function(t){return function(n,r,s){try{"function"===typeof r.handleEvent&&(r.handleEvent=yR(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ei(r),target:e},handled:!1,type:"instrument"}}))}catch{}return t.apply(this,[n,yR(r,{mechanism:{data:{function:"addEventListener",handler:ei(r),target:e},handled:!1,type:"instrument"}}),s])}})),ns(n,"removeEventListener",(function(e){return function(t,n,r){try{const s=n.__sentry_wrapped__;s&&e.call(this,t,s,r)}catch(nU){}return e.call(this,t,n,r)}})))}const iO=()=>({name:"BrowserSession",setupOnce(){"undefined"!==typeof fR.document?(ao({ignoreDuration:!0}),uo(),DR((e=>{let{from:t,to:n}=e;void 0!==t&&t!==n&&(ao({ignoreDuration:!0}),uo())}))):xR&&Xr.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}});let oO=null;function aO(e){const t="error";SR(t,e),kR(t,lO)}function lO(){oO=wr.onerror,wr.onerror=function(e,t,n,r,s){return _R("error",{column:r,error:s,line:n,msg:e,url:t}),!!oO&&oO.apply(this,arguments)},wr.onerror.__SENTRY_INSTRUMENTED__=!0}let cO=null;function uO(e){const t="unhandledrejection";SR(t,e),kR(t,dO)}function dO(){cO=wr.onunhandledrejection,wr.onunhandledrejection=function(e){return _R("unhandledrejection",e),!cO||cO.apply(this,arguments)},wr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const hO=function(){const e={onerror:!0,onunhandledrejection:!0,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(e){aO((t=>{const{stackParser:n,attachStacktrace:r}=fO();if(Os()!==e||gR())return;const{msg:s,url:i,line:o,column:a,error:l}=t,c=function(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=r,u=n,d=Rr(t)&&t.length>0?t:Vr();0===l.length&&l.push({colno:c,filename:d,function:Qs,in_app:!0,lineno:u});return e}(dR(n,l||s,void 0,r,!1),i,o,a);c.level="error",so(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(t),pO("onerror")),e.onunhandledrejection&&(!function(e){uO((t=>{const{stackParser:n,attachStacktrace:r}=fO();if(Os()!==e||gR())return;const s=function(e){if(Dr(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}(t),i=Dr(s)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(s)}`}]}}:dR(n,s,void 0,r,!0);i.level="error",so(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),pO("onunhandledrejection"))}}};function pO(e){xR&&Xr.log(`Global Handler attached: ${e}`)}function fO(){const e=Os();return e?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const mO=()=>({name:"HttpContext",preprocessEvent(e){if(!fR.navigator&&!fR.location&&!fR.document)return;const t=e.request?.url||Vr(),{referrer:n}=fR.document||{},{userAgent:r}=fR.navigator||{},s={...e.request?.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}});function gO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;if(!i.exception?.values||!o||!$r(o.originalException,Error))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;a&&(i.exception.values=(l=yO(e,t,s,o.originalException,r,i.exception.values,a,0),c=n,l.map((e=>(e.value&&(e.value=Jr(e.value,c)),e)))))}function yO(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if($r(r[s],Error)){vO(o,a);const i=e(t,r[s]),c=l.length;xO(i,s,c,a),l=yO(e,t,n,r[s],s,[i,...l],i,c)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if($r(r,Error)){vO(o,a);const c=e(t,r),u=l.length;xO(c,`errors[${i}]`,u,a),l=yO(e,t,n,r,s,[c,...l],c,u)}})),l}function vO(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function xO(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const bO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,s){const i=s.getOptions();gO(rR,i.stackParser,i.maxValueLength,n,t,e,r)}}};function wO(e,t,n,r){const s={filename:e,function:"<anonymous>"===t?Qs:t,in_app:!0};return void 0!==n&&(s.lineno=n),void 0!==r&&(s.colno=r),s}const SO=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,kO=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_O=/\((\S*)(?::(\d+))(?::(\d+))\)/,jO=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,TO=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,CO=Xs(...[[30,e=>{const t=SO.exec(e);if(t){const[,e,n,r]=t;return wO(e,Qs,+n,+r)}const n=kO.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){const e=_O.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}const[e,t]=EO(n[1]||Qs,n[2]);return wO(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=jO.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=TO.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Qs;return[n,e]=EO(n,e),wO(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),EO=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Qs,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},NO="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,AO={};function PO(e){const t=AO[e];if(t)return t;let n=jR[e];if(NI(n))return AO[e]=n.bind(jR);const r=jR.document;if(r&&"function"===typeof r.createElement)try{const t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);const s=t.contentWindow;s?.[e]&&(n=s[e]),r.head.removeChild(t)}catch(nU){NO&&Xr.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,nU)}return n?AO[e]=n.bind(jR):n}function MO(e){AO[e]=void 0}function IO(){return PO("setTimeout")(...arguments)}function RO(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Bs(new QI("Not adding Promise because buffer limit was reached."));const s=r();return-1===t.indexOf(s)&&t.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(e){return new Us(((n,r)=>{let s=t.length;if(!s)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{$s(e).then((()=>{--s||(clearTimeout(i),n(!0))}),r)}))}))}}}function OO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return function(e,t){return e[t]||e.all||0}(e,t)>n}function DO(e,t){let{statusCode:n,headers:r}=t,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();const i={...e},o=r?.["x-sentry-rate-limits"],a=r?.["retry-after"];if(o)for(const l of o.trim().split(",")){const[e,t,,,n]=l.split(":",5),r=parseInt(e,10),o=1e3*(isNaN(r)?60:r);if(t)for(const a of t.split(";"))"metric_bucket"===a&&n&&!n.split(";").includes("custom")||(i[a]=s+o);else i.all=s+o}else a?i.all=s+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(a,s):429===n&&(i.all=s+6e4);return i}function LO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PO("fetch"),n=0,r=0;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RO(e.bufferSize||64),r={};return{send:function(s){const i=[];if(zI(s,((t,n)=>{const s=VI(n);OO(r,s)?e.recordDroppedEvent("ratelimit_backoff",s):i.push(t)})),0===i.length)return $s({});const o=LI(s[0],i),a=t=>{zI(o,((n,r)=>{e.recordDroppedEvent(t,VI(r))}))};return n.add((()=>t({body:BI(o)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Fs&&Xr.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=DO(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof QI)return Fs&&Xr.error("Skipped sending event because buffer is full."),a("queue_overflow"),$s({});throw e}))},flush:e=>n.drain(e)}}(e,(function(s){const i=s.body.length;n+=i,r++;const o={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return MO("fetch"),Bs("No fetch implementation available");try{return t(e.url,o).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(nU){return MO("fetch"),n-=i,r--,Bs(nU)}}))}function FO(e){const t={};for(const n of Object.getOwnPropertyNames(e)){const r=n;void 0!==e[r]&&(t[r]=e[r])}return t}function zO(){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{defaultIntegrations:[yI(),SI(),eO(),JR(),hO(),bO(),kI(),mO(),iO()],release:"string"===typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:fR.SENTRY_RELEASE?.id,sendClientReports:!0,...FO(e)}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});if(!e.skipBrowserExtensionCheck&&function(){const e="undefined"!==typeof fR.window&&fR;if(!e)return!1;const t=e[e.chrome?"chrome":"browser"],n=t?.runtime?.id,r=Vr()||"",s=!!n&&fR===fR.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some((e=>r.startsWith(`${e}//`))),i="undefined"!==typeof e.nw;return!!n&&!s&&!i}())return void(xR&&Gr((()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")})));xR&&!EI()&&Xr.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill.");const t={...e,stackParser:(n=e.stackParser||CO,Array.isArray(n)?Xs(...n):n),integrations:dI(e),transport:e.transport||LO};var n;return AI(vR,t)}function $O(e){if(!e||0===e.length)return;const t={};return e.forEach((e=>{const n=e.attributes||{},r=n[ui],s=n[di];"string"===typeof r&&"number"===typeof s&&(t[e.name]={value:s,unit:r})})),t}const BO=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s||0),(i||void 0===s)&&(s=t.value,t.delta=i,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},UO=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=jR.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},WO=()=>{const e=UO();return e?.activationStart||0},HO=(e,t)=>{const n=UO();let r="navigate";n&&(jR.document?.prerendering||WO()>0?r="prerender":jR.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-")));return{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:`v4-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},VO=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(nU){}},qO=e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==jR.document?.visibilityState||e(t)};jR.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},KO=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let QO=-1;const YO=e=>{"hidden"===jR.document.visibilityState&&QO>-1&&(QO="visibilitychange"===e.type?e.timeStamp:0,GO())},GO=()=>{removeEventListener("visibilitychange",YO,!0),removeEventListener("prerenderingchange",YO,!0)},XO=()=>(jR.document&&QO<0&&(QO="hidden"!==jR.document.visibilityState||jR.document.prerendering?1/0:0,addEventListener("visibilitychange",YO,!0),addEventListener("prerenderingchange",YO,!0)),{get firstHiddenTime(){return QO}}),JO=e=>{jR.document?.prerendering?addEventListener("prerenderingchange",(()=>e()),!0):e()},ZO=[1800,3e3],eD=[.1,.25],tD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};JO((()=>{const n=XO(),r=HO("FCP");let s;const i=VO("paint",(e=>{e.forEach((e=>{"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-WO(),0),r.entries.push(e),s(!0)))}))}));i&&(s=BO(e,r,ZO,t.reportAllChanges))}))}(KO((()=>{const n=HO("CLS",0);let r,s=0,i=[];const o=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=i[0],n=i[i.length-1];s&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(s+=e.value,i.push(e)):(s=e.value,i=[e])}})),s>n.value&&(n.value=s,n.entries=i,r())},a=VO("layout-shift",o);a&&(r=BO(e,n,eD,t.reportAllChanges),qO((()=>{o(a.takeRecords()),r(!0)})),setTimeout(r,0))})))},nD=[100,300];let rD=0,sD=1/0,iD=0;const oD=e=>{e.forEach((e=>{e.interactionId&&(sD=Math.min(sD,e.interactionId),iD=Math.max(iD,e.interactionId),rD=iD?(iD-sD)/7+1:0)}))};let aD;const lD=[],cD=new Map;const uD=()=>(aD?rD:performance.interactionCount||0)-0,dD=[],hD=e=>{if(dD.forEach((t=>t(e))),!e.interactionId&&"first-input"!==e.entryType)return;const t=lD[lD.length-1],n=cD.get(e.interactionId);if(n||lD.length<10||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0]?.startTime&&n.entries.push(e);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};cD.set(t.id,t),lD.push(t)}lD.sort(((e,t)=>t.latency-e.latency)),lD.length>10&&lD.splice(10).forEach((e=>cD.delete(e.id)))}},pD=e=>{const t=jR.requestIdleCallback||jR.setTimeout;let n=-1;return e=KO(e),"hidden"===jR.document?.visibilityState?e():(n=t(e),qO(e)),n},fD=[200,500],mD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"PerformanceEventTiming"in jR&&"interactionId"in PerformanceEventTiming.prototype&&JO((()=>{"interactionCount"in performance||aD||(aD=VO("event",oD,{type:"event",buffered:!0,durationThreshold:0}));const n=HO("INP");let r;const s=e=>{pD((()=>{e.forEach(hD);const t=(()=>{const e=Math.min(lD.length-1,Math.floor(uD()/50));return lD[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())}))},i=VO("event",s,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});r=BO(e,n,fD,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),qO((()=>{s(i.takeRecords()),r(!0)})))}))},gD=[2500,4e3],yD={},vD=[800,1800],xD=e=>{jR.document?.prerendering?JO((()=>xD(e))):"complete"!==jR.document?.readyState?addEventListener("load",(()=>xD(e)),!0):setTimeout(e,0)},bD={},wD={};let SD,kD,_D,jD,TD;function CD(e){return FD("cls",e,ID,SD,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function ED(e){return FD("lcp",e,OD,_D,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function ND(e){return FD("fid",e,RD,kD)}function AD(e){return FD("inp",e,LD,TD)}function PD(e,t){return zD(e,t),wD[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);VO(e,(t=>{MD(e,{entries:t})}),t)}(e),wD[e]=!0),$D(e,t)}function MD(e,t){const n=bD[e];if(n?.length)for(const r of n)try{r(t)}catch(nU){NO&&Xr.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${ei(r)}\nError:`,nU)}}function ID(){return tD((e=>{MD("cls",{metric:e}),SD=e}),{reportAllChanges:!0})}function RD(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};JO((()=>{const n=XO(),r=HO("FID");let s;const i=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),s(!0))},o=e=>{e.forEach(i)},a=VO("first-input",o);s=BO(e,r,nD,t.reportAllChanges),a&&qO(KO((()=>{o(a.takeRecords()),a.disconnect()})))}))}((e=>{MD("fid",{metric:e}),kD=e}))}function OD(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};JO((()=>{const n=XO(),r=HO("LCP");let s;const i=e=>{t.reportAllChanges||(e=e.slice(-1)),e.forEach((e=>{e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-WO(),0),r.entries=[e],s())}))},o=VO("largest-contentful-paint",i);if(o){s=BO(e,r,gD,t.reportAllChanges);const n=KO((()=>{yD[r.id]||(i(o.takeRecords()),o.disconnect(),yD[r.id]=!0,s(!0))}));["keydown","click"].forEach((e=>{jR.document&&addEventListener(e,(()=>pD(n)),{once:!0,capture:!0})})),qO(n)}}))}((e=>{MD("lcp",{metric:e}),_D=e}),{reportAllChanges:!0})}function DD(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=HO("TTFB"),r=BO(e,n,vD,t.reportAllChanges);xD((()=>{const e=UO();e&&(n.value=Math.max(e.responseStart-WO(),0),n.entries=[e],r(!0))}))}((e=>{MD("ttfb",{metric:e}),jD=e}))}function LD(){return mD((e=>{MD("inp",{metric:e}),TD=e}))}function FD(e,t,n,r){let s,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return zD(e,t),wD[e]||(s=n(),wD[e]=!0),r&&t({metric:r}),$D(e,t,i?s:void 0)}function zD(e,t){bD[e]=bD[e]||[],bD[e].push(t)}function $D(e,t,n){return()=>{n&&n();const r=bD[e];if(!r)return;const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}class BD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||xs(),this._spanId=e.spanId||bs()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}class UD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._traceId=e.traceId||xs(),this._spanId=e.spanId||bs(),this._startTime=e.startTimestamp||Tr(),this._links=e.links,this._attributes={},this.setAttributes({[li]:"manual",[ai]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach((t=>this.setAttribute(t,e[t]))),this}updateStartTime(e){this._startTime=Ri(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(ii,"custom"),this}end(e){this._endTime||(this._endTime=Ri(e),function(e){if(!Fs)return;const{description:t="< unknown name >",op:n="< unknown op >"}=Di(e),{spanId:r}=e.spanContext(),s=`[Tracing] Finishing "${n}" ${Wi(e)===e?"root ":""}span "${t}" with ID ${r}`;Xr.log(s)}(this),this._onSpanEnded())}getSpanJSON(){return cs({data:this._attributes,description:this._name,op:this._attributes[ai],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Fi(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[li],profile_id:this._attributes[pi],exclusive_time:this._attributes[fi],measurements:$O(this._events),is_segment:this._isStandaloneSpan&&Wi(this)===this||void 0,segment_id:this._isStandaloneSpan?Wi(this).spanContext().spanId:void 0,links:Ii(this._links)})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){Fs&&Xr.log("[Tracing] Adding an event to span:",e);const r=WD(t)?t:n||Tr(),s=WD(t)?{}:t||{},i={name:e,time:Ri(r),attributes:s};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Os();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===Wi(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){const t=Os();if(!t)return;const n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");t.sendEnvelope(e)}(function(e,t){const n=Gi(e[0]),r=t?.getDsn(),s=t?.getOptions().tunnel,i={sent_at:(new Date).toISOString(),...function(e){return!!e.trace_id&&!!e.public_key}(n)&&{trace:n},...!!s&&r&&{dsn:RI(r)}},o=t?.getOptions().beforeSendSpan,a=o?e=>{const t=Di(e);return o(t)||(Vi(),t)}:Di,l=[];for(const c of e){const e=a(c);e&&l.push(UI(e))}return LI(i,l)}([this],e)):(Fs&&Xr.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));const t=this._convertSpanToTransaction();if(t){(ji(this).scope||Ms()).captureEvent(t)}}_convertSpanToTransaction(){if(!HD(Di(this)))return;this._name||(Fs&&Xr.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:t}=ji(this);if(!0!==this._sampled)return;const n=Ui(this).filter((e=>e!==this&&!function(e){return e instanceof UD&&e.isStandaloneSpan()}(e))).map((e=>Di(e))).filter(HD),r=this._attributes[ii];delete this._attributes[hi],n.forEach((e=>{delete e.data[hi]}));const s={contexts:{trace:Pi(this)},spans:n.length>1e3?n.sort(((e,t)=>e.start_timestamp-t.start_timestamp)).slice(0,1e3):n,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:Gi(this)},...r&&{transaction_info:{source:r}}},i=$O(this._events);return i&&Object.keys(i).length&&(Fs&&Xr.log("[Measurements] Adding measurements to transaction event",JSON.stringify(i,void 0,2)),s.measurements=i),s}}function WD(e){return e&&"number"===typeof e||e instanceof Date||Array.isArray(e)}function HD(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}const VD="__SENTRY_SUPPRESS_TRACING__";function qD(e){const t=GD();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=YD(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?t=>Rs(e.scope,t):void 0!==s?e=>KD(s,e):e=>e())((()=>{const t=Ms(),s=JD(t);return e.onlyIfParent&&!s?new BD:QD({parentSpan:s,spanArguments:n,forceTransaction:r,scope:t})}))}function KD(e,t){const n=GD();return n.withActiveSpan?n.withActiveSpan(e,t):Rs((n=>(ks(n,e||void 0),t(n))))}function QD(e){let{parentSpan:t,spanArguments:n,forceTransaction:r,scope:s}=e;if(!wi()){const e=new BD;if(r||!t){Ki(e,{sampled:"false",sample_rate:"0",transaction:n.name,...Gi(e)})}return e}const i=Is();let o;if(t&&!r)o=function(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=!t.getScopeData().sdkProcessingMetadata[VD]&&Li(e),o=i?new UD({...n,parentSpanId:r,traceId:s,sampled:i}):new BD({traceId:s});Bi(e,o);const a=Os();a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o));return o}(t,s,n),Bi(t,o);else if(t){const e=Gi(t),{traceId:r,spanId:i}=t.spanContext(),a=Li(t);o=XD({traceId:r,parentSpanId:i,...n},s,a),Ki(o,e)}else{const{traceId:e,dsc:t,parentSpanId:r,sampled:a}={...i.getPropagationContext(),...s.getPropagationContext()};o=XD({traceId:e,parentSpanId:r,...n},s,a),t&&Ki(o,t)}return function(e){if(!Fs)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Di(e),{spanId:s}=e.spanContext(),i=Li(e),o=Wi(e),a=o===e,l=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:e,description:t}=Di(o);c.push(`root ID: ${o.spanContext().spanId}`),e&&c.push(`root op: ${e}`),t&&c.push(`root description: ${t}`)}Xr.log(`${l}\n  ${c.join("\n  ")}`)}(o),function(e,t,n){e&&(rs(e,_i,n),rs(e,ki,t))}(o,s,i),o}function YD(e){const t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const n={...t};return n.startTimestamp=Ri(e.startTime),delete n.startTime,n}return t}function GD(){return Ps(Sr())}function XD(e,t,n){const r=Os(),s=r?.getOptions()||{},{name:i="",attributes:o}=e,a=t.getPropagationContext(),[l,c,u]=t.getScopeData().sdkProcessingMetadata[VD]?[!1]:function(e,t,n){if(!wi(e))return[!1];let r,s;"function"===typeof e.tracesSampler?(s=e.tracesSampler({...t,inheritOrSampleWith:e=>"number"===typeof t.parentSampleRate?t.parentSampleRate:"boolean"===typeof t.parentSampled?Number(t.parentSampled):e}),r=!0):void 0!==t.parentSampled?s=t.parentSampled:"undefined"!==typeof e.tracesSampleRate&&(s=e.tracesSampleRate,r=!0);const i=Ti(s);if(void 0===i)return Fs&&Xr.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return Fs&&Xr.log("[Tracing] Discarding transaction because "+("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,i,r];const o=n<i;return o||Fs&&Xr.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}(s,{name:i,parentSampled:n,attributes:o,parentSampleRate:Ti(a.dsc?.sample_rate)},a.sampleRand),d=new UD({...e,attributes:{[ii]:"custom",[oi]:void 0!==c&&u?c:void 0,...e.attributes},sampled:l});return!l&&r&&(Fs&&Xr.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",d),d}function JD(e){const t=_s(e);if(!t)return;const n=Os();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Wi(t):t}function ZD(e){return"number"===typeof e&&isFinite(e)}function eL(e,t,n,r){let{...s}=r;const i=Di(e).start_timestamp;return i&&i>t&&"function"===typeof e.updateStartTime&&e.updateStartTime(t),KD(e,(()=>{const e=qD({startTime:t,...s});return e&&e.end(n),e}))}function tL(e){const t=Os();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:l}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c?.getReplayId(),d=Ms(),h=d.getUser(),p=void 0!==h?h.email||h.id||h.ip_address:void 0;let f;try{f=d.getScopeData().contexts.profile.profile_id}catch{}return qD({name:n,attributes:{release:o,environment:a,user:p||void 0,profile_id:f||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":jR.navigator?.userAgent,"client.address":l?"{{auto}}":void 0,...s},startTime:i,experimental:{standalone:!0}})}function nL(){return jR.addEventListener&&jR.performance}function rL(e){return e/1e3}function sL(e){let t="unknown",n="unknown",r="";for(const s of e){if("/"===s){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function iL(){let e,t,n=0;if(!function(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}())return;let r=!1;function s(){r||(r=!0,t&&function(e,t,n){NO&&Xr.log(`Sending CLS span (${e})`);const r=rL((Er()||0)+(t?.startTime||0)),s=Ms().getScopeData().transactionName,i=t?Wr(t.sources[0]?.node):"Layout shift",o={[li]:"auto.http.browser.cls",[ai]:"ui.webvital.cls",[fi]:t?.duration||0,"sentry.pageload.span_id":n},a=tL({name:i,transaction:s,attributes:o,startTime:r});a&&(a.addEvent("cls",{[ui]:"",[di]:e}),a.end(r))}(n,e,t),i())}const i=CD((t=>{let{metric:r}=t;const s=r.entries[r.entries.length-1];s&&(n=r.value,e=s)}),!0);qO((()=>{s()})),setTimeout((()=>{const e=Os();if(!e)return;const n=e.on("startNavigationSpan",(()=>{s(),n?.()})),r=Hi();if(r){const e=Wi(r);"pageload"===Di(e).op&&(t=e.spanContext().spanId)}}),0)}let oL,aL,lL=0,cL={};function uL(e){let{recordClsStandaloneSpans:t}=e;const n=nL();if(n&&Er()){n.mark&&jR.performance.mark("sentry-tracing-init");const e=ND((e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];if(!n)return;const r=rL(Er()),s=rL(n.startTime);cL.fid={value:t.value,unit:"millisecond"},cL["mark.fid"]={value:r+s,unit:"second"}})),r=ED((e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(cL.lcp={value:t.value,unit:"millisecond"},oL=n)}),!0),s=function(){return e=e=>{let{metric:t}=e;t.entries[t.entries.length-1]&&(cL.ttfb={value:t.value,unit:"millisecond"})},FD("ttfb",e,DD,jD);var e}(),i=t?iL():CD((e=>{let{metric:t}=e;const n=t.entries[t.entries.length-1];n&&(cL.cls={value:t.value,unit:""},aL=n)}),!0);return()=>{e(),r(),s(),i?.()}}return()=>{}}function dL(e,t){const n=nL(),r=Er();if(!n?.getEntries||!r)return;const s=rL(r),i=n.getEntries(),{op:o,start_timestamp:a}=Di(e);if(i.slice(lL).forEach((t=>{const n=rL(t.startTime),r=rL(Math.max(0,t.duration));if(!("navigation"===o&&a&&s+n<a))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{hL(e,t,r,n)})),hL(e,t,"secureConnection",n,"TLS/SSL"),hL(e,t,"fetch",n,"cache"),hL(e,t,"domainLookup",n,"DNS"),function(e,t,n){const r=n+rL(t.requestStart),s=n+rL(t.responseEnd),i=n+rL(t.responseStart);t.responseEnd&&(eL(e,r,s,{op:"browser.request",name:t.name,attributes:{[li]:"auto.ui.browser.metrics"}}),eL(e,i,s,{op:"browser.response",name:t.name,attributes:{[li]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,t,s);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,s){const i=UO(!1),o=rL(i?i.requestStart:0),a=s+Math.max(n,o),l=s+n,c=l+r,u={[li]:"auto.resource.browser.metrics"};a!==l&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=a);a<=c&&eL(e,a,c,{name:t.name,op:t.entryType,attributes:u})}(e,t,n,r,s);const i=XO(),o=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&o&&(cL.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(cL.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,s,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const o=YR(n),a={[li]:"auto.resource.browser.metrics"};pL(a,t,"transferSize","http.response_transfer_size"),pL(a,t,"encodedBodySize","http.response_content_length"),pL(a,t,"decodedBodySize","http.decoded_response_content_length");const l=t.deliveryType;null!=l&&(a["http.response_delivery_type"]=l);const c=t.renderBlockingStatus;c&&(a["resource.render_blocking_status"]=c);o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop());o.host&&(a["server.address"]=o.host);a["url.same_origin"]=n.includes(jR.location.origin);const{name:u,version:d}=sL(t.nextHopProtocol);a["network.protocol.name"]=u,a["network.protocol.version"]=d;const h=i+r,p=h+s;eL(e,h,p,{name:n.replace(jR.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:a})}(e,t,t.name,n,r,s)}})),lL=Math.max(i.length-1,0),function(e){const t=jR.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),ZD(n.rtt)&&(cL["connection.rtt"]={value:n.rtt,unit:"millisecond"}));ZD(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);ZD(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){!function(e){const t=UO(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(cL);const n=cL["mark.fid"];n&&cL.fid&&(eL(e,n.value,n.value+rL(cL.fid.value),{name:"first input delay",op:"ui.action",attributes:{[li]:"auto.ui.browser.metrics"}}),delete cL["mark.fid"]),"fcp"in cL&&t.recordClsOnPageloadSpan||delete cL.cls,Object.entries(cL).forEach((e=>{let[t,n]=e;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Hi();const s=r&&Wi(r);s&&(Fs&&Xr.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[di]:t,[ui]:n}))}(t,n.value,n.unit)})),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",WO()),function(e){oL&&(oL.element&&e.setAttribute("lcp.element",Wr(oL.element)),oL.id&&e.setAttribute("lcp.id",oL.id),oL.url&&e.setAttribute("lcp.url",oL.url.trim().slice(0,200)),null!=oL.loadTime&&e.setAttribute("lcp.loadTime",oL.loadTime),null!=oL.renderTime&&e.setAttribute("lcp.renderTime",oL.renderTime),e.setAttribute("lcp.size",oL.size));aL?.sources&&aL.sources.forEach(((t,n)=>e.setAttribute(`cls.source.${n+1}`,Wr(t.node))))}(e)}oL=void 0,aL=void 0,cL={}}function hL(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;const i=function(e){if("secureConnection"===e)return"connectEnd";if("fetch"===e)return"domainLookupStart";return`${e}End`}(n),o=t[i],a=t[`${n}Start`];a&&o&&eL(e,r+rL(a),r+rL(o),{op:`browser.${s}`,name:t.name,attributes:{[li]:"auto.ui.browser.metrics"}})}function pL(e,t,n,r){const s=t[n];null!=s&&s<2147483647&&(e[r]=s)}const fL=[],mL=new Map;function gL(){if(nL()&&Er()){const e=AD((e=>{let{metric:t}=e;if(void 0==t.value)return;const n=t.entries.find((e=>e.duration===t.value&&yL[e.name]));if(!n)return;const{interactionId:r}=n,s=yL[n.name],i=rL(Er()+n.startTime),o=rL(t.value),a=Hi(),l=a?Wi(a):void 0,c=(null!=r?mL.get(r):void 0)||l,u=c?Di(c).description:Ms().getScopeData().transactionName,d=tL({name:Wr(n.target),transaction:u,attributes:{[li]:"auto.http.browser.inp",[ai]:`ui.interaction.${s}`,[fi]:n.duration},startTime:i});d&&(d.addEvent("inp",{[ui]:"millisecond",[di]:t.value}),d.end(i+o))}));return()=>{e()}}return()=>{}}const yL={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};const vL={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function xL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Map;let r,s=!1,i="externalFinish",o=!t.disableAutoFinish;const a=[],{idleTimeout:l=vL.idleTimeout,finalTimeout:c=vL.finalTimeout,childSpanTimeout:u=vL.childSpanTimeout,beforeSpanEnd:d}=t,h=Os();if(!h||!wi()){const e=new BD;return Ki(e,{sample_rate:"0",sampled:"false",...Gi(e)}),e}const p=Ms(),f=Hi(),m=function(e){const t=qD(e);return ks(Ms(),t),Fs&&Xr.log("[Tracing] Started span is an idle span"),t}(e);function g(){r&&(clearTimeout(r),r=void 0)}function y(e){g(),r=setTimeout((()=>{!s&&0===n.size&&o&&(i="idleTimeout",m.end(e))}),l)}function v(e){r=setTimeout((()=>{!s&&o&&(i="heartbeatFailed",m.end(e))}),u)}function x(e){s=!0,n.clear(),a.forEach((e=>e())),ks(p,f);const t=Di(m),{start_timestamp:r}=t;if(!r)return;t.data[ci]||m.setAttribute(ci,i),Xr.log(`[Tracing] Idle span "${t.op}" finished`);const o=Ui(m).filter((e=>e!==m));let u=0;o.forEach((t=>{t.isRecording()&&(t.setStatus({code:2,message:"cancelled"}),t.end(e),Fs&&Xr.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=Di(t),{timestamp:r=0,start_timestamp:s=0}=n,i=s<=e,o=r-s<=(c+l)/1e3;if(Fs){const e=JSON.stringify(t,void 0,2);i?o||Xr.log("[Tracing] Discarding span since it finished after idle span final timeout",e):Xr.log("[Tracing] Discarding span since it happened after idle span was finished",e)}o&&i||(!function(e,t){e[zi]&&e[zi].delete(t)}(m,t),u++)})),u>0&&m.setAttribute("sentry.idle_span_discarded_spans",u)}return m.end=new Proxy(m.end,{apply(e,t,n){if(d&&d(m),t instanceof BD)return;const[r,...s]=n,i=Ri(r||Tr()),o=Ui(m).filter((e=>e!==m));if(!o.length)return x(i),Reflect.apply(e,t,[i,...s]);const a=o.map((e=>Di(e).timestamp)).filter((e=>!!e)),l=a.length?Math.max(...a):void 0,u=Di(m).start_timestamp,h=Math.min(u?u+c/1e3:1/0,Math.max(u||-1/0,Math.min(i,l||1/0)));return x(h),Reflect.apply(e,t,[h,...s])}}),a.push(h.on("spanStart",(e=>{if(s||e===m||Di(e).timestamp)return;var t;Ui(m).includes(e)&&(t=e.spanContext().spanId,g(),n.set(t,!0),v(Tr()+u/1e3))}))),a.push(h.on("spanEnd",(e=>{var t;s||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&y(Tr()+l/1e3))}))),a.push(h.on("idleSpanEnableAutoFinish",(e=>{e===m&&(o=!0,y(),n.size&&v())}))),t.disableAutoFinish||y(),setTimeout((()=>{s||(m.setStatus({code:2,message:"deadline_exceeded"}),i="finalTimeout",m.end())}),c),m}let bL=!1;function wL(){const e=Hi(),t=e&&Wi(e);if(t){const e="internal_error";Fs&&Xr.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:2,message:e})}}function SL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Os();if(!function(){const e=Os();return!1!==e?.getOptions().enabled&&!!e?.getTransport()}()||!t)return{};const n=Ps(Sr());if(n.getTraceData)return n.getTraceData(e);const r=Ms(),s=e.span||Hi(),i=s?function(e){const{traceId:t,spanId:n}=e.spanContext();return Ni(t,n,Li(e))}(s):function(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Ni(t,r,n)}(r),o=xi(s?Gi(s):Yi(t,r));return Ci.test(i)?{"sentry-trace":i,baggage:o}:(Xr.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function kL(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto.http.browser";if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=wi()&&t(o);if(e.endTimestamp&&a){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){Si(e,t.response.status);const n=t.response?.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}(n,e),delete r[t]))}const l=o.startsWith("/")?QR(o,"thismessage:/"):QR(o),c=o.startsWith("/")?void 0:l?.href,u=!!Hi(),d=a&&u?qD({name:`${i} ${GR(o)}`,attributes:{url:o,type:"fetch","http.method":i,"http.url":l?.href,[li]:s,[ai]:"http.client",...c&&{"http.url":c},...c&&l?.host&&{"server.address":l.host},...l?.search&&{"http.query":l.search},...l?.hash&&{"http.fragment":l.hash}}}):new BD;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const t=e.args[0],n=e.args[1]||{},r=function(e,t,n){const r=SL({span:n}),s=r["sentry-trace"],i=r.baggage;if(!s)return;const o=t.headers||(function(e){return"undefined"!==typeof Request&&$r(e,Request)}(e)?e.headers:void 0);if(o){if(function(e){return"undefined"!==typeof Headers&&$r(e,Headers)}(o)){const e=new Headers(o);if(e.set("sentry-trace",s),i){const t=e.get("baggage");if(t){const n=_L(t);e.set("baggage",n?`${n},${i}`:i)}else e.set("baggage",i)}return e}if(Array.isArray(o)){const e=[...o.filter((e=>!(Array.isArray(e)&&"sentry-trace"===e[0]))).map((e=>{if(Array.isArray(e)&&"baggage"===e[0]&&"string"===typeof e[1]){const[t,n,...r]=e;return[t,_L(n),...r]}return e})),["sentry-trace",s]];return i&&e.push(["baggage",i]),e}{const e="baggage"in o?o.baggage:void 0;let t=[];return Array.isArray(e)?t=e.map((e=>"string"===typeof e?_L(e):e)).filter((e=>""===e)):e&&t.push(_L(e)),i&&t.push(i),{...o,"sentry-trace":s,baggage:t.length>0?t.join(","):void 0}}}return{...r}}(t,n,wi()&&u?d:void 0);r&&(e.args[1]=n,n.headers=r)}const h=Os();if(h){const t={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};h.emit("beforeOutgoingRequestSpan",d,t)}return d}function _L(e){return e.split(",").filter((e=>!e.split("=")[0].startsWith(gi))).join(",")}wL.tag="sentry_tracingErrorCallback";const jL=new WeakMap,TL=new Map,CL={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function EL(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:CL.traceFetch,traceXHR:CL.traceXHR,trackFetchStreamPerformance:CL.trackFetchStreamPerformance,...t},l="function"===typeof i?i:e=>!0,c=e=>function(e,t){const n=Vr();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch(nU){return!1}const i=r.origin===s;return t?ts(r.toString(),t)||i&&ts(r.pathname,t):i}{const n=!!e.match(/^\/(?!\/)/);return t?ts(e,t):n}}(e,a),u={};n&&(e.addEventProcessor((e=>("transaction"===e.type&&e.spans&&e.spans.forEach((e=>{if("http.client"===e.op){const t=TL.get(e.span_id);t&&(e.timestamp=t/1e3,TL.delete(e.span_id))}})),e))),s&&function(e){const t="fetch-body-resolved";SR(t,e),kR(t,(()=>$R(BR)))}((e=>{if(e.response){const t=jL.get(e.response);t&&e.endTimestamp&&TL.set(t,e.endTimestamp)}})),zR((e=>{const t=kL(e,l,c,u);if(e.response&&e.fetchData.__span&&jL.set(e.response,e.fetchData.__span),t){const n=PL(e.fetchData.url),r=n?YR(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}o&&t&&NL(t)}))),r&&IR((e=>{const t=function(e,t,n,r){const s=e.xhr,i=s?.[MR];if(!s||s.__sentry_own_request__||!i)return;const{url:o,method:a}=i,l=wi()&&t(o);if(e.endTimestamp&&l){const e=s.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==i.status_code&&(Si(t,i.status_code),t.end(),delete r[e]))}const c=PL(o),u=YR(c||o),d=GR(o),h=!!Hi(),p=l&&h?qD({name:`${a} ${d}`,attributes:{url:o,type:"xhr","http.method":a,"http.url":c,"server.address":u?.host,[li]:"auto.http.browser",[ai]:"http.client",...u?.search&&{"http.query":u?.search},...u?.hash&&{"http.fragment":u?.hash}}}):new BD;s.__sentry_xhr_span_id__=p.spanContext().spanId,r[s.__sentry_xhr_span_id__]=p,n(o)&&function(e,t){const{"sentry-trace":n,baggage:r}=SL({span:t});n&&function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch(r){}}(e,n,r)}(s,wi()&&h?p:void 0);const f=Os();f&&f.emit("beforeOutgoingRequestSpan",p,e);return p}(e,l,c,u);o&&t&&NL(t)}))}function NL(e){const{url:t}=Di(e).data;if(!t||"string"!==typeof t)return;const n=PD("resource",(r=>{let{entries:s}=r;s.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=sL(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!Er())return r;return[...r,["http.request.redirect_start",AL(e.redirectStart)],["http.request.fetch_start",AL(e.fetchStart)],["http.request.domain_lookup_start",AL(e.domainLookupStart)],["http.request.domain_lookup_end",AL(e.domainLookupEnd)],["http.request.connect_start",AL(e.connectStart)],["http.request.secure_connection_start",AL(e.secureConnectionStart)],["http.request.connection_end",AL(e.connectEnd)],["http.request.request_start",AL(e.requestStart)],["http.request.response_start",AL(e.responseStart)],["http.request.response_end",AL(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function AL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return((Er()||performance.timeOrigin)+e)/1e3}function PL(e){try{return new URL(e,fR.location.origin).href}catch{return}}const ML="sentry_previous_trace";function IL(e,t){const n=Di(t);return e?e.spanContext.traceId===n.trace_id?e:(Date.now()/1e3-e.startTimestamp<=3600&&(xR&&Xr.info(`Adding previous_trace ${e.spanContext} link to span ${{op:n.op,...t.spanContext()}}`),t.addLink({context:e.spanContext,attributes:{[mi]:"previous_trace"}})),{spanContext:t.spanContext(),startTimestamp:Di(t).start_timestamp}):{spanContext:t.spanContext(),startTimestamp:n.start_timestamp}}const RL={...vL,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,linkPreviousTrace:"in-memory",_experiments:{},...CL};function OL(e){const t=fR.document,n=t?.querySelector(`meta[name=${e}]`);return n?.getAttribute("content")||void 0}const DL="_sentry_idleSpan";function LL(e){return e[DL]}function FL(e,t){rs(e,DL,t)}function zL(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,n)||function(e,t){if(!t)return!1;return $L(e)===$L(t)}(e,r)}function $L(e){return"/"===e[e.length-1]?e.slice(0,-1):e}function BL(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function UL(){return"undefined"!==typeof window&&(!BL()||function(){const e=wr.process;return"renderer"===e?.type}())}function WL(e){return new URLSearchParams(e).toString()}function HL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xr;try{if("string"===typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[WL(e)];if(!e)return[void 0]}catch(n){return NO&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return NO&&t.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function VL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===e.length&&"object"===typeof e[1])return e[1].body}const qL=wr,KL="sentryReplaySession",QL="Unable to send Replay",YL=5e3,GL=5500,XL=15e4,JL=5e3,ZL=2e7,eF=4999,tF=36e5;var nF=Object.defineProperty,rF=(e,t,n)=>((e,t,n)=>t in e?nF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n),sF=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(sF||{});function iF(e){const t=e?.host;return Boolean(t?.shadowRoot===e)}function oF(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function aF(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,lF).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(n){return null}var t}function lF(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=aF(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(n){}else if(function(e){return"selectorText"in e}(e)){let t=e.cssText;const n=e.selectorText.includes(":"),r="string"===typeof e.style.all&&e.style.all;if(r&&(t=function(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],i=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}(e)),n&&(t=function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(t)),n||r)return t}return t||e.cssText}class cF{constructor(){rF(this,"idNodeMap",new Map),rF(this,"nodeMetaMap",new WeakMap)}getId(e){if(!e)return-1;const t=this.getMeta(e)?.id;return t??-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function uF(e){let{maskInputOptions:t,tagName:n,type:r}=e;return"OPTION"===n&&(n="SELECT"),Boolean(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function dF(e){let{isMasked:t,element:n,value:r,maskInputFn:s}=e,i=r||"";return t?(s&&(i=s(i,n)),"*".repeat(i.length)):i}function hF(e){return e.toLowerCase()}function pF(e){return e.toUpperCase()}const fF="__rrweb_original__";function mF(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?hF(t):null}function gF(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}function yF(e,t){let n;try{n=new URL(e,t??window.location.href)}catch(s){return null}const r=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return r?.[1]??null}const vF={};function xF(e){const t=vF[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const s=t.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(t)}catch(s){}return vF[e]=r.bind(window)}function bF(){return xF("setTimeout")(...arguments)}function wF(){return xF("clearTimeout")(...arguments)}function SF(e){try{return e.contentDocument}catch(t){}}let kF=1;const _F=new RegExp("[^a-z0-9-_:]");function jF(){return kF++}let TF,CF;const EF=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,NF=/^(?:[a-z+]+:)?\/\//i,AF=/^www\..*/i,PF=/^(data:)([^,]*),(.*)/i;function MF(e,t){return(e||"").replace(EF,((e,n,r,s,i,o)=>{const a=r||i||o,l=n||s||"";if(!a)return e;if(NF.test(a)||AF.test(a))return`url(${l}${a}${l})`;if(PF.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${l})`;const c=t.split("/"),u=a.split("/");c.pop();for(const t of u)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${l}${c.join("/")}${l})`}))}const IF=/^[^ \t\n\r\u000c]+/,RF=/^[, \t\n\r\u000c]+/;const OF=new WeakMap;function DF(e,t){return t&&""!==t.trim()?FF(e,t):t}function LF(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function FF(e,t){let n=OF.get(e);if(n||(n=e.createElement("a"),OF.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function zF(e,t,n,r,s,i){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?DF(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const s=e.exec(t.substring(n));return s?(r=s[0],n+=r.length,r):""}const s=[];for(;r(RF),!(n>=t.length);){let i=r(IF);if(","===i.slice(-1))i=DF(e,i.substring(0,i.length-1)),s.push(i);else{let r="";i=DF(e,i);let o=!1;for(;;){const e=t.charAt(n);if(""===e){s.push((i+r).trim());break}if(o)")"===e&&(o=!1);else{if(","===e){n+=1,s.push((i+r).trim());break}"("===e&&(o=!0)}r+=e,n+=1}}}return s.join(", ")}(e,r):"style"===n?MF(r,FF(e)):"object"===t&&"data"===n?DF(e,r):"function"===typeof i?i(n,r,s):r:DF(e,r):r}function $F(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function BF(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"===typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(s){}return!1}function UF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:UF(e.parentNode,t,n,r+1):-1}function WF(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"===typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch{return!1}}}function HF(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===o)return!1;if("INPUT"===o.tagName){const e=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,l=-1;if(i){if(l=UF(o,WF(r,s)),l<0)return!0;a=UF(o,WF(t,n),l>=0?l:1/0)}else{if(a=UF(o,WF(t,n)),a<0)return!1;l=UF(o,WF(r,s),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!i}catch(o){}return!!i}function VF(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:x,keepIframeSrcFn:b,newlyAddedElement:w=!1}=t,S=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:sF.Document,childNodes:[],compatMode:e.compatMode}:{type:sF.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:sF.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:S};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:d,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:f=!1,rootId:m,maskTextClass:g,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:x}=t,b=BF(e,r,s,i),w=function(e){if(e instanceof HTMLFormElement)return"form";const t=hF(e.tagName);return _F.test(t)?"div":t}(e);let S={};const k=e.attributes.length;for(let T=0;T<k;T++){const t=e.attributes[T];t.name&&!$F(w,t.name,t.value)&&(S[t.name]=zF(n,w,hF(t.name),t.value,e,l))}if("link"===w&&o){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=aF(t)),r&&(S.rel=null,S.href=null,S.crossorigin=null,S._cssText=MF(r,t.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=aF(e.sheet);t&&(S._cssText=MF(t,FF(n)))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const t=e,n=mF(t),r=gF(t,pF(w),n),s=t.checked;if("submit"!==n&&"button"!==n&&r){const e=HF(t,g,v,y,x,uF({type:n,tagName:pF(w),maskInputOptions:a}));S.value=dF({isMasked:e,element:t,value:r,maskInputFn:c})}s&&(S.checked=s)}"option"===w&&(e.selected&&!a.select?S.selected=!0:delete S.selected);if("canvas"===w&&h)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const s=t.getImageData,i=fF in s?s[fF]:s;if(new Uint32Array(i.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(S.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),r=n.createElement("canvas");r.width=e.width,r.height=e.height;t!==r.toDataURL(u.type,u.quality)&&(S.rr_dataURL=t)}if("img"===w&&d){TF||(TF=n.createElement("canvas"),CF=TF.getContext("2d"));const t=e,r=t.currentSrc||t.getAttribute("src")||"<unknown-src>",s=t.crossOrigin,i=()=>{t.removeEventListener("load",i);try{TF.width=t.naturalWidth,TF.height=t.naturalHeight,CF.drawImage(t,0,0),S.rr_dataURL=TF.toDataURL(u.type,u.quality)}catch(e){if("anonymous"!==t.crossOrigin)return t.crossOrigin="anonymous",void(t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i));console.warn(`Cannot inline img src=${r}! Error: ${e}`)}"anonymous"===t.crossOrigin&&(s?S.crossOrigin=s:t.removeAttribute("crossorigin"))};t.complete&&0!==t.naturalWidth?i():t.addEventListener("load",i)}"audio"!==w&&"video"!==w||(S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop));if(b){const{width:t,height:n}=e.getBoundingClientRect();S={class:S.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==w||p(S.src)||(b||SF(e)||(S.rr_src=S.src),delete S.src);let _;try{customElements.get(w)&&(_=!0)}catch(j){}return{type:sF.Element,tagName:w,attributes:S,childNodes:[],isSVG:LF(e)||void 0,needBlock:b,rootId:m,isCustom:_}}(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:f,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:x,keepIframeSrcFn:b,newlyAddedElement:w,rootId:S,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const p="STYLE"===d||void 0,f="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(p&&h){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(h=aF(e.parentNode.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,e)}h=MF(h,FF(t.doc))}f&&(h="SCRIPT_PLACEHOLDER");const g=HF(e,r,i,s,o,n);p||f||m||!h||!g||(h=a?a(h,e.parentElement):h.replace(/[\S]/g,"*"));m&&h&&(l.textarea||g)&&(h=c?c(h,e.parentNode):h.replace(/[\S]/g,"*"));if("OPTION"===d&&h){h=dF({isMasked:HF(e,r,i,s,o,uF({type:null,tagName:d,maskInputOptions:l})),element:e,value:h,maskInputFn:c})}return{type:sF.Text,textContent:h||"",isStyle:p,rootId:u}}(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:S});case e.CDATA_SECTION_NODE:return{type:sF.CDATA,textContent:"",rootId:S};case e.COMMENT_NODE:return{type:sF.Comment,textContent:e.textContent||"",rootId:S};default:return!1}}function qF(e){return void 0===e||null===e?"":e.toLowerCase()}function KF(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:x={},inlineImages:b=!1,recordCanvas:w=!1,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:_=5e3,onStylesheetLoad:j,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:C=()=>!1,newlyAddedElement:E=!1}=t;let{preserveWhiteSpace:N=!0}=t;const A=VF(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:x,inlineImages:b,recordCanvas:w,keepIframeSrcFn:C,newlyAddedElement:E});if(!A)return console.warn(e,"not serialized"),null;let P;P=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===sF.Comment)return!0;if(e.type===sF.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"===typeof e.attributes.href&&"js"===yF(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(qF(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===qF(e.attributes.name)||"icon"===qF(e.attributes.rel)||"apple-touch-icon"===qF(e.attributes.rel)||"shortcut icon"===qF(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&qF(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(qF(e.attributes.property).match(/^(og|twitter|fb):/)||qF(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===qF(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===qF(e.attributes.name)||"googlebot"===qF(e.attributes.name)||"bingbot"===qF(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===qF(e.attributes.name)||"generator"===qF(e.attributes.name)||"framework"===qF(e.attributes.name)||"publisher"===qF(e.attributes.name)||"progid"===qF(e.attributes.name)||qF(e.attributes.property).match(/^article:/)||qF(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===qF(e.attributes.name)||"yandex-verification"===qF(e.attributes.name)||"csrf-token"===qF(e.attributes.name)||"p:domain_verify"===qF(e.attributes.name)||"verify-v1"===qF(e.attributes.name)||"verification"===qF(e.attributes.name)||"shopify-checkout-api-token"===qF(e.attributes.name)))return!0}}return!1}(A,v)&&(N||A.type!==sF.Text||A.isStyle||A.textContent.replace(/^\s+|\s+$/gm,"").length)?jF():-2;const M=Object.assign(A,{id:P});if(r.add(e,M),-2===P)return null;S&&S(e);let I=!h;if(M.type===sF.Element){I=I&&!M.needBlock,delete M.needBlock;const t=e.shadowRoot;t&&oF(t)&&(M.isShadowHost=!0)}if((M.type===sF.Document||M.type===sF.Element)&&I){v.headWhitespace&&M.type===sF.Element&&"head"===M.tagName&&(N=!1);const t={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:h,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:x,inlineImages:b,recordCanvas:w,preserveWhiteSpace:N,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:_,onStylesheetLoad:j,stylesheetLoadTimeout:T,keepIframeSrcFn:C};for(const n of Array.from(e.childNodes)){const e=KF(n,t);e&&M.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=KF(n,t);r&&(oF(e.shadowRoot)&&(r.isShadow=!0),M.childNodes.push(r))}}return e.parentNode&&iF(e.parentNode)&&oF(e.parentNode)&&(M.isShadow=!0),M.type!==sF.Element||"iframe"!==M.tagName||BF(e,s,i,o)||function(e,t,n){const r=e.contentWindow;if(!r)return;let s,i=!1;try{s=r.document.readyState}catch(a){return}if("complete"!==s){const r=bF((()=>{i||(t(),i=!0)}),n);return void e.addEventListener("load",(()=>{wF(r),i=!0,t()}))}const o="about:blank";if(r.location.href!==o||e.src===o||""===e.src)return bF(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=SF(e);if(t&&k){const n=KF(t,{doc:t,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:x,inlineImages:b,recordCanvas:w,preserveWhiteSpace:N,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:_,onStylesheetLoad:j,stylesheetLoadTimeout:T,keepIframeSrcFn:C});n&&k(e,n)}}),_),M.type===sF.Element&&"link"===M.tagName&&"string"===typeof M.attributes.rel&&("stylesheet"===M.attributes.rel||"preload"===M.attributes.rel&&"string"===typeof M.attributes.href&&"css"===yF(M.attributes.href))&&function(e,t,n){let r,s=!1;try{r=e.sheet}catch(o){return}if(r)return;const i=bF((()=>{s||(t(),s=!0)}),n);e.addEventListener("load",(()=>{wF(i),s=!0,t()}))}(e,(()=>{if(j){const t=KF(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:x,inlineImages:b,recordCanvas:w,preserveWhiteSpace:N,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:_,onStylesheetLoad:j,stylesheetLoadTimeout:T,keepIframeSrcFn:C});t&&j(e,t)}}),T),M}function QF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const YF="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let GF={map:{},getId:()=>(console.error(YF),-1),getNode:()=>(console.error(YF),null),removeNodeFromMap(){console.error(YF)},has:()=>(console.error(YF),!1),reset(){console.error(YF)}};function XF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,s=0;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];const l=Date.now();s||!1!==n.leading||(s=l);const c=t-(l-s),u=this;c<=0||c>t?(r&&(!function(){yz("clearTimeout")(...arguments)}(r),r=null),s=l,e.apply(u,o)):r||!1===n.trailing||(r=vz((()=>{s=!1===n.leading?0:Date.now(),r=null,e.apply(u,o)}),c))}}function JF(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(e){vz((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>JF(e,t,i||{},!0)}function ZF(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return"function"===typeof s&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(GF=new Proxy(GF,{get:(e,t,n)=>("map"===t&&console.error(YF),Reflect.get(e,t,n))}));let ez=Date.now;function tz(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function nz(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function rz(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function sz(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function iz(e,t,n,r,s){if(!e)return!1;const i=sz(e);if(!i)return!1;const o=WF(t,n);if(!s){const e=r&&i.matches(r);return o(i)&&!e}const a=UF(i,o);let l=-1;return!(a<0)&&(r&&(l=UF(i,WF(null,r))),a>-1&&l<0||a<l)}function oz(e,t){return-2===t.getId(e)}function az(e,t){if(iF(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||az(e.parentNode,t))}function lz(e){return Boolean(e.changedTouches)}function cz(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function uz(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function dz(e){return Boolean(e?.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(ez=()=>(new Date).getTime());class hz{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return this.styleIDMap.get(e)??-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function pz(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function fz(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=pz(n);)n=t;return n}(e);return t.contains(n)}function mz(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||fz(e))}const gz={};function yz(e){const t=gz[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"===typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const s=t.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(t)}catch(s){}return gz[e]=r.bind(window)}function vz(){return yz("setTimeout")(...arguments)}var xz=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(xz||{}),bz=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(bz||{}),wz=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(wz||{}),Sz=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Sz||{}),kz=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(kz||{});function _z(e){try{return e.contentDocument}catch(t){}}function jz(e){return"__ln"in e}class Tz{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=t?.next||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&jz(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&jz(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Cz=(e,t)=>`${e}@${t}`;class Ez{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Tz,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},s=s=>{if(!s.parentNode||!mz(s))return;const i=iF(s.parentNode)?this.mirror.getId(pz(s)):this.mirror.getId(s.parentNode),o=r(s);if(-1===i||-1===o)return n.addNode(s);const a=KF(s,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{cz(e,this.mirror)&&!iz(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),uz(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),dz(s)&&this.shadowDomManager.addShadowRoot(s.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{iz(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:i,nextId:o,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const a of this.movedSet)Az(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||s(a);for(const a of this.addedSet)Pz(this.droppedSet,a)||Az(this.removes,a,this.mirror)?Pz(this.movedSet,a)?s(a):this.droppedSet.add(a):s(a);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),s(e.value)}const o={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"===typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(o.texts.length||o.attributes.length||o.removes.length||o.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=e=>{if(!oz(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;iz(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:HF(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,sz(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const n=e.target;let r=e.attributeName,s=e.target.getAttribute(r);if("value"===r){const t=mF(n),r=n.tagName;s=gF(n,r,t);const i=uF({maskInputOptions:this.maskInputOptions,tagName:r,type:t});s=dF({isMasked:HF(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:n,value:s,maskInputFn:this.maskInputFn})}if(iz(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===n.tagName&&"src"===r&&!this.keepIframeSrcFn(s)){if(_z(n))return;r="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===r&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!$F(n.tagName,r)&&(i.attributes[r]=zF(this.doc,hF(n.tagName),hF(r),s,n,this.maskAttributeFn),"style"===r)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){this.unattachedDoc=this.doc}const r=this.unattachedDoc.createElement("span");e.oldValue&&r.setAttribute("style",e.oldValue);for(const e of Array.from(n.style)){const t=n.style.getPropertyValue(e),s=n.style.getPropertyPriority(e);t!==r.style.getPropertyValue(e)||s!==r.style.getPropertyPriority(e)?i.styleDiff[e]=""===s?t:[t,s]:i._unchangedStyles[e]=[t,s]}for(const e of Array.from(r.style))""===n.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(iz(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=iF(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);iz(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||oz(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Nz(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||az(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Cz(n,r)]?Nz(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!iF(e.target)||!oF(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(oz(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[Cz(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);iz(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),dz(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Nz(e,t){e.delete(t),t.childNodes.forEach((t=>Nz(e,t)))}function Az(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){const t=n.getId(r);if(e.some((e=>e.id===t)))return!0;r=r.parentNode}return!1}(e,t,n)}function Pz(e,t){return 0!==e.size&&Mz(e,t)}function Mz(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Mz(e,n))}let Iz;const Rz=e=>{if(!Iz)return e;return function(){try{return e(...arguments)}catch(t){if(Iz&&!0===Iz(t))return()=>{};throw t}}},Oz=[];function Dz(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Lz(e,t){const n=new Ez;Oz.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=window?.Zone?.__symbol__?.("MutationObserver");s&&window[s]&&(r=window[s]);const i=new r(Rz((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Fz(e){let{mouseInteractionCb:t,doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,sampling:a}=e;if(!1===a.mouseInteraction)return()=>{};const l=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[];let u=null;return Object.keys(wz).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==l[e])).forEach((e=>{let a=hF(e);const l=(e=>n=>{const a=Dz(n);if(iz(a,s,i,o,!0))return;let l=null,c=e;if("pointerType"in n){switch(n.pointerType){case"mouse":l=Sz.Mouse;break;case"touch":l=Sz.Touch;break;case"pen":l=Sz.Pen}l===Sz.Touch?wz[e]===wz.MouseDown?c="TouchStart":wz[e]===wz.MouseUp&&(c="TouchEnd"):Sz.Pen}else lz(n)&&(l=Sz.Touch);null!==l?(u=l,(c.startsWith("Touch")&&l===Sz.Touch||c.startsWith("Mouse")&&l===Sz.Mouse)&&(l=null)):wz[e]===wz.Click&&(l=u,u=null);const d=lz(n)?n.changedTouches[0]:n;if(!d)return;const h=r.getId(a),{clientX:p,clientY:f}=d;Rz(t)({type:wz[c],id:h,x:p,y:f,...null!==l&&{pointerType:l}})})(e);if(window.PointerEvent)switch(wz[e]){case wz.MouseDown:case wz.MouseUp:a=a.replace("mouse","pointer");break;case wz.TouchStart:case wz.TouchEnd:return}c.push(QF(a,l,n))})),Rz((()=>{c.forEach((e=>e()))}))}function zz(e){let{scrollCb:t,doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,sampling:a}=e;return QF("scroll",Rz(XF(Rz((e=>{const a=Dz(e);if(!a||iz(a,s,i,o,!0))return;const l=r.getId(a);if(a===n&&n.defaultView){const e=tz(n.defaultView);t({id:l,x:e.left,y:e.top})}else t({id:l,x:a.scrollLeft,y:a.scrollTop})})),a.scroll||100)),n)}const $z=["INPUT","TEXTAREA","SELECT"],Bz=new WeakMap;function Uz(e){let{inputCb:t,doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,ignoreClass:a,ignoreSelector:l,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:h,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g}=e;function y(e){let t=Dz(e);const r=e.isTrusted,d=t&&pF(t.tagName);if("OPTION"===d&&(t=t.parentElement),!t||!d||$z.indexOf(d)<0||iz(t,s,i,o,!0))return;const y=t;if(y.classList.contains(a)||l&&y.matches(l))return;const x=mF(t);let b=gF(y,d,x),w=!1;const S=uF({maskInputOptions:c,tagName:d,type:x}),k=HF(t,p,m,f,g,S);"radio"!==x&&"checkbox"!==x||(w=t.checked),b=dF({isMasked:k,element:t,value:b,maskInputFn:u}),v(t,h?{text:b,isChecked:w,userTriggered:r}:{text:b,isChecked:w});const _=t.name;"radio"===x&&_&&w&&n.querySelectorAll(`input[type="radio"][name="${_}"]`).forEach((e=>{if(e!==t){const t=dF({isMasked:k,element:e,value:gF(e,d,x),maskInputFn:u});v(e,h?{text:t,isChecked:!w,userTriggered:!1}:{text:t,isChecked:!w})}}))}function v(e,n){const s=Bz.get(e);if(!s||s.text!==n.text||s.isChecked!==n.isChecked){Bz.set(e,n);const s=r.getId(e);Rz(t)({...n,id:s})}}const x=("last"===d.input?["change"]:["input","change"]).map((e=>QF(e,Rz(y),n))),b=n.defaultView;if(!b)return()=>{x.forEach((e=>e()))};const w=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),S=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return w&&w.set&&x.push(...S.map((e=>JF(e[0],e[1],{set(){Rz(y)({target:this,isTrusted:!1})}},!1,b)))),Rz((()=>{x.forEach((e=>e()))}))}function Wz(e){return function(e,t){if(Kz("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Kz("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Kz("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Kz("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function Hz(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Vz(e,t){let{mirror:n,stylesheetManager:r}=e,s=null;s="#document"===t.nodeName?n.getId(t):n.getId(t.host);const i="#document"===t.nodeName?t.defaultView?.Document:t.ownerDocument?.defaultView?.ShadowRoot,o=i?.prototype?Object.getOwnPropertyDescriptor(i?.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&i&&o?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return o.get?.call(this)},set(e){const t=o.set?.call(this,e);if(null!==s&&-1!==s)try{r.adoptStyleSheets(e,s)}catch(n){}return t}}),Rz((()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))):()=>{}}function qz(e){const t=e.doc.defaultView;if(!t)return()=>{};let n;e.recordDOM&&(n=Lz(e,e.doc));const r=function(e){let{mousemoveCb:t,sampling:n,doc:r,mirror:s}=e;if(!1===n.mousemove)return()=>{};const i="number"===typeof n.mousemove?n.mousemove:50,o="number"===typeof n.mousemoveCallback?n.mousemoveCallback:500;let a,l=[];const c=XF(Rz((e=>{const n=Date.now()-a;t(l.map((e=>(e.timeOffset-=n,e))),e),l=[],a=null})),o),u=Rz(XF(Rz((e=>{const t=Dz(e),{clientX:n,clientY:r}=lz(e)?e.changedTouches[0]:e;a||(a=ez()),l.push({x:n,y:r,id:s.getId(t),timeOffset:ez()-a}),c("undefined"!==typeof DragEvent&&e instanceof DragEvent?bz.Drag:e instanceof MouseEvent?bz.MouseMove:bz.TouchMove)})),i,{trailing:!1})),d=[QF("mousemove",u,r),QF("touchmove",u,r),QF("drag",u,r)];return Rz((()=>{d.forEach((e=>e()))}))}(e),s=Fz(e),i=zz(e),o=function(e,t){let{viewportResizeCb:n}=e,{win:r}=t,s=-1,i=-1;return QF("resize",Rz(XF(Rz((()=>{const e=nz(),t=rz();s===e&&i===t||(n({width:Number(t),height:Number(e)}),s=e,i=t)})),200)),r)}(e,{win:t}),a=Uz(e),l=function(e){let{mediaInteractionCb:t,blockClass:n,blockSelector:r,unblockSelector:s,mirror:i,sampling:o,doc:a}=e;const l=Rz((e=>XF(Rz((o=>{const a=Dz(o);if(!a||iz(a,n,r,s,!0))return;const{currentTime:l,volume:c,muted:u,playbackRate:d}=a;t({type:e,id:i.getId(a),currentTime:l,volume:c,muted:u,playbackRate:d})})),o.media||500))),c=[QF("play",l(kz.Play),a),QF("pause",l(kz.Pause),a),QF("seeked",l(kz.Seeked),a),QF("volumechange",l(kz.VolumeChange),a),QF("ratechange",l(kz.RateChange),a)];return Rz((()=>{c.forEach((e=>e()))}))}(e);let c=()=>{},u=()=>{},d=()=>{},h=()=>{};e.recordDOM&&(c=function(e,t){let{styleSheetRuleCb:n,mirror:r,stylesheetManager:s}=e,{win:i}=t;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return()=>{};const o=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Rz(((e,t,i)=>{const[o,a]=i,{id:l,styleId:c}=Hz(t,r,s.styleMirror);return(l&&-1!==l||c&&-1!==c)&&n({id:l,styleId:c,adds:[{rule:o,index:a}]}),e.apply(t,i)}))});const a=i.CSSStyleSheet.prototype.deleteRule;let l,c;i.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:Rz(((e,t,i)=>{const[o]=i,{id:a,styleId:l}=Hz(t,r,s.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,removes:[{index:o}]}),e.apply(t,i)}))}),i.CSSStyleSheet.prototype.replace&&(l=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(l,{apply:Rz(((e,t,i)=>{const[o]=i,{id:a,styleId:l}=Hz(t,r,s.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,replace:o}),e.apply(t,i)}))})),i.CSSStyleSheet.prototype.replaceSync&&(c=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:Rz(((e,t,i)=>{const[o]=i,{id:a,styleId:l}=Hz(t,r,s.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,replaceSync:o}),e.apply(t,i)}))}));const u={};Qz("CSSGroupingRule")?u.CSSGroupingRule=i.CSSGroupingRule:(Qz("CSSMediaRule")&&(u.CSSMediaRule=i.CSSMediaRule),Qz("CSSConditionRule")&&(u.CSSConditionRule=i.CSSConditionRule),Qz("CSSSupportsRule")&&(u.CSSSupportsRule=i.CSSSupportsRule));const d={};return Object.entries(u).forEach((e=>{let[t,i]=e;d[t]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(d[t].insertRule,{apply:Rz(((e,t,i)=>{const[o,a]=i,{id:l,styleId:c}=Hz(t.parentStyleSheet,r,s.styleMirror);return(l&&-1!==l||c&&-1!==c)&&n({id:l,styleId:c,adds:[{rule:o,index:[...Wz(t),a||0]}]}),e.apply(t,i)}))}),i.prototype.deleteRule=new Proxy(d[t].deleteRule,{apply:Rz(((e,t,i)=>{const[o]=i,{id:a,styleId:l}=Hz(t.parentStyleSheet,r,s.styleMirror);return(a&&-1!==a||l&&-1!==l)&&n({id:a,styleId:l,removes:[{index:[...Wz(t),o]}]}),e.apply(t,i)}))})})),Rz((()=>{i.CSSStyleSheet.prototype.insertRule=o,i.CSSStyleSheet.prototype.deleteRule=a,l&&(i.CSSStyleSheet.prototype.replace=l),c&&(i.CSSStyleSheet.prototype.replaceSync=c),Object.entries(u).forEach((e=>{let[t,n]=e;n.prototype.insertRule=d[t].insertRule,n.prototype.deleteRule=d[t].deleteRule}))}))}(e,{win:t}),u=Vz(e,e.doc),d=function(e,t){let{styleDeclarationCb:n,mirror:r,ignoreCSSAttributes:s,stylesheetManager:i}=e,{win:o}=t;const a=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:Rz(((e,t,o)=>{const[l,c,u]=o;if(s.has(l))return a.apply(t,[l,c,u]);const{id:d,styleId:h}=Hz(t.parentRule?.parentStyleSheet,r,i.styleMirror);return(d&&-1!==d||h&&-1!==h)&&n({id:d,styleId:h,set:{property:l,value:c,priority:u},index:Wz(t.parentRule)}),e.apply(t,o)}))});const l=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(l,{apply:Rz(((e,t,o)=>{const[a]=o;if(s.has(a))return l.apply(t,[a]);const{id:c,styleId:u}=Hz(t.parentRule?.parentStyleSheet,r,i.styleMirror);return(c&&-1!==c||u&&-1!==u)&&n({id:c,styleId:u,remove:{property:a},index:Wz(t.parentRule)}),e.apply(t,o)}))}),Rz((()=>{o.CSSStyleDeclaration.prototype.setProperty=a,o.CSSStyleDeclaration.prototype.removeProperty=l}))}(e,{win:t}),e.collectFonts&&(h=function(e){let{fontCb:t,doc:n}=e;const r=n.defaultView;if(!r)return()=>{};const s=[],i=new WeakMap,o=r.FontFace;r.FontFace=function(e,t,n){const r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!==typeof t,descriptors:n,fontSource:"string"===typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const a=ZF(n.fonts,"add",(function(e){return function(n){return vz(Rz((()=>{const e=i.get(n);e&&(t(e),i.delete(n))})),0),e.apply(this,[n])}}));return s.push((()=>{r.FontFace=o})),s.push(a),Rz((()=>{s.forEach((e=>e()))}))}(e)));const p=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const l=Rz((()=>{const e=t.getSelection();if(!e||a&&e?.isCollapsed)return;a=e.isCollapsed||!1;const l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const o=e.getRangeAt(t),{startContainer:a,startOffset:c,endContainer:u,endOffset:d}=o;iz(a,r,s,i,!0)||iz(u,r,s,i,!0)||l.push({start:n.getId(a),startOffset:c,end:n.getId(u),endOffset:d})}o({ranges:l})}));return l(),QF("selectionchange",l)}(e),f=function(e){let{doc:t,customElementCb:n}=e;const r=t.defaultView;return r&&r.customElements?ZF(r.customElements,"define",(function(e){return function(t,r,s){try{n({define:{name:t}})}catch(i){}return e.apply(this,[t,r,s])}})):()=>{}}(e),m=[];for(const g of e.plugins)m.push(g.observer(g.callback,t,g.options));return Rz((()=>{Oz.forEach((e=>e.reset())),n?.disconnect(),r(),s(),i(),o(),a(),l(),c(),u(),d(),h(),p(),f(),m.forEach((e=>e()))}))}function Kz(e){return"undefined"!==typeof window[e]}function Qz(e){return Boolean("undefined"!==typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Yz{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const s=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e);let o=s.get(t);return o||(o=this.generateIdFn(),s.set(t,o),i.set(o,t)),o}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!==typeof t)return t;const s=r.get(t);return s||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class Gz{constructor(){this.crossOriginIframeMirror=new Yz(jF),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Xz{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Yz(jF),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Yz(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&e.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(e);const n=_z(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case xz.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:xz.IncrementalSnapshot,data:{source:bz.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case xz.Meta:case xz.Load:case xz.DomContentLoaded:return!1;case xz.Plugin:return t;case xz.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case xz.IncrementalSnapshot:switch(t.data.source){case bz.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case bz.Drag:case bz.TouchMove:case bz.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case bz.ViewportResize:return!1;case bz.MediaInteraction:case bz.MouseInteraction:case bz.Scroll:case bz.CanvasMutation:case bz.Input:return this.replaceIds(t.data,e,["id"]),t;case bz.StyleSheetRule:case bz.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case bz.Font:return t;case bz.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case bz.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),t.data.styles?.forEach((t=>{this.replaceStyleIds(t,e,["styleId"])})),t}}return!1}replace(e,t,n,r){for(const s of r)(Array.isArray(t[s])||"number"===typeof t[s])&&(Array.isArray(t[s])?t[s]=e.getIds(n,t[s]):t[s]=e.getId(n,t[s]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===sF.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class Jz{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Zz{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!oF(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);const n=Lz({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(zz({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),vz((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Vz({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){const t=_z(e),n=function(e){try{return e.contentWindow}catch(t){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(ZF(e.prototype,"attachShadow",(function(e){return function(r){const s=e.call(this,r);return this.shadowRoot&&mz(this)&&n.addShadowRoot(this.shadowRoot,t),s}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}for(var e$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t$="undefined"===typeof Uint8Array?[]:new Uint8Array(256),n$=0;n$<64;n$++)t$[e$.charCodeAt(n$)]=n$;class r${reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class s${constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new hz,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const s of e){let e;this.styleMirror.has(s)?e=this.styleMirror.getId(s):(e=this.styleMirror.add(s),r.push({styleId:e,rules:Array.from(s.rules||CSSRule,((e,t)=>({rule:lF(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class i${constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.active||(this.active=!0,function(){yz("requestAnimationFrame")(...arguments)}((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}let o$,a$;try{if(2!==Array.from([1],(e=>2*e))[0]){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(sU){console.debug("Unable to override Array.from",sU)}const l$=new cF;function c$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:h=null,unmaskTextSelector:p=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:v,maskInputFn:x,maskTextFn:b,maxCanvasSize:w=null,packFn:S,sampling:k={},dataURLOptions:_={},mousemoveWait:j,recordDOM:T=!0,recordCanvas:C=!1,recordCrossOriginIframes:E=!1,recordAfter:N=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:A=!1,collectFonts:P=!1,inlineImages:M=!1,plugins:I,keepIframeSrcFn:R=()=>!1,ignoreCSSAttributes:O=new Set([]),errorHandler:D,onMutation:L,getCanvasManager:F}=e;Iz=D;const z=!E||window.parent===window;let $=!1;if(!z)try{window.parent.document&&($=!1)}catch(te){$=!0}if(z&&!t)throw new Error("emit function is required");if(!z&&!$)return()=>{};void 0!==j&&void 0===k.mousemove&&(k.mousemove=j),l$.reset();const B=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},U=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let W;!function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let s=n[0];if(!(0 in n))throw new TypeError("1 argument is required");do{if(e===s)return!0}while(s=s&&s.parentNode);return!1})}();let H=0;const V=e=>{for(const t of I||[])t.eventProcessor&&(e=t.eventProcessor(e));return S&&!$&&(e=S(e)),e};o$=(e,s)=>{const i=e;if(i.timestamp=ez(),!Oz[0]?.isFrozen()||i.type===xz.FullSnapshot||i.type===xz.IncrementalSnapshot&&i.data.source===bz.Mutation||Oz.forEach((e=>e.unfreeze())),z)t?.(V(i),s);else if($){const e={type:"rrweb",event:V(i),origin:window.location.origin,isCheckout:s};window.parent.postMessage(e,"*")}if(i.type===xz.FullSnapshot)W=i,H=0;else if(i.type===xz.IncrementalSnapshot){if(i.data.source===bz.Mutation&&i.data.isAttachIframe)return;H++;const e=r&&H>=r,t=n&&W&&i.timestamp-W.timestamp>n;(e||t)&&ee(!0)}};const q=e=>{o$({type:xz.IncrementalSnapshot,data:{source:bz.Mutation,...e}})},K=e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.Scroll,...e}}),Q=e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.CanvasMutation,...e}}),Y=new s$({mutationCb:q,adoptedStyleSheetCb:e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.AdoptedStyleSheet,...e}})}),G="boolean"===typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new Gz:new Xz({mirror:l$,mutationCb:q,stylesheetManager:Y,recordCrossOriginIframes:E,wrappedEmit:o$});for(const re of I||[])re.getMirror&&re.getMirror({nodeMirror:l$,crossOriginIframeMirror:G.crossOriginIframeMirror,crossOriginIframeStyleMirror:G.crossOriginIframeStyleMirror});const X=new i$,J=function(e,t){try{return e?e(t):new r$}catch{return console.warn("Unable to initialize CanvasManager"),new r$}}(F,{mirror:l$,win:window,mutationCb:e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.CanvasMutation,...e}}),recordCanvas:C,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:w,sampling:k.canvas,dataURLOptions:_,errorHandler:D}),Z="boolean"===typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Jz:new Zz({mutationCb:q,scrollCb:K,bypassOptions:{onMutation:L,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:B,dataURLOptions:_,maskAttributeFn:v,maskTextFn:b,maskInputFn:x,recordCanvas:C,inlineImages:M,sampling:k,slimDOMOptions:U,iframeManager:G,stylesheetManager:Y,canvasManager:J,keepIframeSrcFn:R,processedNodeManager:X},mirror:l$}),ee=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!T)return;o$({type:xz.Meta,data:{href:window.location.href,width:rz(),height:nz()}},e),Y.reset(),Z.init(),Oz.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new cF,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:x,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:_,stylesheetLoadTimeout:j,keepIframeSrcFn:T=()=>!1}=t||{};return KF(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:x,inlineImages:h,recordCanvas:p,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:_,stylesheetLoadTimeout:j,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:l$,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:f,maskAllInputs:B,maskAttributeFn:v,maskInputFn:x,maskTextFn:b,slimDOM:U,dataURLOptions:_,recordCanvas:C,inlineImages:M,onSerialize:e=>{cz(e,l$)&&G.addIframe(e),uz(e,l$)&&Y.trackLinkElement(e),dz(e)&&Z.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{G.attachIframe(e,t),e.contentWindow&&J.addWindow(e.contentWindow),Z.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Y.attachLinkElement(e,t)},keepIframeSrcFn:R});if(!t)return console.warn("Failed to snapshot the document");o$({type:xz.FullSnapshot,data:{node:t,initialOffset:tz(window)}}),Oz.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Y.adoptStyleSheets(document.adoptedStyleSheets,l$.getId(document))};a$=ee;try{const e=[],t=e=>Rz(qz)({onMutation:L,mutationCb:q,mousemoveCb:(e,t)=>o$({type:xz.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.MouseInteraction,...e}}),scrollCb:K,viewportResizeCb:e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.ViewportResize,...e}}),inputCb:e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.Input,...e}}),mediaInteractionCb:e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.MediaInteraction,...e}}),styleSheetRuleCb:e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.StyleSheetRule,...e}}),styleDeclarationCb:e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.StyleDeclaration,...e}}),canvasMutationCb:Q,fontCb:e=>o$({type:xz.IncrementalSnapshot,data:{source:bz.Font,...e}}),selectionCb:e=>{o$({type:xz.IncrementalSnapshot,data:{source:bz.Selection,...e}})},customElementCb:e=>{o$({type:xz.IncrementalSnapshot,data:{source:bz.CustomElement,...e}})},blockClass:s,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:h,unmaskTextSelector:p,maskInputOptions:B,inlineStylesheet:f,sampling:k,recordDOM:T,recordCanvas:C,inlineImages:M,userTriggeredOnInput:A,collectFonts:P,doc:e,maskAttributeFn:v,maskInputFn:x,maskTextFn:b,keepIframeSrcFn:R,blockSelector:i,unblockSelector:o,slimDOMOptions:U,dataURLOptions:_,mirror:l$,iframeManager:G,stylesheetManager:Y,shadowDomManager:Z,processedNodeManager:X,canvasManager:J,ignoreCSSAttributes:O,plugins:I?.filter((e=>e.observer))?.map((e=>({observer:e.observer,options:e.options,callback:t=>o$({type:xz.Plugin,data:{plugin:e.name,payload:t}})})))||[]},{});G.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(r){console.warn(r)}}));const n=()=>{ee(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(QF("DOMContentLoaded",(()=>{o$({type:xz.DomContentLoaded,data:{}}),"DOMContentLoaded"===N&&n()}))),e.push(QF("load",(()=>{o$({type:xz.Load,data:{}}),"load"===N&&n()}),window))),()=>{e.forEach((e=>e())),X.destroy(),a$=void 0,Iz=void 0}}catch(ne){console.warn(ne)}}var u$,d$;c$.mirror=l$,c$.takeFullSnapshot=function(e){if(!a$)throw new Error("please take full snapshot after start recording");a$(e)},(d$=u$||(u$={}))[d$.NotStarted=0]="NotStarted",d$[d$.Running=1]="Running",d$[d$.Stopped=2]="Stopped";function h$(e){return e>9999999999?e:1e3*e}function p$(e){return e>9999999999?e/1e3:e}function f$(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:xz.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:ni(t,10,1e3)}}),"console"===t.category))))}function m$(e){return e.closest("button,a")||e}function g$(e){const t=y$(e);return t&&t instanceof Element?m$(t):t}function y$(e){return function(e){return"object"===typeof e&&!!e&&"target"in e}(e)?e.target:e}let v$;function x$(e){return v$||(v$=[],ns(qL,"open",(function(e){return function(){if(v$)try{v$.forEach((e=>e()))}catch(nU){}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qL,n)}}))),v$.push(e),()=>{const t=v$?v$.indexOf(e):-1;t>-1&&v$.splice(t,1)}}const b$=new Set([bz.Mutation,bz.StyleSheetRule,bz.StyleDeclaration,bz.AdoptedStyleSheet,bz.CanvasMutation,bz.Selection,bz.MediaInteraction]);class w${constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f$;this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=x$((()=>{this._lastMutation=k$()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!S$.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!==typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:p$(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=p$(e)}registerScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=p$(e)}registerClick(e){const t=m$(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=k$();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const n of e){const e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,s=!n&&!r,{clickCount:i,clickBreadcrumb:o}=e;if(s){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",s={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:{...o.data,url:qL.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(t,s)}else if(i>1){const e={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:{...o.data,url:qL.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=IO((()=>this._checkClicks()),1e3)}}const S$=["A","BUTTON","INPUT"];function k$(){return Date.now()/1e3}function _$(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(b$.has(n)&&e.registerMutation(t.timestamp),n===bz.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===bz.MouseInteraction}(t)){const{type:n,id:r}=t.data,s=c$.mirror.getNode(r);s instanceof HTMLElement&&n===wz.Click&&e.registerClick(s)}}catch{}}function j$(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var T$=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(T$||{});const C$=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function E$(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(C$.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const N$=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?g$(e.event):y$(e.event),n=Wr(r,{maxStringLength:200})||"<unknown>"}catch(nU){n="<unknown>"}return{target:r,message:n}}(e);return j$({category:`ui.${e.name}`,...A$(t,n)})}(t);if(!n)return;const r="click"===t.name,s=r?t.event:void 0;var i,o,a;!(r&&e.clickDetector&&s&&s.target)||s.altKey||s.metaKey||s.ctrlKey||s.shiftKey||(i=e.clickDetector,o=n,a=g$(t.event),i.handleClick(o,a)),f$(e,n)};function A$(e,t){const n=c$.mirror.getId(e),r=n&&c$.mirror.getNode(n),s=r&&c$.mirror.getMeta(r),i=s&&function(e){return e.type===T$.Element}(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map((e=>e.type===T$.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:E$(i.attributes)}}:{}}}function P$(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(o)||!i)return null;const a=t||r||s,l=1===i.length;if(!a&&l)return null;const c=Wr(o,{maxStringLength:200})||"<unknown>",u=A$(o,c);return j$({category:"ui.keyDown",message:c,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}(t);n&&f$(e,n)}const M$={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:c}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:O$(i),end:O$(s),name:r,data:{size:c,statusCode:l,decodedBodySize:o,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=O$(s);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:h,startTime:p,transferSize:f,type:m}=e;if(0===s)return null;return{type:`${t}.${m}`,start:O$(p),end:O$(i),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:i,redirectCount:h}}}};function I$(e,t){return n=>{let{metric:r}=n;t.replayPerformanceEntries.push(e(r))}}function R$(e){const t=M$[e.entryType];return t?t(e):null}function O$(e){return((Er()||qL.performance.timeOrigin)+e)/1e3}function D$(e){const t=e.entries[e.entries.length-1];return B$(e,"largest-contentful-paint",t?.element?[t.element]:void 0)}function L$(e){return void 0!==e.sources}function F$(e){const t=[],n=[];for(const r of e.entries)if(L$(r)){const e=[];for(const t of r.sources)if(t.node){n.push(t.node);const r=c$.mirror.getId(t.node);r&&e.push(r)}t.push({value:r.value,nodeIds:e.length?e:void 0})}return B$(e,"cumulative-layout-shift",n,t)}function z$(e){const t=e.entries[e.entries.length-1];return B$(e,"first-input-delay",t?.target?[t.target]:void 0)}function $$(e){const t=e.entries[e.entries.length-1];return B$(e,"interaction-to-next-paint",t?.target?[t.target]:void 0)}function B$(e,t,n,r){const s=e.value,i=e.rating,o=O$(s);return{type:"web-vital",name:t,start:o,end:o,data:{value:s,size:s,rating:i,nodeIds:n?n.map((e=>c$.mirror.getId(e))):void 0,attributions:r}}}const U$="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;const W$=["info","warn","error","log"],H$="[Replay] ";function V$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";VR({category:"console",data:{logger:"replay"},level:t,message:`${H$}${e}`},{level:t})}const q$=function(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=!!n.captureExceptions,t=!!n.traceInternals}};return U$?(W$.forEach((e=>{n[e]=function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];Xr[e](H$,...r),t&&V$(r.join(""),qR(e))}})),n.exception=function(r){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];i.length&&n.error&&n.error(...i),Xr.error(H$,r),e?ro(r):t&&V$(r,"error")},n.infoTick=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Xr.info(H$,...n),t&&setTimeout((()=>V$(n[0])),0)}):W$.forEach((e=>{n[e]=()=>{}})),n}();class K$ extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Q${constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>ZL)throw new K$;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?h$(e):null}}class Y${constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(n=>{let{data:r}=n;r.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){U$&&q$.info("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,s)=>{const i=t=>{let{data:o}=t;const a=o;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",i),!a.success)return U$&&q$.error("Error in compression worker: ",a.response),void s(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class G${constructor(e){this._worker=new Y$(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=h$(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>ZL?Promise.reject(new K$):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{U$&&q$.exception(e,'Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class X${constructor(e){this._fallback=new Q$,this._compression=new G$(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void(U$&&q$.exception(e,"Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(const i of e)r.push(this._compression.addEvent(i));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(s){U$&&q$.exception(s,"Failed to add events when switching buffers.")}}}function J$(e){let{useCompression:t,workerUrl:n}=e;if(t&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"===typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort((function(t,n){return p[n.s]-p[t.s]||t.f-n.f}));s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){G.prototype.flush.call(this)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),s=i.length;return q(i,n),j(i,s-8,r.d()),j(i,s-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;U$&&q$.info("Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new X$(n)}catch(t){U$&&q$.exception(t,"Failed to create compression worker")}}(n);if(e)return e}return U$&&q$.info("Using simple buffer"),new Q$}function Z$(){try{return"sessionStorage"in qL&&!!qL.sessionStorage}catch{return!1}}function eB(e){!function(){if(!Z$())return;try{qL.sessionStorage.removeItem(KL)}catch{}}(),e.session=void 0}function tB(e){return void 0!==e&&Math.random()<e}function nB(e){const t=Date.now();return{id:e.id||ds(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function rB(e){if(Z$())try{qL.sessionStorage.setItem(KL,JSON.stringify(e))}catch{}}function sB(e){let{sessionSampleRate:t,allowBuffering:n,stickySession:r=!1}=e,{previousSessionId:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=function(e,t){return tB(e)?"session":!!t&&"buffer"}(t,n),o=nB({sampled:i,previousSessionId:s});return r&&rB(o),o}function iB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function oB(e,t){let{maxReplayDuration:n,sessionIdleExpire:r,targetTime:s=Date.now()}=t;return iB(e.started,n,s)||iB(e.lastActivity,r,s)}function aB(e,t){let{sessionIdleExpire:n,maxReplayDuration:r}=t;return!!oB(e,{sessionIdleExpire:n,maxReplayDuration:r})&&("buffer"!==e.sampled||0!==e.segmentId)}function lB(e,t){let{sessionIdleExpire:n,maxReplayDuration:r,previousSessionId:s}=e;const i=t.stickySession&&function(){if(!Z$())return null;try{const e=qL.sessionStorage.getItem(KL);if(!e)return null;const t=JSON.parse(e);return U$&&q$.infoTick("Loading existing session"),nB(t)}catch{return null}}();return i?aB(i,{sessionIdleExpire:n,maxReplayDuration:r})?(U$&&q$.infoTick("Session in sessionStorage is expired, creating new one..."),sB(t,{previousSessionId:i.id})):i:(U$&&q$.infoTick("Creating new session"),sB(t,{previousSessionId:s}))}function cB(e,t,n){return!!dB(e,t)&&(uB(e,t,n),!0)}async function uB(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s="buffer"===e.recordingMode;try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=function(e,t){try{if("function"===typeof t&&function(e){return e.type===xz.Custom}(e))return t(e)}catch(n){return U$&&q$.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!i)return;return await r.addEvent(i)}catch(i){const t=i&&i instanceof K$,n=t?"addEventSizeExceeded":"addEvent";if(t&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:n});const o=Os();o&&o.recordDroppedEvent("internal_sdk_error","replay")}}function dB(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=h$(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(U$&&q$.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1))}function hB(e){return!e.type}function pB(e){return"transaction"===e.type}function fB(e){return"feedback"===e.type}function mB(e){return(t,n)=>{if(!e.isEnabled()||!hB(t)&&!pB(t))return;const r=n?.statusCode;!r||r<200||r>=300||(pB(t)?function(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,t):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"===typeof r&&!r(t))return;IO((async()=>{try{await e.sendBufferedReplayOrFlush()}catch(sU){e.handleException(sU)}}))}(e,t))}}function gB(e){return t=>{e.isEnabled()&&hB(t)&&function(e,t){const n=t.exception?.values?.[0]?.value;if("string"!==typeof n)return;if(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){f$(e,j$({category:"replay.hydrate-error",data:{url:Vr()}}))}}(e,t)}}function yB(e){const t=Os();t&&t.on("beforeAddBreadcrumb",(t=>function(e,t){if(!e.isEnabled()||!vB(t))return;const n=function(e){if(!vB(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){const t=e.data?.arguments;if(!Array.isArray(t)||0===t.length)return j$(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"===typeof e)return e.length>JL?(n=!0,`${e.slice(0,JL)}\u2026`):e;if("object"===typeof e)try{const t=ni(e,7);return JSON.stringify(t).length>JL?(n=!0,`${JSON.stringify(t,null,2).slice(0,JL)}\u2026`):t}catch{}return e}));return j$({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e);return j$(e)}(t);n&&f$(e,n)}(e,t)))}function vB(e){return!!e.category}function xB(){const e=Ms().getPropagationContext().dsc;e&&delete e.replay_id;const t=Hi();if(t){delete Gi(t).replay_id}}function bB(e){return Object.assign(((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!hB(t)&&!pB(t)&&!fB(t))return t;if(!e.checkAndHandleExpiredSession())return xB(),t;if(fB(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:xz.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length)&&!!t.originalException?.__rrweb__}(t,n)&&!e.getOptions()._experiments.captureExceptions)return U$&&q$.log("Ignoring error from rrweb internals",t),null;const r=function(e,t){return"buffer"===e.recordingMode&&t.message!==QL&&!(!t.exception||t.type)&&tB(e.getOptions().errorSampleRate)}(e,t);return(r||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),t}),{id:"Replay"})}function wB(e,t){return t.map((t=>{let{type:n,start:r,end:s,name:i,data:o}=t;const a=e.throttledAddEvent({type:xz.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return"string"===typeof a?Promise.resolve(null):a}))}function SB(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(wB(e,[n]),!1))))}}function kB(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!U$||!e.getOptions()._experiments.traceInternals)&&zL(t,Os())}(e,t.name)||e.addUpdate((()=>(wB(e,[t]),!0))))}function _B(e){if(!e)return;const t=new TextEncoder;try{if("string"===typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=WL(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function jB(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function TB(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function CB(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:i,statusCode:o,request:a,response:l}}}function EB(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function NB(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=function(e){if(!e||"string"!==typeof e)return{body:e};const t=e.length>XL,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,XL);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}(n);return r.body=s,i?.length&&(r._meta={warnings:i}),r}function AB(e,t){return Object.entries(e).reduce(((n,r)=>{let[s,i]=r;const o=s.toLowerCase();return t.includes(o)&&e[s]&&(n[o]=i),n}),{})}function PB(e,t){const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qL.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(qL.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return ts(n,t)}async function MB(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,d=PB(o,n.networkDetailAllowUrls)&&!PB(o,n.networkDetailDenyUrls),h=d?function(e,t,n){let{networkCaptureBodies:r,networkRequestHeaders:s}=e;const i=t?function(e,t){if(1===e.length&&"string"!==typeof e[0])return RB(e[0],t);if(2===e.length)return RB(e[1],t);return{}}(t,s):{};if(!r)return NB(i,n,void 0);const o=VL(t),[a,l]=HL(o,q$),c=NB(i,n,a);if(l)return TB(c,l);return c}(n,t.input,c):EB(c),p=await async function(e,t,n,r){let{networkCaptureBodies:s,networkResponseHeaders:i}=t;if(!e&&void 0!==r)return EB(r);const o=n?IB(n.headers,i):{};if(!n||!s&&void 0!==r)return NB(o,r,void 0);const[a,l]=await async function(e){const t=function(e){try{return e.clone()}catch(t){U$&&q$.exception(t,"Failed to clone response body")}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=IO((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(U$&&q$.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(U$&&q$.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}(n),c=function(e,t){let{networkCaptureBodies:n,responseBodySize:r,captureDetails:s,headers:i}=t;try{const t=e?.length&&void 0===r?_B(e):r;return s?NB(i,t,n?e:void 0):EB(t)}catch(o){return U$&&q$.exception(o,"Failed to serialize response body"),NB(i,r,void 0)}}(a,{networkCaptureBodies:s,responseBodySize:r,captureDetails:e,headers:o});if(l)return TB(c,l);return c}(d,n,t.response,u);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:l,request:h,response:p}}(e,t,n),s=CB("resource.fetch",r);kB(n.replay,s)}catch(r){U$&&q$.exception(r,"Failed to capture fetch breadcrumb")}}function IB(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function RB(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?IB(n,t):Array.isArray(n)?{}:AB(n,t):{}}async function OB(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:h}=e.data;if(!l)return null;if(!a||!PB(l,n.networkDetailAllowUrls)||PB(l,n.networkDetailDenyUrls)){return{startTimestamp:s,endTimestamp:i,url:l,method:c,statusCode:u,request:EB(d),response:EB(h)}}const p=a[MR],f=p?AB(p.request_headers,n.networkRequestHeaders):{},m=AB(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e}),{})}(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?HL(o,q$):[void 0],[v,x]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(nU){t.push(nU)}try{return function(e,t){try{if("string"===typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"===typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return U$&&q$.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return U$&&q$.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(nU){t.push(nU)}return U$&&q$.warn("Failed to get xhr response body",...t),[void 0]}(a):[void 0],b=NB(f,d,g),w=NB(m,h,v);return{startTimestamp:s,endTimestamp:i,url:l,method:c,statusCode:u,request:y?TB(b,y):b,response:x?TB(w,x):w}}(e,t,n),s=CB("resource.xhr",r);kB(n.replay,s)}catch(r){U$&&q$.exception(r,"Failed to capture xhr breadcrumb")}}function DB(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=_B(r),i=n.getResponseHeader("content-length")?jB(n.getResponseHeader("content-length")):function(e,t){try{return _B("json"===t&&e&&"object"===typeof e?JSON.stringify(e):e)}catch{return}}(n.response,n.responseType);void 0!==s&&(e.data.request_body_size=s),void 0!==i&&(e.data.response_body_size=i)}function LB(e){const t=Os();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e?.xhr}(n)&&(DB(t,n),OB(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e?.response}(n)&&(!function(e,t){const{input:n,response:r}=t,s=_B(n?VL(n):void 0),i=r?jB(r.headers.get("content-length")):void 0;void 0!==s&&(e.data.request_body_size=s),void 0!==i&&(e.data.response_body_size=i)}(t,n),MB(t,n,e))}catch(nU){U$&&q$.exception(nU,"Error when enriching network breadcrumb")}}(a,e,t)))}catch{}}function FB(e,t){let{autoFlushOnFeedback:n}=t;const r=Os();NR(N$(e)),DR(SB(e)),yB(e),LB(e);const s=bB(e);var i;i=s,Is().addEventProcessor(i),r&&(r.on("beforeSendEvent",gB(e)),r.on("afterSendEvent",mB(e)),r.on("createDsc",(t=>{const n=e.getSessionId();if(n&&e.isEnabled()&&"session"===e.recordingMode){e.checkAndHandleExpiredSession()&&(t.replay_id=n)}})),r.on("spanStart",(t=>{e.lastActiveSpan=t})),r.on("spanEnd",(t=>{e.lastActiveSpan=t})),r.on("beforeSendFeedback",(async(t,r)=>{const s=e.getSessionId();r?.includeReplay&&e.isEnabled()&&s&&t.contexts?.feedback&&("api"===t.contexts.feedback.source&&n&&await e.flush(),t.contexts.feedback.replay_id=s)})),n&&r.on("openFeedbackWidget",(async()=>{await e.flush()})))}function zB(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}const $B=wr.navigator;function BB(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(U$&&q$.warn("Received replay event after session expired."));const s=r||!t;t=!0,e.clickDetector&&_$(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&s&&e.setInitialState(),!cB(e,n,s))return!0;if(!s)return!1;const t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;cB(e,function(e){const t=e.getOptions();return{type:xz.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,s),"buffer"===e.recordingMode&&t&&e.eventBuffer){const n=e.eventBuffer.getEarliestTimestamp();n&&(U$&&q$.info(`Updating session start time to earliest event in buffer to ${new Date(n)}`),t.started=n,e.getOptions().stickySession&&rB(t))}return t?.previousSessionId||"session"===e.recordingMode&&e.flush(),!0}))}}async function UB(e){let{recordingData:t,replayId:n,segmentId:r,eventContext:s,timestamp:i,session:o}=e;const a=function(e){let t,{recordingData:n,headers:r}=e;const s=`${JSON.stringify(r)}\n`;if("string"===typeof n)t=`${s}${n}`;else{const e=(new TextEncoder).encode(s);t=new Uint8Array(e.length+n.length),t.set(e),t.set(n,e.length)}return t}({recordingData:t,headers:{segment_id:r}}),{urls:l,errorIds:c,traceIds:u,initialTimestamp:d}=s,h=Os(),p=Ms(),f=h?.getTransport(),m=h?.getDsn();if(!h||!f||!m||!o.sampled)return $s({});const g={type:"replay_event",replay_start_timestamp:d/1e3,timestamp:i/1e3,error_ids:c,trace_ids:u,urls:l,replay_id:n,segment_id:r,replay_type:o.sampled},y=await async function(e){let{client:t,scope:n,replayId:r,event:s}=e;const i={event_id:r,integrations:"object"!==typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations)};t.emit("preprocessEvent",s,i);const o=await eo(t.getOptions(),s,i,n,t,Is());if(!o)return null;t.emit("postprocessEvent",o,i),o.platform=o.platform||"javascript";const a=t.getSdkMetadata(),{name:l,version:c}=a?.sdk||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},o}({scope:p,client:h,replayId:n,event:g});if(!y)return h.recordDroppedEvent("event_processor","replay"),U$&&q$.info("An event processor returned `null`, will not send event."),$s({});delete y.sdkProcessingMetadata;const v=function(e,t,n,r){return LI(KI(e,qI(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"===typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(y,a,m,h.getOptions().tunnel);let x;try{x=await f.send(v)}catch(sU){const t=new Error(QL);try{t.cause=sU}catch{}throw t}if("number"===typeof x.statusCode&&(x.statusCode<200||x.statusCode>=300))throw new WB(x.statusCode);const b=DO({},x);if(OO(b,"replay"))throw new HB(b);return x}class WB extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class HB extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function VB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{count:0,interval:5e3};const{recordingData:n,onError:r}=e;if(n.length)try{return await UB(e),!0}catch(sU){if(sU instanceof WB||sU instanceof HB)throw sU;if(io("Replays",{_retryCount:t.count}),r&&r(sU),t.count>=3){const e=new Error(`${QL} - max retries exceeded`);try{e.cause=sU}catch{}throw e}return t.interval*=++t.count,new Promise(((r,s)=>{IO((async()=>{try{await VB(e,t),r(!0)}catch(n){s(n)}}),t.interval)}))}}const qB="__THROTTLED";function KB(e,t,n){const r=new Map;let s=!1;return function(){const i=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(i),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=s;return s=!0,e?"__SKIPPED":qB}s=!1;const o=r.get(i)||0;return r.set(i,o+1),e(...arguments)}}class QB{constructor(e){let{options:t,recordingOptions:n}=e;this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=function(e,t,n){let r,s,i;const o=n?.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),r=e(),r}function l(){void 0!==s&&clearTimeout(s),void 0!==i&&clearTimeout(i),s=i=void 0}function c(){return s&&clearTimeout(s),s=IO(a,t),o&&void 0===i&&(i=IO(a,o)),r}return c.cancel=l,c.flush=function(){return void 0!==s||void 0!==i?a():r},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=KB(((e,t)=>function(e,t,n){return dB(e,t)?uB(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(3e3,r),timeout:r,scrollTimeout:300,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new w$(this,i)),U$){const e=t._experiments;q$.setConfig({captureExceptions:!!e.captureExceptions,traceInternals:!!e.traceInternals})}this._handleVisibilityChange=()=>{"visible"===qL.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const e=j$({category:"ui.blur"});this._doChangeToBackgroundTasks(e)},this._handleWindowFocus=()=>{const e=j$({category:"ui.focus"});this._doChangeToForegroundTasks(e)},this._handleKeyboardEvent=e=>{P$(this,e)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}handleException(e){U$&&q$.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",U$&&q$.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()):U$&&q$.exception(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(U$&&q$.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(U$&&q$.info("Buffering is in progress, call `flush()` to save the replay"));U$&&q$.infoTick("Starting replay in session mode"),this._updateUserActivity();const e=lB({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(U$&&q$.info("Buffering is in progress, call `flush()` to save the replay"));U$&&q$.infoTick("Starting replay in buffer mode");const e=lB({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=c$({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:BB(this),.../iPhone|iPad|iPod/i.test($B?.userAgent??"")||/Macintosh/i.test($B?.userAgent??"")&&$B?.maxTouchPoints&&$B?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{},onMutation:this._onMutationHandler.bind(this),...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(sU){this.handleException(sU)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(sU){return this.handleException(sU),!1}}async stop(){let{forceFlush:e=!1,reason:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._isEnabled){this._isEnabled=!1;try{U$&&q$.info("Stopping Replay"+(t?` triggered by ${t}`:"")),xB(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,eB(this)}catch(sU){this.handleException(sU)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),U$&&q$.info("Pausing replay"))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),U$&&q$.info("Resuming replay"))}async sendBufferedReplayOrFlush(){let{continueRecording:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();U$&&q$.info("Converting buffer to session"),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session?.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&iB(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${qL.location.pathname}${qL.location.hash}${qL.location.search}`,t=`${qL.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===qB){const e=j$({category:"replay.throttled"});this.addUpdate((()=>!cB(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastActiveSpan||Hi(),t=e&&Wi(e),n=(t&&Di(t).data||{})[ii];if(t&&n&&["route","custom"].includes(n))return Di(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=J$({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=lB({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!aB(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{qL.document.addEventListener("visibilitychange",this._handleVisibilityChange),qL.addEventListener("blur",this._handleWindowBlur),qL.addEventListener("focus",this._handleWindowFocus),qL.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(FB(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(sU){this.handleException(sU)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){let{entries:n}=e;n.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(PD(e,n))})),r.push(ED(I$(D$,e)),CD(I$(F$,e)),ND(I$(z$,e)),AD(I$($$,e))),()=>{r.forEach((e=>e()))}}(this)}_removeListeners(){try{qL.document.removeEventListener("visibilitychange",this._handleVisibilityChange),qL.removeEventListener("blur",this._handleWindowBlur),qL.removeEventListener("focus",this._handleWindowFocus),qL.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(sU){this.handleException(sU)}}_doChangeToBackgroundTasks(e){if(!this.session)return;oB(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):U$&&q$.info("Document has become active, but session has expired")}_updateUserActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}_updateSessionActivity(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:xz.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){let e=(t=this.performanceEntries,t.map(R$).filter(Boolean)).concat(this.replayPerformanceEntries);var t;if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const t=this._context.initialTimestamp/1e3;e=e.filter((e=>e.start>=t))}return Promise.all(wB(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer?.hasEvents&&(await async function(e){try{return Promise.all(wB(e,[zB(qL.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await VB({replayId:e,recordingData:s,segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:e=>this.handleException(e)})}catch(sU){this.handleException(sU),this.stop({reason:"sendReplay"});const t=Os();if(t){const n=sU instanceof HB?"ratelimit_backoff":"send_error";t.recordDroppedEvent(n,"replay")}}}else U$&&q$.error("No session or eventBuffer found to flush.")}async _flush(){let{force:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(U$&&q$.error("Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,s=n>this._options.maxReplayDuration+5e3;if(r||s)return U$&&q$.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),void(r&&this._debouncedFlush());const i=this.eventBuffer;i&&0===this.session.segmentId&&!i.hasCheckout&&U$&&q$.info("Flushing initial segment without checkout.");const o=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(sU){this.handleException(sU)}finally{this._flushLock=void 0,o&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&rB(this.session)}_onMutationHandler(e){const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=j$({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}function YB(e,t){return[...e,...t].join(",")}const GB='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',XB=["content-length","content-type","accept"];let JB=!1;class ZB{constructor(){let{flushMinDelay:e=YL,flushMaxDelay:t=GL,minReplayDuration:n=eF,maxReplayDuration:r=tF,stickySession:s=!0,useCompression:i=!0,workerUrl:o,_experiments:a={},maskAllText:l=!0,maskAllInputs:c=!0,blockAllMedia:u=!0,mutationBreadcrumbLimit:d=750,mutationLimit:h=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:f=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:g=[],networkCaptureBodies:y=!0,networkRequestHeaders:v=[],networkResponseHeaders:x=[],mask:b=[],maskAttributes:w=["title","placeholder"],unmask:S=[],block:k=[],unblock:_=[],ignore:j=[],maskFn:T,beforeAddRecordingEvent:C,beforeErrorSampling:E,onError:N}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="Replay";const A=function(e){let{mask:t,unmask:n,block:r,unblock:s,ignore:i}=e;return{maskTextSelector:YB(t,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:YB(n,[]),blockSelector:YB(r,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:YB(s,[]),ignoreSelector:YB(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:b,unmask:S,block:k,unblock:_,ignore:j});if(this._recordingOptions={maskAllInputs:c,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:T,maskInputFn:T,maskAttributeFn:(e,t,n)=>function(e){let{el:t,key:n,maskAttributes:r,maskAllText:s,privacyOptions:i,value:o}=e;return s?i.unmaskTextSelector&&t.matches(i.unmaskTextSelector)?o:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o}({maskAttributes:w,maskAllText:l,privacyOptions:A,key:e,value:t,el:n}),...A,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(t){}},recordCrossOriginIframes:Boolean(a.recordCrossOriginIframes)},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,tF),stickySession:s,useCompression:i,workerUrl:o,blockAllMedia:u,maskAllInputs:c,maskAllText:l,mutationBreadcrumbLimit:d,mutationLimit:h,slowClickTimeout:p,slowClickIgnoreSelectors:f,networkDetailAllowUrls:m,networkDetailDenyUrls:g,networkCaptureBodies:y,networkRequestHeaders:eU(v),networkResponseHeaders:eU(x),beforeAddRecordingEvent:C,beforeErrorSampling:E,onError:N,_experiments:a},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${GB}`:GB),this._isInitialized&&UL())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return JB}set _isInitialized(e){JB=e}afterAllSetup(e){UL()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay?.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){const t=function(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...cs(e)},s=Ti(n.replaysSessionSampleRate),i=Ti(n.replaysOnErrorSampleRate);null==s&&null==i&&Gr((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));null!=s&&(r.sessionSampleRate=s);null!=i&&(r.errorSampleRate=i);return r}(this._initialOptions,e);this._replay=new QB({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{const t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch{}}}function eU(e){return[...XB,...e.map((e=>e.toLowerCase()))]}var tU;!function(e){const t={...e};eR(t,"react"),io("react",{version:s.version}),zO(t)}({dsn:"https://29d061acd18e1624db8a9568c5bad1f7@o4508284553396224.ingest.us.sentry.io/4508284556345344",enabled:!0,debug:!0,sendDefaultPii:!0,integrations:[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=fR.document;bL||(bL=!0,aO(wL),uO(wL));const{enableInp:n,enableLongTask:r,enableLongAnimationFrame:s,_experiments:{enableInteractions:i,enableStandaloneClsSpans:o},beforeStartSpan:a,idleTimeout:l,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:d,traceFetch:h,traceXHR:p,trackFetchStreamPerformance:f,shouldCreateSpanForRequest:m,enableHTTPTimings:g,instrumentPageLoad:y,instrumentNavigation:v,linkPreviousTrace:x}={...RL,...e},b=uL({recordClsStandaloneSpans:o||!1});n&&gL(),s&&wr.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver((e=>{const t=Hi();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const e=rL(Er()+n.startTime),{start_timestamp:r,op:s}=Di(t);if("navigation"===s&&r&&e<r)continue;const i=rL(n.duration),o={[li]:"auto.ui.browser.metrics"},a=n.scripts[0],{invoker:l,invokerType:c,sourceURL:u,sourceFunctionName:d,sourceCharPosition:h}=a;o["browser.script.invoker"]=l,o["browser.script.invoker_type"]=c,u&&(o["code.filepath"]=u),d&&(o["code.function"]=d),-1!==h&&(o["browser.script.source_char_position"]=h),eL(t,e,e+i,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:o})}})).observe({type:"long-animation-frame",buffered:!0}):r&&PD("longtask",(e=>{let{entries:t}=e;const n=Hi();if(!n)return;const{op:r,start_timestamp:s}=Di(n);for(const i of t){const e=rL(Er()+i.startTime),t=rL(i.duration);"navigation"===r&&s&&e<s||eL(n,e,e+t,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[li]:"auto.ui.browser.metrics"}})}})),i&&PD("event",(e=>{let{entries:t}=e;const n=Hi();if(n)for(const r of t)if("click"===r.name){const e=rL(Er()+r.startTime),t=rL(r.duration),s={name:Wr(r.target),op:`ui.interaction.${r.name}`,startTime:e,attributes:{[li]:"auto.ui.browser.metrics"}},i=qr(r.target);i&&(s.attributes["ui.component_name"]=i),eL(n,e,e+t,s)}}));const w={name:void 0,source:void 0};function S(e,n){const r="pageload"===n.op,s=a?a(n):n,i=s.attributes||{};n.name!==s.name&&(i[ii]="custom",s.attributes=i),w.name=s.name,w.source=i[ii];const d=xL(s,{idleTimeout:l,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:r,beforeSpanEnd:t=>{b(),dL(t,{recordClsOnPageloadSpan:!o}),FL(e,void 0);const n=Ms(),r=n.getPropagationContext();n.setPropagationContext({...r,traceId:d.spanContext().traceId,sampled:Li(d),dsc:Gi(t)})}});function h(){t&&["interactive","complete"].includes(t.readyState)&&e.emit("idleSpanEnableAutoFinish",d)}FL(e,d),r&&t&&(t.addEventListener("readystatechange",(()=>{h()})),h())}return{name:"BrowserTracing",afterAllSetup(e){let t=Vr();function r(){const t=LL(e);t&&!Di(t).timestamp&&(xR&&Xr.log(`[Tracing] Finishing current active span with op: ${Di(t).op}`),t.end())}if(e.on("startNavigationSpan",(t=>{Os()===e&&(r(),Is().setPropagationContext({traceId:xs(),sampleRand:Math.random()}),Ms().setPropagationContext({traceId:xs(),sampleRand:Math.random()}),S(e,{op:"navigation",...t}))})),e.on("startPageLoadSpan",(function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Os()!==e)return;r();const s=Ei(n.sentryTrace||OL("sentry-trace"),n.baggage||OL("baggage"));Ms().setPropagationContext(s),S(e,{op:"pageload",...t})})),"off"!==x){let t;e.on("spanStart",(e=>{if(Wi(e)===e)if("session-storage"===x){!function(e){try{fR.sessionStorage.setItem(ML,JSON.stringify(e))}catch(nU){xR&&Xr.warn("Could not store previous trace in sessionStorage",nU)}}(IL(function(){try{const e=fR.sessionStorage?.getItem(ML);return JSON.parse(e)}catch(nU){return}}(),e))}else t=IL(t,e)}))}if(fR.location){if(y){const t=Er();!function(e,t,n){e.emit("startPageLoadSpan",t,n),Ms().setTransactionName(t.name),LL(e)}(e,{name:fR.location.pathname,startTime:t?t/1e3:void 0,attributes:{[ii]:"url",[li]:"auto.pageload.browser"}})}v&&DR((n=>{let{to:r,from:s}=n;void 0!==s||-1===t?.indexOf(r)?s!==r&&(t=void 0,function(e,t){e.emit("startNavigationSpan",t),Ms().setTransactionName(t.name),LL(e)}(e,{name:fR.location.pathname,attributes:{[ii]:"url",[li]:"auto.navigation.browser"}})):t=void 0}))}d&&(fR.document?fR.document.addEventListener("visibilitychange",(()=>{const e=Hi();if(!e)return;const t=Wi(e);if(fR.document.hidden&&t){const e="cancelled",{op:n,status:r}=Di(t);xR&&Xr.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),r||t.setStatus({code:2,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}})):xR&&Xr.warn("[Tracing] Could not set up background tab detection due to lack of global document")),i&&function(e,t,n,r,s){const i=fR.document;let o;const a=()=>{const i="ui.action.click",a=LL(e);if(a){const e=Di(a).op;if(["navigation","pageload"].includes(e))return void(xR&&Xr.warn(`[Tracing] Did not create ${i} span because a pageload or navigation span is in progress.`))}o&&(o.setAttribute(ci,"interactionInterrupted"),o.end(),o=void 0),s.name?o=xL({name:s.name,op:i,attributes:{[ii]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r}):xR&&Xr.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`)};i&&addEventListener("click",a,{once:!1,capture:!0})}(e,l,c,u,w),n&&function(){const e=e=>{let{entries:t}=e;const n=Hi(),r=n&&Wi(n);t.forEach((e=>{if(!function(e){return"duration"in e}(e)||!r)return;const t=e.interactionId;if(null!=t&&!mL.has(t)){if(fL.length>10){const e=fL.shift();mL.delete(e)}fL.push(t),mL.set(t,r)}}))};PD("event",e),PD("first-input",e)}(),EL(e,{traceFetch:h,traceXHR:p,trackFetchStreamPerformance:f,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:m,enableHTTPTimings:g})}}}(),(tU={maskAllText:!1,blockAllMedia:!0,beforeAddRecordingEvent:e=>window.location.pathname.startsWith("/admin")?null:e},new ZB(tU))],replaysSessionSampleRate:1,replaysOnErrorSampleRate:1,tracesSampleRate:1});o.createRoot(document.getElementById("root")).render((0,No.jsx)(s.StrictMode,{children:(0,No.jsx)(cI,{})}))})()})();
//# sourceMappingURL=main.beacbb84.js.map